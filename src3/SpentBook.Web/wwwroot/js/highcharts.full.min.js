/**
 * @license Highcharts JS v4.2.3 (2016-02-08)
 *
 * (c) 2009-2016 Torstein Honsi
 *
 * License: www.highcharts.com/license
 */
(function(n,t){typeof module=="object"&&module.exports?module.exports=n.document?t(n):t:n.Highcharts=t(n)})(typeof window!="undefined"?window:this,function(n){function oi(t,i){var r="Highcharts error #"+t+": www.highcharts.com/errors/"+t;if(i)throw new Error(r);n.console&&console.log(r)}function kf(n,t,i){this.options=t;this.elem=n;this.prop=i}function l(){var t,n=arguments,r,i={},u=function(n,t){var r,i;typeof n!="object"&&(n={});for(i in t)t.hasOwnProperty(i)&&(r=t[i],n[i]=r&&typeof r=="object"&&Object.prototype.toString.call(r)!=="[object Array]"&&i!=="renderTo"&&typeof r.nodeType!="number"?u(n[i]||{},r):t[i]);return n};for(n[0]===!0&&(i=n[1],n=Array.prototype.slice.call(n,2)),r=n.length,t=0;t<r;t++)i=u(i,n[t]);return i}function a(n,t){return parseInt(n,t||10)}function fr(n){return typeof n=="string"}function yt(n){return n&&typeof n=="object"}function pr(n){return Object.prototype.toString.call(n)==="[object Array]"}function hi(n){return typeof n=="number"}function hr(n){return lt.log(n)/lt.LN10}function ci(n){return lt.pow(10,n)}function li(n,t){for(var i=n.length;i--;)if(n[i]===t){n.splice(i,1);break}}function r(n){return n!==o&&n!==null}function tt(n,t,i){var u,f;if(fr(t))r(i)?n.setAttribute(t,i):n&&n.getAttribute&&(f=n.getAttribute(t));else if(r(t)&&yt(t))for(u in t)n.setAttribute(u,t[u]);return f}function pi(n){return pr(n)?n:[n]}function nu(n,t,i){if(t)return setTimeout(n,t,i);n.call(0,i)}function y(n,t){gi&&!wt&&t&&t.opacity!==o&&(t.filter="alpha(opacity="+t.opacity*100+")");f(n.style,t)}function pt(n,t,i,r,u){var e=h.createElement(n);return t&&f(e,t),u&&y(e,{padding:0,border:"none",margin:0}),i&&y(e,i),r&&r.appendChild(e),e}function ai(n,t){var i=function(){};return i.prototype=new n,f(i.prototype,t),i}function wr(n,t){return new Array((t||2)+1-String(n).length).join(0)+n}function de(n,t){return/%$/.test(n)?t*parseFloat(n)/100:parseFloat(n)}function bu(n){return(vu&&vu(n)||cf||0)*6e4}function ao(n,t){var r=rt.lang,i;return/f$/.test(n)?(i=n.match(/\.([0-9])/),i=i?i[1]:-1,t!==null&&(t=s.numberFormat(t,i,r.decimalPoint,n.indexOf(",")>-1?r.thousandsSep:""))):t=dr(n,t),t}function br(n,t){for(var c="{",r=!1,o,u,s,f,l,e=[],i,h;(h=n.indexOf(c))!==-1;){if(o=n.slice(0,h),r){for(u=o.split(":"),s=u.shift().split("."),l=s.length,i=t,f=0;f<l;f++)i=i[s[f]];u.length&&(i=ao(u.join(":"),i));e.push(i)}else e.push(o);n=n.slice(h+1);r=!r;c=r?"}":"{"}return e.push(n),e.join("")}function df(n){return lt.pow(10,et(lt.log(n)/lt.LN10))}function gf(n,i,r,u,f){var s,e,o=n;for(r=t(r,1),s=n/r,i||(i=[1,2,2.5,5,10],u===!1&&(r===1?i=[1,2,5,10]:r<=.1&&(i=[1/r]))),e=0;e<i.length;e++)if(o=i[e],f&&o*r>=n||!f&&s<=(i[e]+(i[e+1]||i[e]))/2)break;return o*r}function ef(n,t){for(var u=n.length,r,i=0;i<u;i++)n[i].safeI=i;for(n.sort(function(n,i){return r=t(n,i),r===0?n.safeI-i.safeI:r}),i=0;i<u;i++)delete n[i].safeI}function iu(n){for(var t=n.length,i=n[0];t--;)n[t]<i&&(i=n[t]);return i}function cr(n){for(var t=n.length,i=n[0];t--;)n[t]>i&&(i=n[t]);return i}function ru(n,t){for(var i in n)n[i]&&n[i]!==t&&n[i].destroy&&n[i].destroy(),delete n[i]}function uu(n){rf||(rf=pt(ar));n&&rf.appendChild(n);rf.innerHTML=""}function ni(n,t){return parseFloat(n.toPrecision(t||14))}function fu(n,i){i.renderer.globalAnimation=t(n,i.animation)}function ge(){var f=rt.global,u=f.useUTC,r=u?"getUTC":"get",i=u?"setUTC":"set";ei=f.Date||n.Date;cf=u&&f.timezoneOffset;vu=u&&f.getTimezoneOffset;ff=function(n,i,r,f,e,o){var s;return u?(s=ei.UTC.apply(0,arguments),s+=bu(s)):s=new ei(n,i,t(r,1),t(f,0),t(e,0),t(o,0)).getTime(),s};lf=r+"Minutes";af=r+"Hours";vf=r+"Day";yu=r+"Date";pu=r+"Month";wu=r+"FullYear";pe=i+"Milliseconds";we=i+"Seconds";be=i+"Minutes";ke=i+"Hours";yf=i+"Date";pf=i+"Month";wf=i+"FullYear"}function vo(n){return rt=l(!0,rt,n),ge(),rt}function yo(){return rt}function ri(n){if(!(this instanceof ri))return new ri(n);this.init(n)}function it(){}function po(n,t){var r=h.getElementsByTagName("head")[0],i=h.createElement("script");i.type="text/javascript";i.src=n;i.onload=t;r.appendChild(i)}function ou(n,t,i,r){this.axis=n;this.pos=t;this.type=i||"";this.isNew=!0;i||r||this.addLabel()}function ro(n,i,r,u,f){var e=n.chart.inverted;this.axis=n;this.isNegative=r;this.options=i;this.x=u;this.total=null;this.points={};this.stack=f;this.leftCliff=0;this.rightCliff=0;this.alignOptions={align:i.align||(e?r?"left":"right":"center"),verticalAlign:i.verticalAlign||(e?"middle":r?"bottom":"top"),y:t(i.y,e?4:r?14:-6),x:t(i.x,e?r?-6:6:0)};this.textAlign=i.textAlign||(e?r?"right":"left":"center")}var o,h=n.document,lt=Math,e=lt.round,et=lt.floor,vi=lt.ceil,u=lt.max,c=lt.min,g=lt.abs,st=lt.cos,vt=lt.sin,ui=lt.PI,dt=ui/180,di=n.navigator&&n.navigator.userAgent||"",se=n.opera,gi=/(msie|trident|edge)/i.test(di)&&!se,nf=h&&h.documentMode===8,tf=!gi&&/AppleWebKit/.test(di),lr=/Firefox/.test(di),he=/(Mobile|Android|Windows Phone)/.test(di),or="http://www.w3.org/2000/svg",wt=h&&h.createElementNS&&!!h.createElementNS(or,"svg").createSVGRect,so=lr&&parseInt(di.split("Firefox/")[1],10)<4,gt=h&&!wt&&!gi&&!!h.createElement("canvas").getContext,cu,lu,ce={},hf=0,rf,rt,dr,ho,v,nr=function(){},ut=[],au=0,le="Highcharts",ae="4.2.3",ar="div",yi="absolute",ve="relative",tr="hidden",ft="highcharts-",sr="visible",p="px",ot="none",ht="M",nt="L",co=/^[0-9]+$/,bt="",fi="hover",ir="select",uf=["plotTop","marginRight","marginBottom","plotLeft"],ye,lo="stroke-width",ei,ff,cf,vu,lf,af,vf,yu,pu,wu,pe,we,be,ke,yf,pf,wf,k={},s,rr,ii,si,i,vr,bf,ur,b,ct,w,gr,yr,f,t,tu,at,eu,wi,ne,bi,no,te,to,ti,ie,kt,kr,ku,su,hu,io,er,d,uo,fe,ee,du,fo,of,eo,oe,oo,sf,gu;if(s=n.Highcharts?oi(16,!0):{win:n},s.seriesTypes=k,rr=[],kf.prototype={dSetter:function(){var r=this.paths[0],u=this.paths[1],t=[],f=this.now,n=r.length,i;if(f===1)t=this.toD;else if(n===u.length&&f<1)while(n--)i=parseFloat(r[n]),t[n]=isNaN(i)?r[n]:f*parseFloat(u[n]-i)+i;else t=u;this.elem.attr("d",t)},update:function(){var n=this.elem,t=this.prop,i=this.now,r=this.options.step;this[t+"Setter"]?this[t+"Setter"]():n.attr?n.element&&n.attr(t,i):n.style[t]=i+this.unit;r&&r.call(n,i,this)},run:function(n,t,i){var f=this,r=function(n){return r.stopped?!1:f.step(n)},u;this.startTime=+new ei;this.start=n;this.end=t;this.unit=i;this.now=this.start;this.pos=0;r.elem=this.elem;r()&&rr.push(r)===1&&(r.timerId=setInterval(function(){for(u=0;u<rr.length;u++)rr[u]()||rr.splice(u--,1);rr.length||clearInterval(r.timerId)},13))},step:function(n){var e=+new ei,t,r,i=this.options,u=this.elem,o=i.complete,s=i.duration,f=i.curAnim,h;if(u.attr&&!u.element)t=!1;else if(n||e>=s+this.startTime){this.now=this.end;this.pos=1;this.update();f[this.prop]=!0;r=!0;for(h in f)f[h]!==!0&&(r=!1);r&&o&&o.call(u);t=!1}else this.pos=i.easing((e-this.startTime)/s),this.now=this.start+(this.end-this.start)*this.pos,this.update(),t=!0;return t},initPath:function(n,t,i){t=t||"";var c=n.shift,s=t.indexOf("C")>-1,u=s?7:3,l,o,f,e=t.split(" "),r=[].concat(i),a=n.isArea,h=a?2:1,v=function(n){for(f=n.length;f--;)(n[f]===ht||n[f]===nt)&&n.splice(f+1,0,n[f+1],n[f+2],n[f+1],n[f+2])};if(s&&(v(e),v(r)),c<=r.length/u&&e.length===r.length)while(c--)r=r.slice(0,u).concat(r),a&&(r=r.concat(r.slice(r.length-u)));if(n.shift=0,e.length)for(l=r.length;e.length<l;)o=e.slice().splice(e.length/h-u,u*h),s&&(o[u-6]=o[u-2],o[u-5]=o[u-1]),[].splice.apply(e,[e.length/h,0].concat(o));return[e,r]}},f=s.extend=function(n,t){var i;n||(n={});for(i in t)n[i]=t[i];return n},t=s.pick=function(){for(var i=arguments,t,r=i.length,n=0;n<r;n++)if(t=i[n],t!==o&&t!==null)return t},tu=s.wrap=function(n,t,i){var r=n[t];n[t]=function(){var n=Array.prototype.slice.call(arguments);return n.unshift(r),i.apply(this,n)}},dr=function(n,i,u){if(!r(i)||isNaN(i))return rt.lang.invalidDate||"";n=t(n,"%Y-%m-%d %H:%M:%S");var o=new ei(i-bu(i)),h,c=o[af](),a=o[vf](),p=o[yu](),v=o[pu](),w=o[wu](),y=rt.lang,b=y.weekdays,l=f({a:b[a].substr(0,3),A:b[a],d:wr(p),e:p,w:a,b:y.shortMonths[v],B:y.months[v],m:wr(v+1),y:w.toString().substr(2,2),Y:w,H:wr(c),k:c,I:wr(c%12||12),l:c%12||12,M:wr(o[lf]()),p:c<12?"AM":"PM",P:c<12?"am":"pm",S:wr(o.getSeconds()),L:wr(e(i%1e3),3)},s.dateFormats);for(h in l)while(n.indexOf("%"+h)!==-1)n=n.replace("%"+h,typeof l[h]=="function"?l[h](i):l[h]);return u?n.substr(0,1).toUpperCase()+n.substr(1):n},v={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},s.numberFormat=function(n,i,r,u){n=+n||0;var s=rt.lang,h=(n.toString().split(".")[1]||"").length,c,f,o,l=Math.abs(n),e;return i===-1?i=Math.min(h,20):isNaN(i)&&(i=2),f=String(a(l.toFixed(i))),o=f.length>3?f.length%3:0,r=t(r,s.decimalPoint),u=t(u,s.thousandsSep),e=n<0?"-":"",e+=o?f.substr(0,o)+u:"",e+=f.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+u),+i&&(c=Math.abs(l-f+Math.pow(10,-Math.max(i,h)-1)),e+=r+c.toFixed(i).slice(2)),e},Math.easeInOutSine=function(n){return-.5*(Math.cos(Math.PI*n)-1)},ii=function(t,i){var r;return i==="width"?Math.min(t.offsetWidth,t.scrollWidth)-ii(t,"padding-left")-ii(t,"padding-right"):i==="height"?Math.min(t.offsetHeight,t.scrollHeight)-ii(t,"padding-top")-ii(t,"padding-bottom"):(r=n.getComputedStyle(t,undefined),r&&a(r.getPropertyValue(i)))},si=function(n,t){return t.indexOf?t.indexOf(n):[].indexOf.call(t,n)},vr=function(n,t){return[].filter.call(n,t)},ur=function(n,t){for(var r=[],i=0,u=n.length;i<u;i++)r[i]=t.call(n[i],n[i],i,n);return r},bf=function(t){var i=h.documentElement,r=t.getBoundingClientRect();return{top:r.top+(n.pageYOffset||i.scrollTop)-(i.clientTop||0),left:r.left+(n.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}},yr=function(n){for(var t=rr.length;t--;)rr[t].elem===n&&(rr[t].stopped=!0)},i=function(n,t){return Array.prototype.forEach.call(n,t)},b=function(t,i,r){function f(i){i.target=i.srcElement||n;r.call(t,i)}var u=t.hcEvents=t.hcEvents||{};t.addEventListener?t.addEventListener(i,r,!1):t.attachEvent&&(t.hcEventsIE||(t.hcEventsIE={}),t.hcEventsIE[r.toString()]=f,t.attachEvent("on"+i,f));u[i]||(u[i]=[]);u[i].push(r)},ct=function(n,t,i){function e(t,i){n.removeEventListener?n.removeEventListener(t,i,!1):n.attachEvent&&(i=n.hcEventsIE[i.toString()],n.detachEvent("on"+t,i))}function o(){var u,f,i;if(n.nodeName){t?(u={},u[t]=!0):u=r;for(i in u)if(r[i])for(f=r[i].length;f--;)e(i,r[i][f])}}var u,r=n.hcEvents,f;r&&(t?(u=r[t]||[],i?(f=si(i,u),f>-1&&(u.splice(f,1),r[t]=u),e(t,i)):(o(),r[t]=[])):(o(),n.hcEvents={}))},w=function(n,t,i,r){var u,s=n.hcEvents,o,c,e,l,a;if(i=i||{},h.createEvent&&(n.dispatchEvent||n.fireEvent))u=h.createEvent("Events"),u.initEvent(t,!0,!0),u.target=n,f(u,i),n.dispatchEvent?n.dispatchEvent(u):n.fireEvent(t,u);else if(s)for(o=s[t]||[],c=o.length,l=function(){i.defaultPrevented=!0},e=0;e<c;e++){if(a=o[e],i.stopped)return;i.preventDefault=l;i.target=n;i.type||(i.type=t);a.call(n,i)===!1&&i.preventDefault()}r&&!i.defaultPrevented&&r(i)},gr=function(n,t,i){var e,s="",r,f,o,u;yt(i)||(o=arguments,i={duration:o[2],easing:o[3],complete:o[4]});hi(i.duration)||(i.duration=400);i.easing=Math[i.easing]||Math.easeInOutSine;i.curAnim=l(t);for(u in t)f=new kf(n,i,u),r=null,u==="d"?(f.paths=f.initPath(n,n.d,t.d),f.toD=t.d,e=0,r=1):n.attr?e=n.attr(u):(e=parseFloat(ii(n,u))||0,u!=="opacity"&&(s="px")),r||(r=t[u]),r.match&&r.match("px")&&(r=r.replace(/px/g,"")),f.run(e,r,s)},n.jQuery&&(n.jQuery.fn.highcharts=function(){var n=[].slice.call(arguments);if(this[0])return n[0]?(new s[fr(n[0])?n.shift():"Chart"](this[0],n[0],n[1]),this):ut[tt(this[0],"data-highcharts-chart")]}),h&&!h.defaultView&&(ii=function(n,t){var i,r={width:"clientWidth",height:"clientHeight"}[t];return n.style[t]?a(n.style[t]):(t==="opacity"&&(t="filter"),r)?(n.style.zoom=1,n[r]-2*ii(n,"padding")):(i=n.currentStyle[t.replace(/\-(\w)/g,function(n,t){return t.toUpperCase()})],t==="filter"&&(i=i.replace(/alpha\(opacity=([0-9]+)\)/,function(n,t){return t/100})),i===""?1:a(i))}),Array.prototype.forEach||(i=function(n,t){for(var i=0,r=n.length;i<r;i++)if(t.call(n[i],n[i],i,n)===!1)return i}),Array.prototype.indexOf||(si=function(n,t){var r,i=0;if(t)for(r=t.length;i<r;i++)if(t[i]===n)return i;return-1}),Array.prototype.filter||(vr=function(n,t){for(var r=[],i=0,u=n.length;i<u;i++)t(n[i],i)&&r.push(n[i]);return r}),s.Fx=kf,s.inArray=si,s.each=i,s.grep=vr,s.offset=bf,s.map=ur,s.addEvent=b,s.removeEvent=ct,s.fireEvent=w,s.animate=gr,s.stop=yr,rt={colors:["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.2.3/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return this.y===null?"":s.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:yi,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:yi,width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:ve,top:"45%"},style:{position:yi,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:wt,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}<\/span><br/>',pointFormat:'<span style="color:{point.color}">●<\/span> {series.name}: <b>{point.y}<\/b><br/>',shadow:!0,snap:he?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}},at=rt.plotOptions,eu=at.line,ge(),ri.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(n){return[a(n[1]),a(n[2]),a(n[3]),parseFloat(n[4],10)]}},{regex:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(n){return[a(n[1],16),a(n[2],16),a(n[3],16),1]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(n){return[a(n[1]),a(n[2]),a(n[3]),1]}}],init:function(n){var t,i,r,u;if(this.input=n,n&&n.stops)this.stops=ur(n.stops,function(n){return new ri(n[1])});else for(r=this.parsers.length;r--&&!i;)u=this.parsers[r],t=u.regex.exec(n),t&&(i=u.parse(t));this.rgba=i||[]},get:function(n){var u=this.input,t=this.rgba,r;return this.stops?(r=l(u),r.stops=[].concat(r.stops),i(this.stops,function(t,i){r.stops[i]=[r.stops[i][0],t.get(n)]})):r=t&&!isNaN(t[0])?n!=="rgb"&&(n||t[3]!==1)?n==="a"?t[3]:"rgba("+t.join(",")+")":"rgb("+t[0]+","+t[1]+","+t[2]+")":u,r},brighten:function(n){var t,r=this.rgba;if(this.stops)i(this.stops,function(t){t.brighten(n)});else if(hi(n)&&n!==0)for(t=0;t<3;t++)r[t]+=a(n*255),r[t]<0&&(r[t]=0),r[t]>255&&(r[t]=255);return this},setOpacity:function(n){return this.rgba[3]=n,this}},it.prototype={opacity:1,textProps:["direction","fontSize","fontWeight","fontFamily","fontStyle","color","lineHeight","width","textDecoration","textOverflow","textShadow"],init:function(n,t){var i=this;i.element=t==="span"?pt(t):h.createElementNS(or,t);i.renderer=n},animate:function(n,i,r){var u=t(i,this.renderer.globalAnimation,!0);return yr(this),u?(u=l(u,{}),r&&(u.complete=r),gr(this,n,u)):this.attr(n,null,r),this},colorGradient:function(n,t,u){var s=this.renderer,y,o,f,p,a,c,v,w,b,k,h,d,e=[],g;if(n.linearGradient?o="linearGradient":n.radialGradient&&(o="radialGradient"),o){f=n[o];a=s.gradients;v=n.stops;k=u.radialReference;pr(f)&&(n[o]=f={x1:f[0],y1:f[1],x2:f[2],y2:f[3],gradientUnits:"userSpaceOnUse"});o==="radialGradient"&&k&&!r(f.gradientUnits)&&(p=f,f=l(f,s.getRadialAttr(k,p),{gradientUnits:"userSpaceOnUse"}));for(h in f)h!=="id"&&e.push(h,f[h]);for(h in v)e.push(v[h]);e=e.join(",");a[e]?d=a[e].attr("id"):(f.id=d=ft+hf++,a[e]=c=s.createElement(o).attr(f).add(s.defs),c.radAttr=p,c.stops=[],i(v,function(n){var t;n[1].indexOf("rgba")===0?(y=ri(n[1]),w=y.get("rgb"),b=y.get("a")):(w=n[1],b=1);t=s.createElement("stop").attr({offset:n[0],"stop-color":w,"stop-opacity":b}).add(c);c.stops.push(t)}));g="url("+s.url+"#"+d+")";u.setAttribute(t,g);u.gradient=e;n.toString=function(){return g}}},applyTextShadow:function(n){var t=this.element,f,s=n.indexOf("contrast")!==-1,r={},e=this.renderer.forExport,h=e||t.style.textShadow!==o&&!gi;s&&(r.textShadow=n=n.replace(/contrast/g,this.renderer.getContrast(t.style.fill)));(tf||e)&&(r.textRendering="geometricPrecision");h?this.css(r):(this.fakeTS=!0,this.ySetter=this.xSetter,f=[].slice.call(t.getElementsByTagName("tspan")),i(n.split(/\s?,\s?/g),function(n){var o=t.firstChild,e,r;n=n.split(" ");e=n[n.length-1];r=n[n.length-2];r&&i(f,function(n,i){var f;i===0&&(n.setAttribute("x",t.getAttribute("x")),i=t.getAttribute("y"),n.setAttribute("y",i||0),i===null&&t.setAttribute("y",0));f=n.cloneNode(1);tt(f,{"class":ft+"text-shadow",fill:e,stroke:e,"stroke-opacity":1/u(a(r),3),"stroke-width":r,"stroke-linejoin":"round"});t.insertBefore(f,o)})}))},attr:function(n,t,i){var r,u,s=this.element,h,c=this,f,e;if(typeof n=="string"&&t!==o&&(r=n,n={},n[r]=t),typeof n=="string")c=(this[n+"Getter"]||this._defaultGetter).call(this,n,s);else{for(r in n)u=n[r],f=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(r)&&(h||(this.symbolAttr(n),h=!0),f=!0),this.rotation&&(r==="x"||r==="y")&&(this.doTransform=!0),f||(e=this[r+"Setter"]||this._defaultSetter,e.call(this,u,r,s),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(r)&&this.updateShadows(r,u,e));this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return i&&i(),c},updateShadows:function(n,t,i){for(var r=this.shadows,u=r.length;u--;)i.call(null,n==="height"?Math.max(t-(r[u].cutHeight||0),0):n==="d"?this.d:t,n,r[u])},addClass:function(n){var t=this.element,i=tt(t,"class")||"";return i.indexOf(n)===-1&&tt(t,"class",i+" "+n),this},symbolAttr:function(n){var r=this;i(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(i){r[i]=t(n[i],r[i])});r.attr({d:r.renderer.symbols[r.symbolName](r.x,r.y,r.width,r.height,r)})},clip:function(n){return this.attr("clip-path",n?"url("+this.renderer.url+"#"+n.id+")":ot)},crisp:function(n){var t=this,i,u={},r,f=t.strokeWidth||0;r=e(f)%2/2;n.x=et(n.x||t.x||0)+r;n.y=et(n.y||t.y||0)+r;n.width=et((n.width||t.width||0)-2*r);n.height=et((n.height||t.height||0)-2*r);n.strokeWidth=f;for(i in n)t[i]!==n[i]&&(t[i]=u[i]=n[i]);return u},css:function(n){var t=this,r=t.styles,e={},o=t.element,u,i,s="",h,c=!r;if(n&&n.color&&(n.fill=n.color),r)for(i in n)n[i]!==r[i]&&(e[i]=n[i],c=!0);if(c){if(u=t.textWidth=n&&n.width&&o.nodeName.toLowerCase()==="text"&&a(n.width)||t.textWidth,r&&(n=f(r,e)),t.styles=n,u&&(gt||!wt&&t.renderer.forExport)&&delete n.width,gi&&!wt)y(t.element,n);else{h=function(n,t){return"-"+t.toLowerCase()};for(i in n)s+=i.replace(/([A-Z])/g,h)+":"+n[i]+";";tt(o,"style",s)}u&&t.added&&t.renderer.buildText(t)}return t},on:function(n,t){var r=this,i=r.element;return lu&&n==="click"?(i.ontouchstart=function(n){r.touchEventFired=ei.now();n.preventDefault();t.call(i,n)},i.onclick=function(n){(di.indexOf("Android")===-1||ei.now()-(r.touchEventFired||0)>1100)&&t.call(i,n)}):i["on"+n]=t,this},setRadialReference:function(n){var t=this.renderer.gradients[this.element.gradient];return this.element.radialReference=n,t&&t.radAttr&&t.animate(this.renderer.getRadialAttr(n,t.radAttr)),this},translate:function(n,t){return this.attr({translateX:n,translateY:t})},invert:function(){var n=this;return n.inverted=!0,n.updateTransform(),n},updateTransform:function(){var n=this,f=n.translateX||0,e=n.translateY||0,o=n.scaleX,s=n.scaleY,h=n.inverted,c=n.rotation,u=n.element,i;h&&(f+=n.attr("width"),e+=n.attr("height"));i=["translate("+f+","+e+")"];h?i.push("rotate(90) scale(-1,1)"):c&&i.push("rotate("+c+" "+(u.getAttribute("x")||0)+" "+(u.getAttribute("y")||0)+")");(r(o)||r(s))&&i.push("scale("+t(o,1)+" "+t(s,1)+")");i.length&&u.setAttribute("transform",i.join(" "))},toFront:function(){var n=this.element;return n.parentNode.appendChild(n),this},align:function(n,i,r){var u,f,s,h,o={},c,l=this.renderer,a=l.alignedObjects;return n?(this.alignOptions=n,this.alignByTranslate=i,(!r||fr(r))&&(this.alignTo=c=r||"renderer",li(a,this),a.push(this),r=null)):(n=this.alignOptions,i=this.alignByTranslate,c=this.alignTo),r=t(r,l[c],l),u=n.align,f=n.verticalAlign,s=(r.x||0)+(n.x||0),h=(r.y||0)+(n.y||0),(u==="right"||u==="center")&&(s+=(r.width-(n.width||0))/{right:1,center:2}[u]),o[i?"translateX":"x"]=e(s),(f==="bottom"||f==="middle")&&(h+=(r.height-(n.height||0))/({bottom:1,middle:2}[f]||1)),o[i?"translateY":"y"]=e(h),this[this.placed?"animate":"attr"](o),this.placed=!0,this.alignAttr=o,this},getBBox:function(n,r){var h=this,u,y=h.renderer,d,c,p,l,s=h.element,w=h.styles,a=h.textStr,nt,b=s.style,v,k=y.cache,tt=y.cacheKeys,e;if(p=t(r,h.rotation),l=p*dt,a!==o&&(e=["",p||0,w&&w.fontSize,s.style.width].join(","),e=a===""||co.test(a)?"num:"+a.toString().length+e:a+e),e&&!n&&(u=k[e]),!u){if(s.namespaceURI===or||y.forExport){try{v=this.fakeTS&&function(n){i(s.querySelectorAll("."+ft+"text-shadow"),function(t){t.style.display=n})};lr&&b.textShadow?(nt=b.textShadow,b.textShadow=""):v&&v(ot);u=s.getBBox?f({},s.getBBox()):{width:s.offsetWidth,height:s.offsetHeight};nt?b.textShadow=nt:v&&v("")}catch(it){}(!u||u.width<0)&&(u={width:0,height:0})}else u=h.htmlGetBBox();if(y.isSVG&&(d=u.width,c=u.height,gi&&w&&w.fontSize==="11px"&&c.toPrecision(3)==="16.9"&&(u.height=c=14),p&&(u.width=g(c*vt(l))+g(d*st(l)),u.height=g(c*st(l))+g(d*vt(l)))),e){while(tt.length>250)delete k[tt.shift()];k[e]||tt.push(e);k[e]=u}}return u},show:function(n){return this.attr({visibility:n?"inherit":sr})},hide:function(){return this.attr({visibility:tr})},fadeOut:function(n){var t=this;t.animate({opacity:0},{duration:n||150,complete:function(){t.attr({y:-9999})}})},add:function(n){var t=this.renderer,r=this.element,i;return n&&(this.parentGroup=n),this.parentInverted=n&&n.inverted,this.textStr!==undefined&&t.buildText(this),this.added=!0,(!n||n.handleZ||this.zIndex)&&(i=this.zIndexSetter()),i||(n?n.element:t.box).appendChild(r),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(n){var t=n.parentNode;t&&t.removeChild(n)},destroy:function(){var n=this,t=n.element||{},f=n.shadows,r=n.renderer.isSVG&&t.nodeName==="SPAN"&&n.parentGroup,e,o,u;if(t.onclick=t.onmouseout=t.onmouseover=t.onmousemove=t.point=null,yr(n),n.clipPath&&(n.clipPath=n.clipPath.destroy()),n.stops){for(u=0;u<n.stops.length;u++)n.stops[u]=n.stops[u].destroy();n.stops=null}for(n.safeRemoveChild(t),f&&i(f,function(t){n.safeRemoveChild(t)});r&&r.div&&r.div.childNodes.length===0;)e=r.parentGroup,n.safeRemoveChild(r.div),delete r.div,r=e;n.alignTo&&li(n.renderer.alignedObjects,n);for(o in n)delete n[o];return null},shadow:function(n,i,r){var c=[],e,f,h=this.element,o,s,l,a;if(n){for(s=t(n.width,3),l=(n.opacity||.15)/s,a=this.parentInverted?"(-1,-1)":"("+t(n.offsetX,1)+", "+t(n.offsetY,1)+")",e=1;e<=s;e++)f=h.cloneNode(0),o=s*2+1-2*e,tt(f,{isShadow:"true",stroke:n.color||"black","stroke-opacity":l*e,"stroke-width":o,transform:"translate"+a,fill:ot}),r&&(tt(f,"height",u(tt(f,"height")-o,0)),f.cutHeight=o),i?i.element.appendChild(f):h.parentNode.insertBefore(f,h),c.push(f);this.shadows=c}return this},xGetter:function(n){return this.element.nodeName==="circle"&&(n={x:"cx",y:"cy"}[n]||n),this._defaultGetter(n)},_defaultGetter:function(n){var i=t(this[n],this.element?this.element.getAttribute(n):null,0);return/^[\-0-9\.]+$/.test(i)&&(i=parseFloat(i)),i},dSetter:function(n,t,i){n&&n.join&&(n=n.join(" "));/(NaN| {2}|^$)/.test(n)&&(n="M 0 0");i.setAttribute(t,n);this[t]=n},dashstyleSetter:function(n){var t;if(n=n&&n.toLowerCase(),n){for(n=n.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),t=n.length;t--;)n[t]=a(n[t])*this["stroke-width"];n=n.join(",").replace("NaN","none");this.element.setAttribute("stroke-dasharray",n)}},alignSetter:function(n){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[n])},opacitySetter:function(n,t,i){this[t]=n;i.setAttribute(t,n)},titleSetter:function(n){var i=this.element.getElementsByTagName("title")[0];i||(i=h.createElementNS(or,"title"),this.element.appendChild(i));i.appendChild(h.createTextNode(String(t(n),"").replace(/<[^>]*>/g,"")))},textSetter:function(n){n!==this.textStr&&(delete this.bBox,this.textStr=n,this.added&&this.renderer.buildText(this))},fillSetter:function(n,t,i){typeof n=="string"?i.setAttribute(t,n):n&&this.colorGradient(n,t,i)},visibilitySetter:function(n,t,i){n==="inherit"?i.removeAttribute(t):i.setAttribute(t,n)},zIndexSetter:function(n,t){var l=this.renderer,o=this.parentGroup,y=o||l,s=y.element||l.box,h,i,c,u=this.element,f,v=this.added,e;if(r(n)&&(u.setAttribute(t,n),n=+n,this[t]===n&&(v=!1),this[t]=n),v){for(n=this.zIndex,n&&o&&(o.handleZ=!0),h=s.childNodes,e=0;e<h.length&&!f;e++)i=h[e],c=tt(i,"zIndex"),i!==u&&(a(c)>n||!r(n)&&r(c))&&(s.insertBefore(u,i),f=!0);f||s.appendChild(u)}return f},_defaultSetter:function(n,t,i){i.setAttribute(t,n)}},it.prototype.yGetter=it.prototype.xGetter,it.prototype.translateXSetter=it.prototype.translateYSetter=it.prototype.rotationSetter=it.prototype.verticalAlignSetter=it.prototype.scaleXSetter=it.prototype.scaleYSetter=function(n,t){this[t]=n;this.doTransform=!0},it.prototype["stroke-widthSetter"]=it.prototype.strokeSetter=function(n,t,i){this[t]=n;this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],it.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):t==="stroke-width"&&n===0&&this.hasStroke&&(i.removeAttribute("stroke"),this.hasStroke=!1)},wi=function(){this.init.apply(this,arguments)},wi.prototype={Element:it,init:function(t,i,r,u,f,e){var o=this,l,c,v,a,s;l=o.createElement("svg").attr({version:"1.1"}).css(this.getStyle(u));c=l.element;t.appendChild(c);t.innerHTML.indexOf("xmlns")===-1&&tt(c,"xmlns",or);o.isSVG=!0;o.box=c;o.boxWrapper=l;o.alignedObjects=[];o.url=(lr||tf)&&h.getElementsByTagName("base").length?n.location.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";v=this.createElement("desc").add();v.element.appendChild(h.createTextNode("Created with "+le+" "+ae));o.defs=this.createElement("defs").add();o.allowHTML=e;o.forExport=f;o.gradients={};o.cache={};o.cacheKeys=[];o.imgCount=0;o.setSize(i,r,!1);lr&&t.getBoundingClientRect&&(o.subPixelFix=a=function(){y(t,{left:0,top:0});s=t.getBoundingClientRect();y(t,{left:vi(s.left)-s.left+p,top:vi(s.top)-s.top+p})},a(),b(n,"resize",a))},getStyle:function(n){return this.style=f({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},n),this.style},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this,i=t.defs;return t.box=null,t.boxWrapper=t.boxWrapper.destroy(),ru(t.gradients||{}),t.gradients=null,i&&(t.defs=i.destroy()),t.subPixelFix&&ct(n,"resize",t.subPixelFix),t.alignedObjects=null,null},createElement:function(n){var t=new this.Element;return t.init(this,n),t},draw:function(){},getRadialAttr:function(n,t){return{cx:n[0]-n[2]/2+t.cx*n[2],cy:n[1]-n[2]/2+t.cy*n[2],r:t.r*n[2]}},buildText:function(n){for(var u=n.element,e=this,k=e.forExport,o=t(n.textStr,"").toString(),d=o.indexOf("<")!==-1,s,g=u.childNodes,l,v,p=tt(u,"x"),r=n.styles,f=n.textWidth,nt=r&&r.lineHeight,w=r&&r.textShadow,b=r&&r.textOverflow==="ellipsis",it=g.length,c=f&&!n.added&&this.box,rt=function(n){return nt?a(nt):e.fontMetrics(/(px|em)$/.test(n&&n.style.fontSize)?n.style.fontSize:r&&r.fontSize||e.style.fontSize||12,n).h},ut=function(n){return n.replace(/&lt;/g,"<").replace(/&gt;/g,">")};it--;)u.removeChild(g[it]);d||w||b||o.indexOf(" ")!==-1?(l=/<.*style="([^"]+)".*>/,v=/<.*href="(http[^"]+)".*>/,c&&c.appendChild(u),s=d?o.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"<\/span>").split(/<br.*?>/g):[o],s[s.length-1]===""&&s.pop(),i(s,function(t,o){var s,c=0;t=t.replace(/<span/g,"|||<span").replace(/<\/span>/g,"<\/span>|||");s=t.split("|||");i(s,function(t){var it,i,ft;if((t!==""||s.length===1)&&(it={},i=h.createElementNS(or,"tspan"),l.test(t)&&(ft=t.match(l)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),tt(i,"style",ft)),v.test(t)&&!k&&(tt(i,"onclick",'location.href="'+t.match(v)[1]+'"'),y(i,{cursor:"pointer"})),t=ut(t.replace(/<(.|\n)*?>/g,"")||" "),t!==" ")){if(i.appendChild(h.createTextNode(t)),c?it.dx=0:o&&p!==null&&(it.x=p),tt(i,it),u.appendChild(i),!c&&o&&(!wt&&k&&y(i,{display:"block"}),tt(i,"dy",rt(i))),f){for(var a=t.replace(/([^\^])-/g,"$1- ").split(" "),ht=s.length>1||o||a.length>1&&r.whiteSpace!=="nowrap",w,d,g,et=[],ct=rt(i),lt=1,at=n.rotation,nt=t,ot=nt.length,st;(ht||b)&&(a.length||et.length);)n.rotation=0,st=n.getBBox(!0),g=st.width,!wt&&e.forExport&&(g=e.measureSpanWidth(i.firstChild.data,n.styles)),w=g>f,d===undefined&&(d=w),b&&d?(ot/=2,nt===""||!w&&ot<.5?a=[]:(w&&(d=!0),nt=t.substring(0,nt.length+(w?-1:1)*vi(ot)),a=[nt+(f>3?"…":"")],i.removeChild(i.firstChild))):w&&a.length!==1?(i.removeChild(i.firstChild),et.unshift(a.pop())):(a=et,et=[],a.length&&(lt++,i=h.createElementNS(or,"tspan"),tt(i,{dy:ct,x:p}),ft&&tt(i,"style",ft),u.appendChild(i)),g>f&&(f=g)),a.length&&i.appendChild(h.createTextNode(a.join(" ").replace(/- /g,"-")));d&&n.attr("title",n.textStr);n.rotation=at}c++}})}),c&&c.removeChild(u),w&&n.applyTextShadow&&n.applyTextShadow(w)):u.appendChild(h.createTextNode(ut(o)))},getContrast:function(n){return n=ri(n).rgba,n[0]+n[1]+n[2]>384?"#000000":"#FFFFFF"},button:function(n,t,i,r,u,e,o,s,h){var c=this.label(n,t,i,h,null,null,null,null,"button"),a=0,k,d,v,y,p,g,w={x1:0,y1:0,x2:0,y2:1};return u=l({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:w,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},u),v=u.style,delete u.style,e=l(u,{stroke:"#68A",fill:{linearGradient:w,stops:[[0,"#FFF"],[1,"#ACF"]]}},e),y=e.style,delete e.style,o=l(u,{stroke:"#68A",fill:{linearGradient:w,stops:[[0,"#9BD"],[1,"#CDF"]]}},o),p=o.style,delete o.style,s=l(u,{style:{color:"#CCC"}},s),g=s.style,delete s.style,b(c.element,gi?"mouseover":"mouseenter",function(){a!==3&&c.attr(e).css(y)}),b(c.element,gi?"mouseout":"mouseleave",function(){a!==3&&(k=[u,e,o][a],d=[v,y,p][a],c.attr(k).css(d))}),c.setState=function(n){c.state=a=n;n?n===2?c.attr(o).css(p):n===3&&c.attr(s).css(g):c.attr(u).css(v)},c.on("click",function(n){a!==3&&r.call(c,n)}).attr(u).css(f({cursor:"default"},v))},crispLine:function(n,t){return n[1]===n[4]&&(n[1]=n[4]=e(n[1])-t%2/2),n[2]===n[5]&&(n[2]=n[5]=e(n[2])+t%2/2),n},path:function(n){var t={fill:ot};return pr(n)?t.d=n:yt(n)&&f(t,n),this.createElement("path").attr(t)},circle:function(n,t,i){var u=yt(n)?n:{x:n,y:t,r:i},r=this.createElement("circle");return r.xSetter=r.ySetter=function(n,t,i){i.setAttribute("c"+t,n)},r.attr(u)},arc:function(n,t,i,r,u,f){var e;return yt(n)&&(t=n.y,i=n.r,r=n.innerR,u=n.start,f=n.end,n=n.x),e=this.symbol("arc",n||0,t||0,i||0,i||0,{innerR:r||0,start:u||0,end:f||0}),e.r=i,e},rect:function(n,t,i,r,f,e){f=yt(n)?n.r:f;var s=this.createElement("rect"),h=yt(n)?n:n===o?{}:{x:n,y:t,width:u(i,0),height:u(r,0)};return e!==o&&(s.strokeWidth=e,h=s.crisp(h)),f&&(h.r=f),s.rSetter=function(n,t,i){tt(i,{rx:n,ry:n})},s.attr(h)},setSize:function(n,i,r){var u=this,f=u.alignedObjects,e=f.length;for(u.width=n,u.height=i,u.boxWrapper[t(r,!0)?"animate":"attr"]({width:n,height:i});e--;)f[e].align()},g:function(n){var t=this.createElement("g");return r(n)?t.attr({"class":ft+n}):t},image:function(n,t,i,r,u){var o={preserveAspectRatio:ot},e;return arguments.length>1&&f(o,{x:t,y:i,width:r,height:u}),e=this.createElement("image").attr(o),e.element.setAttributeNS?e.element.setAttributeNS("http://www.w3.org/1999/xlink","href",n):e.element.setAttribute("hc-svg-href",n),e},symbol:function(n,t,i,r,u,o){var l=this,s,p=this.symbols[n],w=p&&p(e(t),e(i),r,u,o),b=/^url\((.*?)\)$/,c,a,v;return w?(s=this.path(w),f(s,{symbolName:n,x:t,y:i,width:r,height:u}),o&&f(s,o)):b.test(n)&&(v=function(n,t){n.element&&(n.attr({width:t[0],height:t[1]}),n.alignByTranslate||n.translate(e((r-t[0])/2),e((u-t[1])/2)))},c=n.match(b)[1],a=ce[c]||o&&o.width&&o.height&&[o.width,o.height],s=this.image(c).attr({x:t,y:i}),s.isImg=!0,a?v(s,a):(s.attr({width:0,height:0}),pt("img",{onload:function(){this.width===0&&(y(this,{position:yi,top:"-999em"}),h.body.appendChild(this));v(s,ce[c]=[this.width,this.height]);this.parentNode&&this.parentNode.removeChild(this);l.imgCount--;l.imgCount||ut[l.chartIndex].onload()},src:c})),this.imgCount++),s},symbols:{circle:function(n,t,i,r){var u=.166*i;return[ht,n+i/2,t,"C",n+i+u,t,n+i+u,t+r,n+i/2,t+r,"C",n-u,t+r,n-u,t,n+i/2,t,"Z"]},square:function(n,t,i,r){return[ht,n,t,nt,n+i,t,n+i,t+r,n,t+r,"Z"]},triangle:function(n,t,i,r){return[ht,n+i/2,t,nt,n+i,t+r,n,t+r,"Z"]},"triangle-down":function(n,t,i,r){return[ht,n,t,nt,n+i,t,n+i/2,t+r,"Z"]},diamond:function(n,t,i,r){return[ht,n+i/2,t,nt,n+i,t+r/2,n+i/2,t+r,n,t+r/2,"Z"]},arc:function(n,t,i,r,u){var o=u.start,f=u.r||i||r,s=u.end-.001,e=u.innerR,h=u.open,c=st(o),l=vt(o),a=st(s),v=vt(s),y=u.end-o<ui?0:1;return[ht,n+f*c,t+f*l,"A",f,f,0,y,1,n+f*a,t+f*v,h?ht:nt,n+e*a,t+e*v,"A",e,e,0,y,0,n+e*c,t+e*l,h?"":"Z"]},callout:function(n,t,i,r,u){var a=6,s=6,f=c(u&&u.r||0,i,r),h=f+s,e=u&&u.anchorX,o=u&&u.anchorY,l;return l=["M",n+f,t,"L",n+i-f,t,"C",n+i,t,n+i,t,n+i,t+f,"L",n+i,t+r-f,"C",n+i,t+r,n+i,t+r,n+i-f,t+r,"L",n+f,t+r,"C",n,t+r,n,t+r,n,t+r-f,"L",n,t+f,"C",n,t,n,t,n+f,t],e&&e>i&&o>t+h&&o<t+r-h?l.splice(13,3,"L",n+i,o-s,n+i+a,o,n+i,o+s,n+i,t+r-f):e&&e<0&&o>t+h&&o<t+r-h?l.splice(33,3,"L",n,o+s,n-a,o,n,o-s,n,t+f):o&&o>r&&e>n+h&&e<n+i-h?l.splice(23,3,"L",e+s,t+r,e,t+r+a,e-s,t+r,n+f,t+r):o&&o<0&&e>n+h&&e<n+i-h&&l.splice(3,3,"L",e-s,t,e,t-a,e+s,t,i-f,t),l}},clipRect:function(n,t,i,r){var u,f=ft+hf++,e=this.createElement("clipPath").attr({id:f}).add(this.defs);return u=this.rect(n,t,i,r,0).add(e),u.id=f,u.clipPath=e,u.count=0,u},text:function(n,t,i,r){var u=this,o=gt||!wt&&u.forExport,f,e={};return r&&(u.allowHTML||!u.forExport)?u.html(n,t,i):(e.x=Math.round(t||0),i&&(e.y=Math.round(i)),(n||n===0)&&(e.text=n),f=u.createElement("text").attr(e),o&&f.css({position:yi}),r||(f.xSetter=function(n,t,i){for(var f=i.getElementsByTagName("tspan"),u,e=i.getAttribute(t),r=0;r<f.length;r++)u=f[r],u.getAttribute(t)===e&&u.setAttribute(t,n);i.setAttribute(t,n)}),f)},fontMetrics:function(t,i){var r,f,u;return t=t||this.style.fontSize,!t&&i&&n.getComputedStyle&&(i=i.element||i,u=n.getComputedStyle(i,""),t=u&&u.fontSize),t=/px/.test(t)?a(t):/em/.test(t)?parseFloat(t)*12:12,r=t<24?t+3:e(t*1.2),f=e(r*.8),{h:r,b:f,f:t}},rotCorr:function(n,t,i){var r=n;return t&&i&&(r=u(r*st(t*dt),4)),{x:-n/3*vt(t*dt),y:r}},label:function(n,t,u,s,h,c,a,v,y){var g=this,p=g.g(y),w=g.text("",0,0,a).attr({zIndex:1}),b,k,ft=0,d=3,et=0,nt,ht,lt,at,st=0,rt={},vt,yt,pt,ut,tt,wt;return pt=function(){var n,t,i=w.element.style;k=(nt===undefined||ht===undefined||p.styles.textAlign)&&r(w.textStr)&&w.getBBox();p.width=(nt||k.width||0)+2*d+et;p.height=(ht||k.height||0)+2*d;vt=d+g.fontMetrics(i&&i.fontSize,w).b;yt&&(b||(n=st,t=(v?-vt:0)+st,p.box=b=s?g.symbol(s,n,t,p.width,p.height,rt):g.rect(n,t,p.width,p.height,0,rt[lo]),b.isImg||b.attr("fill",ot),b.add(p)),b.isImg||b.attr(f({width:e(p.width),height:e(p.height)},rt)),rt=null)},ut=function(){var u=p.styles,i=u&&u.textAlign,t=et+d,n;n=v?0:vt;r(nt)&&k&&(i==="center"||i==="right")&&(t+={center:.5,right:1}[i]*(nt-k.width));(t!==w.x||n!==w.y)&&(w.attr("x",t),n!==o&&w.attr("y",n));w.x=t;w.y=n},tt=function(n,t){b?b.attr(n,t):rt[n]=t},p.onAdd=function(){w.add(p);p.attr({text:n||n===0?n:"",x:t,y:u});b&&r(h)&&p.attr({anchorX:h,anchorY:c})},p.widthSetter=function(n){nt=n},p.heightSetter=function(n){ht=n},p.paddingSetter=function(n){r(n)&&n!==d&&(d=p.padding=n,ut())},p.paddingLeftSetter=function(n){r(n)&&n!==et&&(et=n,ut())},p.alignSetter=function(n){n={left:0,center:.5,right:1}[n];n!==ft&&(ft=n,k&&p.attr({x:t}))},p.textSetter=function(n){n!==o&&w.textSetter(n);pt();ut()},p["stroke-widthSetter"]=function(n,t){n&&(yt=!0);st=n%2/2;tt(t,n)},p.strokeSetter=p.fillSetter=p.rSetter=function(n,t){t==="fill"&&n&&(yt=!0);tt(t,n)},p.anchorXSetter=function(n,t){h=n;tt(t,e(n)-st-lt)},p.anchorYSetter=function(n,t){c=n;tt(t,n-at)},p.xSetter=function(n){p.x=n;ft&&(n-=ft*((nt||k.width)+2*d));lt=e(n);p.attr("translateX",lt)},p.ySetter=function(n){at=p.y=e(n);p.attr("translateY",at)},wt=p.css,f(p,{css:function(n){if(n){var t={};n=l(n);i(p.textProps,function(i){n[i]!==o&&(t[i]=n[i],delete n[i])});w.css(t)}return wt.call(p,n)},getBBox:function(){return{width:k.width+2*d,height:k.height+2*d,x:k.x-d,y:k.y-d}},shadow:function(n){return b&&b.shadow(n),p},destroy:function(){ct(p.element,"mouseenter");ct(p.element,"mouseleave");w&&(w=w.destroy());b&&(b=b.destroy());it.prototype.destroy.call(p);p=g=pt=ut=tt=null}})}},cu=wi,f(it.prototype,{htmlCss:function(n){var t=this,r=t.element,i=n&&r.tagName==="SPAN"&&n.width;return i&&(delete n.width,t.textWidth=i,t.updateTransform()),n&&n.textOverflow==="ellipsis"&&(n.whiteSpace="nowrap",n.overflow="hidden"),t.styles=f(t.styles,n),y(t.element,n),t},htmlGetBBox:function(){var t=this,n=t.element;return n.nodeName==="text"&&(n.style.position=yi),{x:n.offsetLeft,y:n.offsetTop,width:n.offsetWidth,height:n.offsetHeight}},htmlUpdateTransform:function(){if(!this.added){this.alignOnAdd=!0;return}var n=this,s=n.renderer,t=n.element,h=n.translateX||0,c=n.translateY||0,d=n.x||0,g=n.y||0,e=n.textAlign||"left",l={left:0,center:.5,right:1}[e],v=n.shadows,w=n.styles;if(y(t,{marginLeft:h,marginTop:c}),v&&i(v,function(n){y(n,{marginLeft:h+1,marginTop:c+1})}),n.inverted&&i(t.childNodes,function(n){s.invertChild(n,t)}),t.tagName==="SPAN"){var u=n.rotation,f,o=a(n.textWidth),b=w&&w.whiteSpace,k=[u,e,t.innerHTML,n.textWidth,n.textAlign].join(",");k!==n.cTT&&(f=s.fontMetrics(t.style.fontSize).b,r(u)&&n.setSpanRotation(u,l,f),t.offsetWidth>o&&/[ \-]/.test(t.textContent||t.innerText)?(y(t,{width:o+p,display:"block",whiteSpace:b||"normal"}),n.hasTextWidth=!0):n.hasTextWidth&&(y(t,{width:"",display:"",whiteSpace:b||"nowrap"}),n.hasTextWidth=!1),n.getSpanCorrection(n.hasTextWidth?o:t.offsetWidth,f,l,u,e));y(t,{left:d+(n.xCorr||0)+p,top:g+(n.yCorr||0)+p});tf&&(f=t.offsetHeight);n.cTT=k}},setSpanRotation:function(n,t,i){var r={},u=gi?"-ms-transform":tf?"-webkit-transform":lr?"MozTransform":se?"-o-transform":"";r[u]=r.transform="rotate("+n+"deg)";r[u+(lr?"Origin":"-origin")]=r.transformOrigin=t*100+"% "+i+"px";y(this.element,r)},getSpanCorrection:function(n,t,i){this.xCorr=-n*i;this.yCorr=-t}}),f(wi.prototype,{html:function(n,t,r){var u=this.createElement("span"),o=u.element,s=u.renderer,h=function(n,t){i(["opacity","visibility"],function(i){tu(n,i+"Setter",function(n,i,r,u){n.call(this,i,r,u);t[r]=i})})};return u.textSetter=function(n){n!==o.innerHTML&&delete this.bBox;o.innerHTML=this.textStr=n;u.htmlUpdateTransform()},h(u,u.element.style),u.xSetter=u.ySetter=u.alignSetter=u.rotationSetter=function(n,t){t==="align"&&(t="textAlign");u[t]=n;u.htmlUpdateTransform()},u.attr({text:n,x:e(t),y:e(r)}).css({position:yi,fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),o.style.whiteSpace="nowrap",u.css=u.htmlCss,s.isSVG&&(u.add=function(n){var t,e=s.box.parentNode,r,c=[];if(this.parentGroup=n,n){if(t=n.div,!t){for(r=n;r;)c.push(r),r=r.parentGroup;i(c.reverse(),function(n){var i,r=tt(n.element,"class");r&&(r={className:r});t=n.div=n.div||pt(ar,r,{position:yi,left:(n.translateX||0)+p,top:(n.translateY||0)+p},t||e);i=t.style;f(n,{translateXSetter:function(t,r){i.left=t+p;n[r]=t;n.doTransform=!0},translateYSetter:function(t,r){i.top=t+p;n[r]=t;n.doTransform=!0}});h(n,i)})}}else t=e;return t.appendChild(o),u.added=!0,u.alignOnAdd&&u.htmlUpdateTransform(),u}),u}}),wt||gt||(bi={init:function(n,t){var f=this,i=["<",t,' filled="f" stroked="f"'],r=["position: ",yi,";"],u=t===ar;(t==="shape"||u)&&r.push("left:0;top:0;width:1px;height:1px;");r.push("visibility: ",u?tr:sr);i.push(' style="',r.join(""),'"/>');t&&(i=u||t==="span"||t==="img"?i.join(""):n.prepVML(i),f.element=pt(i));f.renderer=n},add:function(n){var t=this,i=t.renderer,r=t.element,f=i.box,e=n&&n.inverted,u=n?n.element||n:f;return n&&(this.parentGroup=n),e&&i.invertChild(r,u),u.appendChild(r),t.added=!0,t.alignOnAdd&&!t.deferUpdateTransform&&t.updateTransform(),t.onAdd&&t.onAdd(),t},updateTransform:it.prototype.htmlUpdateTransform,setSpanRotation:function(){var n=this.rotation,t=st(n*dt),i=vt(n*dt);y(this.element,{filter:n?["progid:DXImageTransform.Microsoft.Matrix(M11=",t,", M12=",-i,", M21=",i,", M22=",t,", sizingMethod='auto expand')"].join(""):ot})},getSpanCorrection:function(n,i,r,u,f){var e=u?st(u*dt):1,o=u?vt(u*dt):0,h=t(this.elemHeight,this.element.offsetHeight),s,c=f&&f!=="left";this.xCorr=e<0&&-n;this.yCorr=o<0&&-h;s=e*o<0;this.xCorr+=o*i*(s?1-r:r);this.yCorr-=e*i*(u?s?r:1-r:1);c&&(this.xCorr-=n*r*(e<0?-1:1),u&&(this.yCorr-=h*r*(o<0?-1:1)),y(this.element,{textAlign:f}))},pathToVML:function(n){for(var t=n.length,i=[];t--;)hi(n[t])?i[t]=e(n[t]*10)-5:n[t]==="Z"?i[t]="x":(i[t]=n[t],n.isArc&&(n[t]==="wa"||n[t]==="at")&&(i[t+5]===i[t+7]&&(i[t+7]+=n[t+7]>n[t+5]?1:-1),i[t+6]===i[t+8]&&(i[t+8]+=n[t+8]>n[t+6]?1:-1)));return i.join(" ")||"x"},clip:function(n){var t=this,i,r;return n?(i=n.members,li(i,t),i.push(t),t.destroyClip=function(){li(i,t)},r=n.getCSS(t)):(t.destroyClip&&t.destroyClip(),r={clip:nf?"inherit":"rect(auto)"}),t.css(r)},css:it.prototype.htmlCss,safeRemoveChild:function(n){n.parentNode&&uu(n)},destroy:function(){return this.destroyClip&&this.destroyClip(),it.prototype.destroy.apply(this)},on:function(t,i){return this.element["on"+t]=function(){var t=n.event;t.target=t.srcElement;i(t)},this},cutOffPath:function(n,t){var i;return n=n.split(/[ ,]/),i=n.length,(i===9||i===11)&&(n[i-4]=n[i-2]=a(n[i-2])-10*t),n.join(" ")},shadow:function(n,i,r){var v=[],f,e=this.element,y=this.renderer,u,p=e.style,s,o=e.path,h,c,l,w;if(o&&typeof o.value!="string"&&(o="x"),c=o,n){for(l=t(n.width,3),w=(n.opacity||.15)/l,f=1;f<=3;f++)h=l*2+1-2*f,r&&(c=this.cutOffPath(o.value,h+.5)),s=['<shape isShadow="true" strokeweight="',h,'" filled="false" path="',c,'" coordsize="10 10" style="',e.style.cssText,'" />'],u=pt(y.prepVML(s),null,{left:a(p.left)+t(n.offsetX,1),top:a(p.top)+t(n.offsetY,1)}),r&&(u.cutOff=h+1),s=['<stroke color="',n.color||"black",'" opacity="',w*f,'"/>'],pt(y.prepVML(s),null,null,u),i?i.element.appendChild(u):e.parentNode.insertBefore(u,e),v.push(u);this.shadows=v}return this},updateShadows:nr,setAttr:function(n,t){nf?this.element[n]=t:this.element.setAttribute(n,t)},classSetter:function(n){this.element.className=n},dashstyleSetter:function(n,t,i){var r=i.getElementsByTagName("stroke")[0]||pt(this.renderer.prepVML(["<stroke/>"]),null,null,i);r[t]=n||"solid";this[t]=n},dSetter:function(n,t,i){var r,u=this.shadows;if(n=n||[],this.d=n.join&&n.join(" "),i.path=n=this.pathToVML(n),u)for(r=u.length;r--;)u[r].path=u[r].cutOff?this.cutOffPath(n,u[r].cutOff):n;this.setAttr(t,n)},fillSetter:function(n,t,i){var r=i.nodeName;r==="SPAN"?i.style.color=n:r!=="IMG"&&(i.filled=n!==ot,this.setAttr("fillcolor",this.renderer.color(n,i,t,this)))},"fill-opacitySetter":function(n,t,i){pt(this.renderer.prepVML(["<",t.split("-")[0],' opacity="',n,'"/>']),null,null,i)},opacitySetter:nr,rotationSetter:function(n,t,i){var r=i.style;this[t]=r[t]=n;r.left=-e(vt(n*dt)+1)+p;r.top=e(st(n*dt))+p},strokeSetter:function(n,t,i){this.setAttr("strokecolor",this.renderer.color(n,i,t,this))},"stroke-widthSetter":function(n,t,i){i.stroked=!!n;this[t]=n;hi(n)&&(n+=p);this.setAttr("strokeweight",n)},titleSetter:function(n,t){this.setAttr(t,n)},visibilitySetter:function(n,t,r){n==="inherit"&&(n=sr);this.shadows&&i(this.shadows,function(i){i.style[t]=n});r.nodeName==="DIV"&&(n=n===tr?"-999em":0,nf||(r.style[t]=n?sr:tr),t="top");r.style[t]=n},xSetter:function(n,t,i){this[t]=n;t==="x"?t="left":t==="y"&&(t="top");this.updateClipping?(this[t]=n,this.updateClipping()):i.style[t]=n},zIndexSetter:function(n,t,i){i.style[t]=n}},bi["stroke-opacitySetter"]=bi["fill-opacitySetter"],s.VMLElement=bi=ai(it,bi),bi.prototype.ySetter=bi.prototype.widthSetter=bi.prototype.heightSetter=bi.prototype.xSetter,no={Element:bi,isIE8:di.indexOf("MSIE 8.0")>-1,init:function(n,t,i,r){var u=this,e,s,o;if(u.alignedObjects=[],e=u.createElement(ar).css(f(this.getStyle(r),{position:"relative"})),s=e.element,n.appendChild(e.element),u.isVML=!0,u.box=s,u.boxWrapper=e,u.gradients={},u.cache={},u.cacheKeys=[],u.imgCount=0,u.setSize(t,i,!1),!h.namespaces.hcv){h.namespaces.add("hcv","urn:schemas-microsoft-com:vml");o="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ";try{h.createStyleSheet().cssText=o}catch(c){h.styleSheets[0].cssText+=o}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(n,t,r,u){var s=this.createElement(),o=yt(n);return f(s,{members:[],count:0,left:(o?n.x:n)+1,top:(o?n.y:t)+1,width:(o?n.width:r)-1,height:(o?n.height:u)-1,getCSS:function(n){var h=n.element,c=h.nodeName,a=c==="shape",t=n.inverted,i=this,r=i.top-(a?h.offsetTop:0),u=i.left,o=u+i.width,s=r+i.height,l={clip:"rect("+e(t?u:r)+"px,"+e(t?s:o)+"px,"+e(t?o:s)+"px,"+e(t?r:u)+"px)"};return!t&&nf&&c==="DIV"&&f(l,{width:o+p,height:s+p}),l},updateClipping:function(){i(s.members,function(n){n.element&&n.css(s.getCSS(n))})}})},color:function(n,t,r,u){var dt=this,o,k=/^rgba/,d,c,l=ot,y;if(n&&n.linearGradient?c="gradient":n&&n.radialGradient&&(c="pattern"),c){var s,v,f=n.linearGradient||n.radialGradient,g,nt,tt,it,ut,ft,et,st,p="",h=n.stops,w,b,ht=[],ct=function(){d=['<fill colors="'+ht.join(",")+'" opacity="',ft,'" o:opacity2="',ut,'" type="',c,'" ',p,'focus="100%" method="any" />'];pt(dt.prepVML(d),null,null,t)};if(w=h[0],b=h[h.length-1],w[0]>0&&h.unshift([0,w[1]]),b[0]<1&&h.push([1,b[1]]),i(h,function(n,t){k.test(n[1])?(o=ri(n[1]),s=o.get("rgb"),v=o.get("a")):(s=n[1],v=1);ht.push(n[0]*100+"% "+s);t?(ft=v,et=s):(ut=v,st=s)}),r==="fill")if(c==="gradient")g=f.x1||f[0]||0,nt=f.y1||f[1]||0,tt=f.x2||f[2]||0,it=f.y2||f[3]||0,p='angle="'+(90-lt.atan((it-nt)/(tt-g))*180/ui)+'"',ct();else{var at=f.r,vt=at*2,yt=at*2,wt=f.cx,bt=f.cy,a=t.radialReference,e,kt=function(){a&&(e=u.getBBox(),wt+=(a[0]-e.x)/e.width-.5,bt+=(a[1]-e.y)/e.height-.5,vt*=a[2]/e.width,yt*=a[2]/e.height);p='src="'+rt.global.VMLRadialGradientURL+'" size="'+vt+","+yt+'" origin="0.5,0.5" position="'+wt+","+bt+'" color2="'+st+'" ';ct()};u.added?kt():u.onAdd=kt;l=et}else l=s}else k.test(n)&&t.tagName!=="IMG"?(o=ri(n),u[r+"-opacitySetter"](o.get("a"),r,t),l=o.get("rgb")):(y=t.getElementsByTagName(r),y.length&&(y[0].opacity=1,y[0].type="solid"),l=n);return l},prepVML:function(n){var t="display:inline-block;behavior:url(#default#VML);",i=this.isIE8;return n=n.join(""),i?(n=n.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),n=n.indexOf('style="')===-1?n.replace("/>",' style="'+t+'" />'):n.replace('style="','style="'+t)):n=n.replace("<","<hcv:"),n},text:wi.prototype.html,path:function(n){var t={coordsize:"10 10"};return pr(n)?t.d=n:yt(n)&&f(t,n),this.createElement("shape").attr(t)},circle:function(n,t,i){var r=this.symbol("circle");return yt(n)&&(i=n.r,t=n.y,n=n.x),r.isCircle=!0,r.r=i,r.attr({x:n,y:t})},g:function(n){var t;return n&&(t={className:ft+n,"class":ft+n}),this.createElement(ar).attr(t)},image:function(n,t,i,r,u){var f=this.createElement("img").attr({src:n});return arguments.length>1&&f.attr({x:t,y:i,width:r,height:u}),f},createElement:function(n){return n==="rect"?this.symbol(n):wi.prototype.createElement.call(this,n)},invertChild:function(n,t){var f=this,u=t.style,r=n.tagName==="IMG"&&n.style;y(n,{flip:"x",left:a(u.width)-(r?a(r.top):1),top:a(u.height)-(r?a(r.left):1),rotation:-90});i(n.childNodes,function(t){f.invertChild(t,n)})},symbols:{arc:function(n,t,i,r,u){var s=u.start,h=u.end,e=u.r||i||r,f=u.innerR,c=st(s),l=vt(s),a=st(h),v=vt(h),o;return h-s==0?["x"]:(o=["wa",n-e,t-e,n+e,t+e,n+e*c,t+e*l,n+e*a,t+e*v],u.open&&!f&&o.push("e",ht,n,t),o.push("at",n-f,t-f,n+f,t+f,n+f*a,t+f*v,n+f*c,t+f*l,"x","e"),o.isArc=!0,o)},circle:function(n,t,i,r,u){return u&&(i=r=2*u.r),u&&u.isCircle&&(n-=i/2,t-=r/2),["wa",n,t,n+i,t+r,n+i,t+r/2,n+i,t+r/2,"e"]},rect:function(n,t,i,u,f){return wi.prototype.symbols[!r(f)||!f.r?"square":"callout"].call(0,n,t,i,u,f)}}},s.VMLRenderer=ne=function(){this.init.apply(this,arguments)},ne.prototype=l(wi.prototype,no),cu=ne),wi.prototype.measureSpanWidth=function(n,t){var i=h.createElement("span"),r,u=h.createTextNode(n);return i.appendChild(u),y(i,t),this.box.appendChild(i),r=i.offsetWidth,uu(i),r},gt&&(s.CanVGRenderer=te=function(){or="http://www.w3.org/1999/xhtml"},te.prototype.symbols={},to=function(){function t(){for(var i=n.length,t=0;t<i;t++)n[t]();n=[]}var n=[];return{push:function(i,r){n.length===0&&po(r,t);n.push(i)}}}(),cu=te),ou.prototype={addLabel:function(){var i=this,n=i.axis,c=n.options,a=n.chart,v=n.categories,k=n.names,u=i.pos,s=c.labels,e,o=n.tickPositions,y=u===o[0],p=u===o[o.length-1],w=v?t(v[u],k[u],u):u,f=i.label,h=o.info,b;n.isDatetimeAxis&&h&&(b=c.dateTimeLabelFormats[h.higherRanks[u]||h.unitName]);i.isFirst=y;i.isLast=p;e=n.labelFormatter.call({axis:n,chart:a,isFirst:y,isLast:p,dateTimeLabelFormat:b,value:n.isLog?ni(ci(w)):w});r(f)?f&&f.attr({text:e}):(i.label=f=r(e)&&s.enabled?a.renderer.text(e,0,0,s.useHTML).css(l(s.style)).add(n.labelGroup):null,i.labelLength=f&&f.getBBox().width,i.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(n){var i=this.axis,o=n.x,w=i.chart.chartWidth,b=i.chart.spacing,a=t(i.labelLeft,c(i.pos,b[3])),v=t(i.labelRight,u(i.pos+i.len,w-b[1])),y=this.label,h=this.rotation,f={left:0,center:.5,right:1}[i.labelAlign],s=y.getBBox().width,r=i.slotWidth,nt=f,k=1,d,g,l,p={};h?h<0&&o-f*s<a?l=e(o/st(h*dt)-a):h>0&&o+f*s>v&&(l=e((w-o)/st(h*dt))):(d=o-f*s,g=o+(1-f)*s,d<a?r=n.x+r*(1-f)-a:g>v&&(r=v-n.x+r*f,k=-1),r=c(i.slotWidth,r),r<i.slotWidth&&i.labelAlign==="center"&&(n.x+=k*(i.slotWidth-r-nt*(i.slotWidth-c(s,r)))),(s>r||i.autoRotation&&y.styles.width)&&(l=r));l&&(p.width=l,i.options.labels.style.textOverflow||(p.textOverflow="ellipsis"),y.css(p))},getPosition:function(n,t,i,r){var u=this.axis,f=u.chart,e=r&&f.oldChartHeight||f.chartHeight;return{x:n?u.translate(t+i,null,null,r)+u.transB:u.left+u.offset+(u.opposite?(r&&f.oldChartWidth||f.chartWidth)-u.right-u.left:0),y:n?e-u.bottom+u.offset-(u.opposite?u.height:0):e-u.translate(t+i,null,null,r)-u.transB}},getLabelPosition:function(n,t,i,u,f,o,s,h){var c=this.axis,p=c.transA,w=c.reversed,l=c.staggerLines,y=c.tickRotCorr||{x:0,y:0},a=f.y,v;return r(a)||(a=c.side===2?y.y+8:a=st(i.rotation*dt)*(y.y-i.getBBox(!1,0).height/2)),n=n+f.x+y.x-(o&&u?o*p*(w?-1:1):0),t=t+a-(o&&!u?o*p*(w?1:-1):0),l&&(v=s/(h||1)%l,c.opposite&&(v=l-v-1),t+=v*(c.labelOffset/l)),{x:n,y:e(t)}},getMarkPath:function(n,t,i,r,u,f){return f.crispLine([ht,n,t,nt,n+(u?0:-i),t+(u?i:0)],r)},render:function(n,i,r){var u=this,f=u.axis,e=f.options,lt=f.chart,g=lt.renderer,h=f.horiz,c=u.type,a=u.label,ot=u.pos,y=e.labels,p=u.gridLine,nt=c?c+"Grid":"grid",w=c?c+"Tick":"tick",b=e[nt+"LineWidth"],at=e[nt+"LineColor"],st=e[nt+"LineDashStyle"],l=e[w+"Length"],tt=t(e[w+"Width"],!c&&f.isXAxis?1:0),vt=e[w+"Color"],yt=e[w+"Position"],k,ht=u.mark,it,rt=y.step,v,ut=!0,ft=f.tickmarkOffset,s=u.getPosition(h,ot,ft,i),d=s.x,et=s.y,ct=h&&d===f.pos+f.len||!h&&et===f.pos?-1:1;r=t(r,1);this.isActive=!0;b&&(k=f.getPlotLinePath(ot+ft,b*ct,i,!0),p===o&&(v={stroke:at,"stroke-width":b},st&&(v.dashstyle=st),c||(v.zIndex=1),i&&(v.opacity=0),u.gridLine=p=b?g.path(k).attr(v).add(f.gridGroup):null),!i&&p&&k&&p[u.isNew?"attr":"animate"]({d:k,opacity:r}));tt&&l&&(yt==="inside"&&(l=-l),f.opposite&&(l=-l),it=u.getMarkPath(d,et,l,tt*ct,h,g),ht?ht.animate({d:it,opacity:r}):u.mark=g.path(it).attr({stroke:vt,"stroke-width":tt,opacity:r}).add(f.axisGroup));a&&!isNaN(d)&&(a.xy=s=u.getLabelPosition(d,et,a,h,y,ft,n,rt),(!u.isFirst||u.isLast||t(e.showFirstLabel,1))&&(!u.isLast||u.isFirst||t(e.showLastLabel,1))?!h||f.isRadial||y.step||y.rotation||i||r===0||u.handleOverflow(s):ut=!1,rt&&n%rt&&(ut=!1),ut&&!isNaN(s.y)?(s.opacity=r,a[u.isNew?"attr":"animate"](s),u.isNew=!1):a.attr("y",-9999))},destroy:function(){ru(this,this.axis)}},s.PlotLineOrBand=function(n,t){this.axis=n;t&&(this.options=t,this.id=t.id)},s.PlotLineOrBand.prototype={render:function(){var u=this,e=u.axis,h=e.horiz,n=u.options,c=n.label,a=u.label,p=n.width,v=n.to,y=n.from,f=r(y)&&r(v),w=n.value,d=n.dashStyle,s=u.svgElem,i=[],g,nt,b=n.color,tt=t(n.zIndex,0),k=n.events,o={},it=e.chart.renderer;if(e.isLog&&(y=hr(y),v=hr(v),w=hr(w)),p)i=e.getPlotLinePath(w,p),o={stroke:b,"stroke-width":p},d&&(o.dashstyle=d);else if(f)i=e.getPlotBandPath(y,v,n),b&&(o.fill=b),n.borderWidth&&(o.stroke=n.borderColor,o["stroke-width"]=n.borderWidth);else return;if(o.zIndex=tt,s)i?(s.show(),s.animate({d:i})):(s.hide(),a&&(u.label=a=a.destroy()));else if(i&&i.length&&(u.svgElem=s=it.path(i).attr(o).add(),k)){g=function(n){s.on(n,function(t){k[n].apply(u,[t])})};for(nt in k)g(nt)}return c&&r(c.text)&&i&&i.length&&e.width>0&&e.height>0&&!i.flat?(c=l({align:h&&f&&"center",x:h?!f&&4:10,verticalAlign:!h&&f&&"middle",y:h?f?16:10:f?6:-4,rotation:h&&!f&&90},c),this.renderLabel(c,i,f,tt)):a&&a.hide(),u},renderLabel:function(n,t,i,r){var f=this,u=f.label,l=f.axis.chart.renderer,e,o,s,h,c;u||(e={align:n.textAlign||n.align,rotation:n.rotation},e.zIndex=r,f.label=u=l.text(n.text,0,0,n.useHTML).attr(e).css(n.style).add());o=[t[1],t[4],i?t[6]:t[1]];s=[t[2],t[5],i?t[7]:t[2]];h=iu(o);c=iu(s);u.align(n,!1,{x:h,y:c,width:cr(o)-h,height:cr(s)-c});u.show()},destroy:function(){li(this.axis.plotLinesAndBands,this);delete this.axis;ru(this)}},ye={getPlotBandPath:function(n,t){var i=this.getPlotLinePath(t,null,null,!0),r=this.getPlotLinePath(n,null,null,!0);return r&&i?(r.flat=r.toString()===i.toString(),r.push(i[4],i[5],i[1],i[2])):r=null,r},addPlotBand:function(n){return this.addPlotBandOrLine(n,"plotBands")},addPlotLine:function(n){return this.addPlotBandOrLine(n,"plotLines")},addPlotBandOrLine:function(n,t){var i=new s.PlotLineOrBand(this,n).render(),r=this.userOptions;return i&&(t&&(r[t]=r[t]||[],r[t].push(n)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(n){for(var r=this.plotLinesAndBands,u=this.options,f=this.userOptions,t=r.length;t--;)r[t].id===n&&r[t].destroy();i([u.plotLines||[],f.plotLines||[],u.plotBands||[],f.plotBands||[]],function(i){for(t=i.length;t--;)i[t].id===n&&li(i,i[t])})}},ti=s.Axis=function(){this.init.apply(this,arguments)},ti.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0,y:15},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return s.numberFormat(this.total,-1)},style:l(at.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0,y:-15},title:{rotation:0}},init:function(n,i){var e=i.isX,u=this,h,c;u.chart=n;u.horiz=n.inverted?!e:e;u.isXAxis=e;u.coll=e?"xAxis":"yAxis";u.opposite=i.opposite;u.side=i.side||(u.horiz?u.opposite?0:2:u.opposite?1:3);u.setOptions(i);var f=this.options,s=f.type,l=s==="datetime";u.labelFormatter=f.labels.formatter||u.defaultLabelFormatter;u.userOptions=i;u.minPixelPadding=0;u.reversed=f.reversed;u.visible=f.visible!==!1;u.zoomEnabled=f.zoomEnabled!==!1;u.categories=f.categories||s==="category";u.names=u.names||[];u.isLog=s==="logarithmic";u.isDatetimeAxis=l;u.isLinked=r(f.linkedTo);u.ticks={};u.labelEdge=[];u.minorTicks={};u.plotLinesAndBands=[];u.alternateBands={};u.len=0;u.minRange=u.userMinRange=f.minRange||f.maxZoom;u.range=f.range;u.offset=f.offset||0;u.stacks={};u.oldStacks={};u.stacksTouched=0;u.max=null;u.min=null;u.crosshair=t(f.crosshair,pi(n.options.tooltip.crosshairs)[e?0:1],!1);c=u.options.events;si(u,n.axes)===-1&&(e&&!this.isColorAxis?n.axes.splice(n.xAxis.length,0,u):n.axes.push(u),n[u.coll].push(u));u.series=u.series||[];n.inverted&&e&&u.reversed===o&&(u.reversed=!0);u.removePlotBand=u.removePlotBandOrLine;u.removePlotLine=u.removePlotBandOrLine;for(h in c)b(u,h,c[h]);u.isLog&&(u.val2lin=hr,u.lin2val=ci)},setOptions:function(n){this.options=l(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],l(rt[this.coll],n))},defaultLabelFormatter:function(){var r=this.axis,n=this.value,l=r.categories,e=this.dateTimeLabelFormat,u=rt.lang.numericSymbols,i=u&&u.length,f,t,h=r.options.labels.format,c=r.isLog?n:r.tickInterval;if(h)t=br(h,this);else if(l)t=n;else if(e)t=dr(e,n);else if(i&&c>=1e3)while(i--&&t===o)f=Math.pow(1e3,i+1),c>=f&&n*10%f==0&&u[i]!==null&&(t=s.numberFormat(n/f,-1)+u[i]);return t===o&&(t=g(n)>=1e4?s.numberFormat(n,-1):s.numberFormat(n,-1,o,"")),t},getSeriesExtremes:function(){var n=this,f=n.chart;n.hasVisibleSeries=!1;n.dataMin=n.dataMax=n.threshold=null;n.softThreshold=!n.isXAxis;n.buildStacks&&n.buildStacks();i(n.series,function(i){if(i.visible||!f.options.chart.ignoreHiddenSeries){var l=i.options,e,o=l.threshold,s,h;n.hasVisibleSeries=!0;n.isLog&&o<=0&&(o=null);n.isXAxis?(e=i.xData,e.length&&(n.dataMin=c(t(n.dataMin,e[0]),iu(e)),n.dataMax=u(t(n.dataMax,e[0]),cr(e)))):(i.getExtremes(),h=i.dataMax,s=i.dataMin,r(s)&&r(h)&&(n.dataMin=c(t(n.dataMin,s),s),n.dataMax=u(t(n.dataMax,h),h)),r(o)&&(n.threshold=o),(!l.softThreshold||n.isLog)&&(n.softThreshold=!1))}})},translate:function(n,t,i,r,u,f){var e=this.linkedParent||this,o=1,c=0,s=r?e.oldTransA:e.transA,l=r?e.oldMin:e.min,h,a=e.minPixelPadding,v=(e.isOrdinal||e.isBroken||e.isLog&&u)&&e.lin2val;return s||(s=e.transA),i&&(o*=-1,c=e.len),e.reversed&&(o*=-1,c-=o*(e.sector||e.len)),t?(n=n*o+c,n-=a,h=n/s+l,v&&(h=e.lin2val(h))):(v&&(n=e.val2lin(n)),f==="between"&&(f=.5),h=o*(n-l)*s+c+o*a+(hi(f)?s*f*e.pointRange:0)),h},toPixels:function(n,t){return this.translate(n,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(n,t){return this.translate(n-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(n,i,r,f,o){var s=this,h=s.chart,p=s.left,w=s.top,l,a,v,y,k=r&&h.oldChartHeight||h.chartHeight,tt=r&&h.oldChartWidth||h.chartWidth,b,d=s.transB,g=function(n,t,i){return(n<t||n>i)&&(f?n=c(u(t,n),i):b=!0),n};return o=t(o,s.translate(n,null,null,r)),l=v=e(o+d),a=y=e(k-o-d),isNaN(o)?b=!0:s.horiz?(a=w,y=k-s.bottom,l=v=g(l,p,p+s.width)):(l=p,v=tt-s.right,a=y=g(a,w,w+s.height)),b&&!f?null:h.renderer.crispLine([ht,l,a,nt,v,y],i||1)},getLinearTickPositions:function(n,t,i){var r,u,e=ni(et(t/n)*n),o=ni(vi(i/n)*n),f=[];if(t===i&&hi(t))return[t];for(r=e;r<=o;){if(f.push(r),r=ni(r+n),r===u)break;u=r}return f},getMinorTickPositions:function(){var n=this,u=n.options,f=n.tickPositions,i=n.minorTickInterval,t=[],e,r,h=n.pointRangePadding||0,o=n.min-h,s=n.max+h,c=s-o,l;if(c&&c/i<n.len/3)if(n.isLog)for(l=f.length,r=1;r<l;r++)t=t.concat(n.getLogTickPositions(i,f[r-1],f[r],!0));else if(n.isDatetimeAxis&&u.minorTickInterval==="auto")t=t.concat(n.getTimeTicks(n.normalizeTimeTickInterval(i),o,s,u.startOfWeek));else for(e=o+(f[0]-o)%i;e<=s;e+=i)t.push(e);return t.length!==0&&n.trimTicks(t,u.startOnTick,u.endOnTick),t},adjustForMinRange:function(){var n=this,h=n.options,u=n.min,f=n.max,y,b=n.dataMax-n.dataMin>=n.minRange,a,l,p,v,k,s,w,e;n.isXAxis&&n.minRange===o&&!n.isLog&&(r(h.min)||r(h.max)?n.minRange=null:(i(n.series,function(n){for(v=n.xData,k=n.xIncrement?1:v.length-1,l=k;l>0;l--)p=v[l]-v[l-1],(a===o||p<a)&&(a=p)}),n.minRange=c(a*5,n.dataMax-n.dataMin)));f-u<n.minRange&&(e=n.minRange,y=(e-f+u)/2,s=[u-y,t(h.min,u-y)],b&&(s[2]=n.dataMin),u=cr(s),w=[u+e,t(h.max,u+e)],b&&(w[2]=n.dataMax),f=iu(w),f-u<e&&(s[0]=f-e,s[1]=t(h.min,f-e),u=cr(s)));n.min=u;n.max=f},setAxisTranslation:function(n){var f=this,p=f.max-f.min,h=f.axisPointRange||0,e,o=0,s=0,l=f.linkedParent,a,w=!!f.categories,v=f.transA,y=f.isXAxis;(y||w||h)&&(l?(o=l.minPointOffset,s=l.pointRangePadding):(i(f.series,function(n){var t=n.closestPointRange;!n.noSharedTooltip&&r(t)&&(e=r(e)?c(e,t):t)}),i(f.series,function(n){var i=w?1:y?t(n.options.pointRange,e,0):f.axisPointRange||0,r=n.options.pointPlacement;h=u(h,i);f.single||(o=u(o,fr(r)?0:i/2),s=u(s,r==="on"?0:i))})),a=f.ordinalSlope&&e?f.ordinalSlope/e:1,f.minPointOffset=o=o*a,f.pointRangePadding=s=s*a,f.pointRange=c(h,p),y&&(f.closestPointRange=e));n&&(f.oldTransA=v);f.translationSlope=f.transA=v=f.len/(p+s||1);f.transB=f.horiz?f.left:f.bottom;f.minPixelPadding=v*o},minFromRange:function(){return this.max-this.range},setTickInterval:function(n){var f=this,ut=f.chart,e=f.options,g=f.isLog,nt=f.isDatetimeAxis,ft=f.isXAxis,v=f.isLinked,p=e.maxPadding,w=e.minPadding,y,h,s=e.tickInterval,b,k=e.tickPixelInterval,d=f.categories,o=f.threshold,tt=f.softThreshold,it,rt,l,a;nt||d||v||this.getTickAmount();l=t(f.userMin,e.min);a=t(f.userMax,e.max);v?(f.linkedParent=ut[f.coll][e.linkedTo],h=f.linkedParent.getExtremes(),f.min=t(h.min,h.dataMin),f.max=t(h.max,h.dataMax),e.type!==f.linkedParent.options.type&&oi(11,1)):(!tt&&r(o)&&(f.dataMin>=o?(it=o,w=0):f.dataMax<=o&&(rt=o,p=0)),f.min=t(l,it,f.dataMin),f.max=t(a,rt,f.dataMax));g&&(!n&&c(f.min,t(f.dataMin,f.min))<=0&&oi(10,1),f.min=ni(hr(f.min),15),f.max=ni(hr(f.max),15));f.range&&r(f.max)&&(f.userMin=f.min=l=u(f.min,f.minFromRange()),f.userMax=a=f.max,f.range=null);f.beforePadding&&f.beforePadding();f.adjustForMinRange();d||f.axisPointRange||f.usePercentage||v||!r(f.min)||!r(f.max)||(y=f.max-f.min,y&&(!r(l)&&w&&(f.min-=y*w),!r(a)&&p&&(f.max+=y*p)));hi(e.floor)&&(f.min=u(f.min,e.floor));hi(e.ceiling)&&(f.max=c(f.max,e.ceiling));tt&&r(f.dataMin)&&(o=o||0,!r(l)&&f.min<o&&f.dataMin>=o?f.min=o:!r(a)&&f.max>o&&f.dataMax<=o&&(f.max=o));f.tickInterval=f.min===f.max||f.min===undefined||f.max===undefined?1:v&&!s&&k===f.linkedParent.options.tickPixelInterval?s=f.linkedParent.tickInterval:t(s,this.tickAmount?(f.max-f.min)/u(this.tickAmount-1,1):undefined,d?1:(f.max-f.min)*k/u(f.len,k));ft&&!n&&i(f.series,function(n){n.processData(f.min!==f.oldMin||f.max!==f.oldMax)});f.setAxisTranslation(!0);f.beforeSetTickPositions&&f.beforeSetTickPositions();f.postProcessTickInterval&&(f.tickInterval=f.postProcessTickInterval(f.tickInterval));f.pointRange&&!s&&(f.tickInterval=u(f.pointRange,f.tickInterval));b=t(e.minTickInterval,f.isDatetimeAxis&&f.closestPointRange);!s&&f.tickInterval<b&&(f.tickInterval=b);nt||g||s||(f.tickInterval=gf(f.tickInterval,null,df(f.tickInterval),t(e.allowDecimals,!(f.tickInterval>.5&&f.tickInterval<5&&f.max>1e3&&f.max<9999)),!!this.tickAmount));!this.tickAmount&&this.len&&(f.tickInterval=f.unsquish());this.setTickPositions()},setTickPositions:function(){var t=this.options,n,u=t.tickPositions,i=t.tickPositioner,e=t.startOnTick,o=t.endOnTick,f;this.tickmarkOffset=this.categories&&t.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0;this.minorTickInterval=t.minorTickInterval==="auto"&&this.tickInterval?this.tickInterval/5:t.minorTickInterval;this.tickPositions=n=u&&u.slice();n||(n=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,t.units),this.min,this.max,t.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),n.length>this.len&&(n=[n[0],n.pop()]),this.tickPositions=n,i&&(i=i.apply(this,[this.min,this.max]),i&&(this.tickPositions=n=i)));this.isLinked||(this.trimTicks(n,e,o),this.min===this.max&&r(this.min)&&!this.tickAmount&&(f=!0,this.min-=.5,this.max+=.5),this.single=f,u||i||this.adjustTickAmount())},trimTicks:function(n,t,i){var u=n[0],f=n[n.length-1],e=this.minPointOffset||0;if(t)this.min=u;else while(this.min-e>n[0])n.shift();if(i)this.max=f;else while(this.max+e<n[n.length-1])n.pop();n.length===0&&r(u)&&n.push((f+u)/2)},alignToOthers:function(){var n={},t,r=this.options;return this.chart.options.chart.alignTicks!==!1&&r.alignTicks!==!1&&i(this.chart[this.coll],function(i){var r=i.options,f=i.horiz,u=[f?r.left:r.top,r.width,r.height,r.pane].join(",");i.series.length&&(n[u]?t=!0:n[u]=1)}),t},getTickAmount:function(){var t=this.options,n=t.tickAmount,i=t.tickPixelInterval;!r(t.tickInterval)&&this.len<i&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(n=2);!n&&this.alignToOthers()&&(n=vi(this.len/i)+1);n<4&&(this.finalTickAmt=n,n=5);this.tickAmount=n},adjustTickAmount:function(){var s=this.tickInterval,n=this.tickPositions,i=this.tickAmount,u=this.finalTickAmt,f=n&&n.length,t,e;if(f<i){while(n.length<i)n.push(ni(n[n.length-1]+s));this.transA*=(f-1)/(i-1);this.max=n[n.length-1]}else f>i&&(this.tickInterval*=2,this.setTickPositions());if(r(u)){for(t=e=n.length;t--;)(u===3&&t%2==1||u<=2&&t>0&&t<e-1)&&n.splice(t,1);this.finalTickAmt=o}},setScale:function(){var n=this,r,t;n.oldMin=n.min;n.oldMax=n.max;n.oldAxisLength=n.len;n.setAxisSize();t=n.len!==n.oldAxisLength;i(n.series,function(n){(n.isDirtyData||n.isDirty||n.xAxis.isDirty)&&(r=!0)});t||r||n.isLinked||n.forceRedraw||n.userMin!==n.oldUserMin||n.userMax!==n.oldUserMax||n.alignToOthers()?(n.resetStacks&&n.resetStacks(),n.forceRedraw=!1,n.getSeriesExtremes(),n.setTickInterval(),n.oldUserMin=n.userMin,n.oldUserMax=n.userMax,n.isDirty||(n.isDirty=t||n.min!==n.oldMin||n.max!==n.oldMax)):n.cleanStacks&&n.cleanStacks()},setExtremes:function(n,r,u,e,o){var s=this,h=s.chart;u=t(u,!0);i(s.series,function(n){delete n.kdTree});o=f(o,{min:n,max:r});w(s,"setExtremes",o,function(){s.userMin=n;s.userMax=r;s.eventArgs=o;u&&h.redraw(e)})},zoom:function(n,i){var f=this.dataMin,e=this.dataMax,s=this.options,h=c(f,t(s.min,f)),l=u(e,t(s.max,e));return this.allowZoomOutside||(r(f)&&n<=h&&(n=h),r(e)&&i>=l&&(i=l)),this.displayBtn=n!==o||i!==o,this.setExtremes(n,i,!1,o,{trigger:"zoom"}),!0},setAxisSize:function(){var n=this.chart,i=this.options,s=i.offsetLeft||0,l=i.offsetRight||0,h=this.horiz,e=t(i.width,n.plotWidth-s+l),r=t(i.height,n.plotHeight),f=t(i.top,n.plotTop),o=t(i.left,n.plotLeft+s),c=/%$/;c.test(r)&&(r=Math.round(parseFloat(r)/100*n.plotHeight));c.test(f)&&(f=Math.round(parseFloat(f)/100*n.plotHeight+n.plotTop));this.left=o;this.top=f;this.width=e;this.height=r;this.bottom=n.chartHeight-r-f;this.right=n.chartWidth-e-o;this.len=u(h?e:r,0);this.pos=h?o:f},getExtremes:function(){var n=this,t=n.isLog;return{min:t?ni(ci(n.min)):n.min,max:t?ni(ci(n.max)):n.max,dataMin:n.dataMin,dataMax:n.dataMax,userMin:n.userMin,userMax:n.userMax}},getThreshold:function(n){var t=this,u=t.isLog,r=u?ci(t.min):t.min,i=u?ci(t.max):t.max;return n===null?n=i<0?i:r:r>n?n=r:i<n&&(n=i),t.translate(n,0,1,0,1)},autoLabelAlign:function(n){var i=(t(n,0)-this.side*90+720)%360;return i>15&&i<165?"right":i>195&&i<345?"left":"center"},unsquish:function(){var p=this.chart,h=this.ticks,n=this.options.labels,w=this.horiz,e=this.tickInterval,o=e,c=this.len/(((this.categories?1:0)+this.max-this.min)/e),l,u=n.rotation,a=p.renderer.fontMetrics(n.style.fontSize,h[0]&&h[0].label),s,v=Number.MAX_VALUE,f,y=function(n){var t=n/(c||1);return t=t>1?vi(t):1,t*e};return w?(f=!n.staggerLines&&!n.step&&(r(u)?[u]:c<t(n.autoRotationLimit,80)&&n.autoRotation),f&&i(f,function(n){var t;(n===u||n&&n>=-90&&n<=90)&&(s=y(g(a.h/vt(dt*n))),t=s+g(n/360),t<v&&(v=t,l=n,o=s))})):n.step||(o=y(a.h)),this.autoRotation=f,this.labelRotation=t(l,u),o},renderUnsquish:function(){var n=this.chart,k=n.renderer,r=this.tickPositions,f=this.ticks,t=this.options.labels,v=this.horiz,d=n.margin,tt=this.categories?r.length:r.length-1,y=this.slotWidth=v&&(t.step||0)<2&&!t.rotation&&(this.staggerLines||1)*n.plotWidth/tt||!v&&(d[3]&&d[3]-n.spacing[3]||n.chartWidth*.33),g=u(1,e(y-2*(t.padding||5))),o={},a=k.fontMetrics(t.style.fontSize,f[0]&&f[0].label),nt=t.style.textOverflow,s,c=0,h,w,b;if(fr(t.rotation)||(o.rotation=t.rotation||0),this.autoRotation)i(r,function(n){n=f[n];n&&n.labelLength>c&&(c=n.labelLength)}),c>g&&c>a.h?o.rotation=this.labelRotation:this.labelRotation=0;else if(y&&(s={width:g+p},!nt))for(s.textOverflow="clip",w=r.length;!v&&w--;)b=r[w],h=f[b].label,h&&(h.styles.textOverflow==="ellipsis"&&h.css({textOverflow:"clip"}),(h.getBBox().height>this.len/r.length-(a.h-a.f)||f[b].labelLength>y)&&(h.specCss={textOverflow:"ellipsis"}));o.rotation&&(s={width:(c>n.chartHeight*.5?n.chartHeight*.33:n.chartHeight)+p},nt||(s.textOverflow="ellipsis"));this.labelAlign=t.align||this.autoLabelAlign(this.labelRotation);this.labelAlign&&(o.align=this.labelAlign);i(r,function(n){var i=f[n],t=i&&i.label;t&&(t.attr(o),s&&t.css(l(s,t.specCss)),delete t.specCss,i.rotation=o.rotation)});this.tickRotCorr=k.rotCorr(a.b,this.labelRotation||0,this.side!==0)},hasData:function(){return this.hasVisibleSeries||r(this.min)&&r(this.max)&&!!this.tickPositions},getOffset:function(){var n=this,l=n.chart,a=l.renderer,o=n.options,tt=n.tickPositions,s=n.ticks,v=n.horiz,e=n.side,it=l.inverted?[1,0,3,2][e]:e,y,p,rt=0,w,ut=0,f=o.title,c=o.labels,h=0,b,ot=n.opposite,k=l.axisOffset,st=l.clipOffset,ht,d=[-1,1,1,-1][e],g,nt=n.axisParent,ct;if(y=n.hasData(),n.showAxis=p=y||t(o.showEmpty,!0),n.staggerLines=n.horiz&&c.staggerLines,n.axisGroup||(n.gridGroup=a.g("grid").attr({zIndex:o.gridZIndex||1}).add(nt),n.axisGroup=a.g("axis").attr({zIndex:o.zIndex||2}).add(nt),n.labelGroup=a.g("axis-labels").attr({zIndex:c.zIndex||7}).addClass(ft+n.coll.toLowerCase()+"-labels").add(nt)),y||n.isLinked)i(tt,function(t){s[t]?s[t].addLabel():s[t]=new ou(n,t)}),n.renderUnsquish(),c.reserveSpace!==!1&&(e===0||e===2||{1:"left",3:"right"}[e]===n.labelAlign||n.labelAlign==="center")&&i(tt,function(n){h=u(s[n].getLabelSize(),h)}),n.staggerLines&&(h*=n.staggerLines,n.labelOffset=h*(n.opposite?-1:1));else for(g in s)s[g].destroy(),delete s[g];f&&f.text&&f.enabled!==!1&&(n.axisTitle||(n.axisTitle=a.text(f.text,0,0,f.useHTML).attr({zIndex:7,rotation:f.rotation||0,align:f.textAlign||{low:ot?"right":"left",middle:"center",high:ot?"left":"right"}[f.align]}).addClass(ft+this.coll.toLowerCase()+"-title").css(f.style).add(n.axisGroup),n.axisTitle.isNew=!0),p&&(rt=n.axisTitle.getBBox()[v?"height":"width"],w=f.offset,ut=r(w)?0:t(f.margin,v?5:10)),n.axisTitle[p?"show":"hide"](!0));n.offset=d*t(o.offset,k[e]);n.tickRotCorr=n.tickRotCorr||{x:0,y:0};ct=e===2?n.tickRotCorr.y:0;b=Math.abs(h)+ut+(h&&d*(v?t(c.y,n.tickRotCorr.y+8):c.x)-ct);n.axisTitleMargin=t(w,b);k[e]=u(k[e],n.axisTitleMargin+rt+d*n.offset,b);ht=o.offset?0:et(o.lineWidth/2)*2;st[it]=u(st[it],ht)},getLinePath:function(n){var t=this.chart,r=this.opposite,u=this.offset,i=this.horiz,f=this.left+(r?this.width:0)+u,e=t.chartHeight-this.bottom-(r?this.height:0)+u;return r&&(n*=-1),t.renderer.crispLine([ht,i?this.left:f,i?e:this.top,nt,i?t.chartWidth-this.right:f,i?e:t.chartHeight-this.bottom],n)},getTitlePosition:function(){var n=this.horiz,f=this.left,e=this.top,i=this.len,t=this.options.title,r=n?f:e,u=this.opposite,o=this.offset,s=t.x||0,h=t.y||0,v=a(t.style.fontSize||12),c={low:r+(n?0:i),middle:r+i/2,high:r+(n?i:0)}[t.align],l=(n?e+this.height:f)+(n?1:-1)*(u?-1:1)*this.axisTitleMargin+(this.side===2?v:0);return{x:n?c+s:l+(u?this.width:0)+o+s,y:n?l+h-(u?this.height:0)+o:c+h}},render:function(){var n=this,l=n.chart,b=l.renderer,e=n.options,k=n.isLog,d=n.isLinked,c=n.tickPositions,a=n.axisTitle,t=n.ticks,f=n.minorTicks,u=n.alternateBands,g=e.stackLabels,nt=e.alternateGridColor,h=n.tickmarkOffset,y=e.lineWidth,p,ut=l.hasRendered,tt=ut&&r(n.oldMin)&&!isNaN(n.oldMin),it=n.showAxis,rt=b.globalAnimation,w,v;n.labelEdge.length=0;n.overlap=!1;i([t,f,u],function(n){for(var t in n)n[t].isActive=!1});(n.hasData()||d)&&(n.minorTickInterval&&!n.categories&&i(n.getMinorTickPositions(),function(t){f[t]||(f[t]=new ou(n,t,"minor"));tt&&f[t].isNew&&f[t].render(null,!0);f[t].render(null,!1,1)}),c.length&&(i(c,function(i,r){(!d||i>=n.min&&i<=n.max)&&(t[i]||(t[i]=new ou(n,i)),tt&&t[i].isNew&&t[i].render(r,!0,.1),t[i].render(r))}),h&&(n.min===0||n.single)&&(t[-1]||(t[-1]=new ou(n,-1,null,!0)),t[-1].render(-1))),nt&&i(c,function(t,i){v=c[i+1]!==o?c[i+1]+h:n.max-h;i%2==0&&t<n.max&&v<=n.max+(l.polar?-h:h)&&(u[t]||(u[t]=new s.PlotLineOrBand(n)),w=t+h,u[t].options={from:k?ci(w):w,to:k?ci(v):v,color:nt},u[t].render(),u[t].isActive=!0)}),n._addedPlotLB||(i((e.plotLines||[]).concat(e.plotBands||[]),function(t){n.addPlotBandOrLine(t)}),n._addedPlotLB=!0));i([t,f,u],function(n){var t,i,r=[],f=rt?rt.duration||500:0,e=function(){for(i=r.length;i--;)n[r[i]]&&!n[r[i]].isActive&&(n[r[i]].destroy(),delete n[r[i]])};for(t in n)n[t].isActive||(n[t].render(t,!1,0),n[t].isActive=!1,r.push(t));nu(e,n===u||!l.hasRendered||!f?0:f)});y&&(p=n.getLinePath(y),n.axisLine?n.axisLine.animate({d:p}):n.axisLine=b.path(p).attr({stroke:e.lineColor,"stroke-width":y,zIndex:7}).add(n.axisGroup),n.axisLine[it?"show":"hide"](!0));a&&it&&(a[a.isNew?"attr":"animate"](n.getTitlePosition()),a.isNew=!1);g&&g.enabled&&n.renderStackTotals();n.isDirty=!1},redraw:function(){this.visible&&(this.render(),i(this.plotLinesAndBands,function(n){n.render()}));i(this.series,function(n){n.isDirty=!0})},destroy:function(n){var t=this,r=t.stacks,u,e=t.plotLinesAndBands,f;n||ct(t);for(u in r)ru(r[u]),r[u]=null;for(i([t.ticks,t.minorTicks,t.alternateBands],function(n){ru(n)}),f=e.length;f--;)e[f].destroy();i(["stackTotalGroup","axisLine","axisTitle","axisGroup","cross","gridGroup","labelGroup"],function(n){t[n]&&(t[n]=t[n].destroy())});this.cross&&this.cross.destroy()},drawCrosshair:function(n,i){var f,u=this.crosshair,e,o,s,h;if(this.crosshair&&(r(i)||!t(u.snap,!0))!==!1){if(t(u.snap,!0)?r(i)&&(e=this.isXAxis?i.plotX:this.len-i.plotY):e=this.horiz?n.chartX-this.pos:this.len-n.chartY+this.pos,f=this.isRadial?this.getPlotLinePath(this.isXAxis?i.x:t(i.stackY,i.y))||null:this.getPlotLinePath(null,null,null,null,e)||null,f===null){this.hideCrosshair();return}s=this.categories&&!this.isRadial;h=t(u.width,s?this.transA:1);this.cross?this.cross.attr({d:f,visibility:"visible","stroke-width":h}):(o={"stroke-width":h,stroke:u.color||(s?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:t(u.zIndex,2)},u.dashStyle&&(o.dashstyle=u.dashStyle),this.cross=this.chart.renderer.path(f).attr(o).add())}else this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}},f(ti.prototype,ye),ti.prototype.getTimeTicks=function(n,u,e,o){var y=[],p,w={},b=rt.global.useUTC,l,s=new ei(u-bu(u)),h=n.unitRange,c=n.count;if(r(u)){s[pe](h>=v.second?0:c*et(s.getMilliseconds()/c));h>=v.second&&s[we](h>=v.minute?0:c*et(s.getSeconds()/c));h>=v.minute&&s[be](h>=v.hour?0:c*et(s[lf]()/c));h>=v.hour&&s[ke](h>=v.day?0:c*et(s[af]()/c));h>=v.day&&s[yf](h>=v.month?1:c*et(s[yu]()/c));h>=v.month&&(s[pf](h>=v.year?0:c*et(s[pu]()/c)),l=s[wu]());h>=v.year&&(l-=l%c,s[wf](l));h===v.week&&s[yf](s[yu]()-s[vf]()+t(o,1));p=1;(cf||vu)&&(s=s.getTime(),s=new ei(s+bu(s)));l=s[wu]();for(var a=s.getTime(),k=s[pu](),d=s[yu](),g=!b||!!vu,nt=(v.day+(b?bu(s):s.getTimezoneOffset()*6e4))%v.day;a<e;)y.push(a),h===v.year?a=ff(l+p*c,0):h===v.month?a=ff(l,k+p*c):g&&(h===v.day||h===v.week)?a=ff(l,k,d+p*c*(h===v.day?1:7)):a+=h*c,p++;y.push(a);i(vr(y,function(n){return h<=v.hour&&n%v.day===nt}),function(n){w[n]="day"})}return y.info=f(n,{higherRanks:w,totalRange:h*c}),y},ti.prototype.normalizeTimeTickInterval=function(n,t){for(var f=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],i=f[f.length-1],r=v[i[0]],o=i[1],s,h,e=0;e<f.length;e++)if(i=f[e],r=v[i[0]],o=i[1],f[e+1]&&(h=(r*o[o.length-1]+v[f[e+1][0]])/2,n<=h))break;return r===v.year&&n<5*r&&(o=[1,2,5]),s=gf(n/r,o,i[0]==="year"?u(df(n/r),1):1),{unitRange:r,count:s,unitName:i[0]}},ti.prototype.getLogTickPositions=function(n,i,r,u){var f=this,p=f.options,w=f.len,h=[],b,a,c,l,k,v,s,y;if(u||(f._minorAutoInterval=null),n>=.5)n=e(n),h=f.getLinearTickPositions(n,i,r);else if(n>=.08)for(b=et(i),a=n>.3?[1,2,4]:n>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],c=b;c<r+1&&!y;c++)for(k=a.length,l=0;l<k&&!y;l++)v=hr(ci(c)*a[l]),v>i&&(!u||s<=r)&&s!==o&&h.push(s),s>r&&(y=!0),s=v;else{var d=ci(i),g=ci(r),nt=p[u?"minorTickInterval":"tickInterval"],tt=nt==="auto"?null:nt,it=p.tickPixelInterval/(u?5:1),rt=u?w/f.tickPositions.length:w;n=t(tt,f._minorAutoInterval,(g-d)*it/(rt||1));n=gf(n,null,df(n));h=ur(f.getLinearTickPositions(n,d,g),hr);u||(f._minorAutoInterval=n/5)}return u||(f.tickInterval=n),h},ie=s.Tooltip=function(){this.init.apply(this,arguments)},ie.prototype={init:function(n,t){var r=t.borderWidth,i=t.style,u=a(i.padding);this.chart=n;this.options=t;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=!0;this.label=n.renderer.label("",0,0,t.shape||"callout",null,null,t.useHTML,null,"tooltip").attr({padding:u,fill:t.backgroundColor,"stroke-width":r,r:t.borderRadius,zIndex:8}).css(i).css({padding:0}).add().attr({y:-9999});gt||this.label.shadow(t.shadow);this.shared=t.shared},destroy:function(){this.label&&(this.label=this.label.destroy());clearTimeout(this.hideTimer);clearTimeout(this.tooltipTimeout)},move:function(n,t,i,r){var u=this,e=u.now,s=u.options.animation!==!1&&!u.isHidden&&(g(n-e.x)>1||g(t-e.y)>1),h=u.followPointer||u.len>1;f(e,{x:s?(2*e.x+n)/3:n,y:s?(e.y+t)/2:t,anchorX:h?o:s?(2*e.anchorX+i)/3:i,anchorY:h?o:s?(e.anchorY+r)/2:r});u.label.attr(e);s&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){u&&u.move(n,t,i,r)},32))},hide:function(n){var i=this;clearTimeout(this.hideTimer);n=t(n,this.options.hideDelay,500);this.isHidden||(this.hideTimer=nu(function(){i.label[n?"fadeOut":"hide"]();i.isHidden=!0},n))},getAnchor:function(n,t){var u,r=this.chart,f=r.inverted,c=r.plotTop,v=r.plotLeft,s=0,h=0,l,a;return n=pi(n),u=n[0].tooltipPos,this.followPointer&&t&&(t.chartX===o&&(t=r.pointer.normalize(t)),u=[t.chartX-r.plotLeft,t.chartY-c]),u||(i(n,function(n){l=n.series.yAxis;a=n.series.xAxis;s+=n.plotX+(!f&&a?a.left-v:0);h+=(n.plotLow?(n.plotLow+n.plotHigh)/2:n.plotY)+(!f&&l?l.top-c:0)}),s/=n.length,h/=n.length,u=[f?r.plotWidth-h:s,this.shared&&!f&&n.length>1&&t?t.chartY-c:f?r.plotHeight-s:h]),ur(u,e)},getPosition:function(n,i,r){var f=this.chart,o=this.distance,e={},s=r.h||0,h,l=["y",f.chartHeight,i,r.plotY+f.plotTop,f.plotTop,f.plotTop+f.plotHeight],a=["x",f.chartWidth,n,r.plotX+f.plotLeft,f.plotLeft,f.plotLeft+f.plotWidth],p=t(r.ttBelow,f.inverted&&!r.negative||!f.inverted&&r.negative),w=function(n,t,i,r,f,h){var v=i<r-o,y=r+o+i<t,l=r-o-i,a=r+o;if(p&&y)e[n]=a;else if(!p&&v)e[n]=l;else if(v)e[n]=c(h-i,l-s<0?l:l-s);else if(y)e[n]=u(f,a+s+i>t?a:a+s);else return!1},b=function(n,t,i,r){var u;return r<o||r>t-o?u=!1:e[n]=r<i/2?1:r>t-i/2?t-i-2:r-i/2,u},v=function(n){var t=l;l=a;a=t;h=n},y=function(){w.apply(0,l)!==!1?b.apply(0,a)!==!1||h||(v(!0),y()):h?e.x=e.y=0:(v(!0),y())};return(f.inverted||this.len>1)&&v(),y(),e},defaultFormatter:function(n){var i=this.points||pi(this),t;return t=[n.tooltipFooterHeaderFormatter(i[0])],t=t.concat(n.bodyFormatter(i)),t.push(n.tooltipFooterHeaderFormatter(i[0],!0)),t.join("")},refresh:function(n,r){var u=this,f=u.chart,e=u.label,p=u.options,c,l,o,s={},h,a=[],k=p.formatter||u.defaultFormatter,b=f.hoverPoints,v,d=u.shared,y;clearTimeout(this.hideTimer);u.followPointer=pi(n)[0].series.tooltipOptions.followPointer;o=u.getAnchor(n,r);c=o[0];l=o[1];!d||n.series&&n.series.noSharedTooltip?s=n.getLabelConfig():(f.hoverPoints=n,b&&i(b,function(n){n.setState()}),i(n,function(n){n.setState(fi);a.push(n.getLabelConfig())}),s={x:n[0].category,y:n[0].y},s.points=a,this.len=a.length,n=n[0]);h=k.call(s,u);y=n.series;this.distance=t(y.tooltipOptions.distance,16);h===!1?this.hide():(u.isHidden&&(yr(e),e.attr("opacity",1).show()),e.attr({text:h}),v=p.borderColor||n.color||y.color||"#606060",e.attr({stroke:v}),u.updatePosition({plotX:c,plotY:l,negative:n.negative,ttBelow:n.ttBelow,h:o[2]||0}),this.isHidden=!1);w(f,"tooltipRefresh",{text:h,x:c+f.plotLeft,y:l+f.plotTop,borderColor:v})},updatePosition:function(n){var t=this.chart,i=this.label,r=(this.options.positioner||this.getPosition).call(this,i.width,i.height,n);this.move(e(r.x),e(r.y||0),n.plotX+t.plotLeft,n.plotY+t.plotTop)},getXDateFormat:function(n,t,i){var u,f=t.dateTimeLabelFormats,e=i&&i.closestPointRange,r,h="01-01 00:00:00.000",o={millisecond:15,second:12,minute:9,hour:6,day:3},s,c="millisecond";if(e){s=dr("%m-%d %H:%M:%S.%L",n.x);for(r in v){if(e===v.week&&+dr("%w",n.x)===i.options.startOfWeek&&s.substr(6)===h.substr(6)){r="week";break}if(v[r]>e){r=c;break}if(o[r]&&s.substr(o[r])!==h.substr(o[r]))break;r!=="week"&&(c=r)}r&&(u=f[r])}else u=f.day;return u||f.year},tooltipFooterHeaderFormatter:function(n,t){var s=t?"footer":"header",r=n.series,u=r.tooltipOptions,i=u.xDateFormat,f=r.xAxis,o=f&&f.options.type==="datetime"&&hi(n.key),e=u[s+"Format"];return o&&!i&&(i=this.getXDateFormat(n,u,f)),o&&i&&(e=e.replace("{point.key}","{point.key:"+i+"}")),br(e,{point:n,series:r})},bodyFormatter:function(n){return ur(n,function(n){var t=n.series.tooltipOptions;return(t.pointFormatter||n.point.tooltipFormatter).call(n.point,t.pointFormat)})}},lu=h&&h.documentElement.ontouchstart!==o,kr=s.Pointer=function(n,t){this.init(n,t)},kr.prototype={init:function(n,i){var e=i.chart,o=e.events,h=gt?"":e.zoomType,r=n.inverted,u,f;this.options=i;this.chart=n;this.zoomX=u=/x/.test(h);this.zoomY=f=/y/.test(h);this.zoomHor=u&&!r||f&&r;this.zoomVert=f&&!r||u&&r;this.hasZoom=u||f;this.runChartClick=o&&!!o.click;this.pinchDown=[];this.lastValidTouch={};s.Tooltip&&i.tooltip.enabled&&(n.tooltip=new ie(n,i.tooltip),this.followTouchMove=t(i.tooltip.followTouchMove,!0));this.setDOMEvents()},normalize:function(t,i){var s,h,r;return t=t||n.event,t.target||(t.target=t.srcElement),r=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,i||(this.chartPosition=i=bf(this.chart.container)),r.pageX===o?(s=u(t.x,t.clientX-i.left),h=t.y):(s=r.pageX-i.left,h=r.pageY-i.top),f(t,{chartX:e(s),chartY:e(h)})},getCoordinates:function(n){var t={xAxis:[],yAxis:[]};return i(this.chart.axes,function(i){t[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(n[i.horiz?"chartX":"chartY"])})}),t},runPointActions:function(n){var l=this,a=l.chart,c=a.series,r=a.tooltip,s=r?r.shared:!1,k,v=a.hoverPoint,f=a.hoverSeries,e,d=[Number.MAX_VALUE,Number.MAX_VALUE],y,p,g,nt,o=[],u=[],w;if(!s&&!f)for(e=0;e<c.length;e++)(c[e].directTouch||!c[e].options.stickyTracking)&&(c=[]);if(g=f&&(s?f.noSharedTooltip:f.directTouch),g&&v?u=[v]:(i(c,function(i){p=i.noSharedTooltip&&s;nt=!s&&i.directTouch;i.visible&&!p&&!nt&&t(i.options.enableMouseTracking,!0)&&(w=i.searchPoint(n,!p&&i.kdDimensions===1),w&&o.push(w))}),i(o,function(n){n&&i(["dist","distX"],function(t,i){typeof n[t]=="number"&&n[t]<d[i]&&(d[i]=n[t],u[i]=n)})})),s)for(e=o.length;e--;)(o[e].clientX!==u[1].clientX||o[e].series.noSharedTooltip)&&o.splice(e,1);if(u[0]&&(u[0]!==this.prevKDPoint||r&&r.isHidden))if(s&&!u[0].series.noSharedTooltip)o.length&&r&&r.refresh(o,n),i(o,function(t){t.onMouseOver(n,t!==(f&&f.directTouch&&v||u[0]))}),this.prevKDPoint=u[1];else{if(r&&r.refresh(u[0],n),!f||!f.directTouch)u[0].onMouseOver(n);this.prevKDPoint=u[0]}else k=f&&f.tooltipOptions.followPointer,r&&k&&!r.isHidden&&(y=r.getAnchor([{}],n),r.updatePosition({plotX:y[0],plotY:y[1]}));l._onDocumentMouseMove||(l._onDocumentMouseMove=function(n){if(ut[kt])ut[kt].pointer.onDocumentMouseMove(n)},b(h,"mousemove",l._onDocumentMouseMove));i(s?o:[t(u[1],v)],function(t){var r=t&&t.series;r&&i(["xAxis","yAxis","colorAxis"],function(i){r[i]&&r[i].drawCrosshair(n,t)})})},reset:function(n,r){var o=this,u=o.chart,l=u.hoverSeries,f=u.hoverPoint,s=u.hoverPoints,e=u.tooltip,c=e&&e.shared?s:f;n=n&&e&&c;n&&i(pi(c),function(t){t.plotX===undefined&&(n=!1)});n?(e.refresh(c),f&&(f.setState(f.state,!0),i(u.axes,function(n){t(n.options.crosshair&&n.options.crosshair.snap,!0)?n.drawCrosshair(null,f):n.hideCrosshair()}))):(f&&f.onMouseOut(),s&&i(s,function(n){n.setState()}),l&&l.onMouseOut(),e&&e.hide(r),o._onDocumentMouseMove&&(ct(h,"mousemove",o._onDocumentMouseMove),o._onDocumentMouseMove=null),i(u.axes,function(n){n.hideCrosshair()}),o.hoverX=u.hoverPoints=u.hoverPoint=null)},scaleGroups:function(n,t){var r=this.chart,u;i(r.series,function(i){u=n||i.getPlotBox();i.xAxis&&i.xAxis.zoomEnabled&&(i.group.attr(u),i.markerGroup&&(i.markerGroup.attr(u),i.markerGroup.clip(t?r.clipRect:null)),i.dataLabelsGroup&&i.dataLabelsGroup.attr(u))});r.clipRect.attr(t||r.clipBox)},dragStart:function(n){var t=this.chart;t.mouseIsDown=n.type;t.cancelClick=!1;t.mouseDownX=this.mouseDownX=n.chartX;t.mouseDownY=this.mouseDownY=n.chartY},drag:function(n){var t=this.chart,s=t.options.chart,u=n.chartX,f=n.chartY,y=this.zoomHor,p=this.zoomVert,e=t.plotLeft,o=t.plotTop,l=t.plotWidth,a=t.plotHeight,v,r,i=this.selectionMarker,h=this.mouseDownX,c=this.mouseDownY,w=s.panKey&&n[s.panKey+"Key"];i&&i.touch||(u<e?u=e:u>e+l&&(u=e+l),f<o?f=o:f>o+a&&(f=o+a),this.hasDragged=Math.sqrt(Math.pow(h-u,2)+Math.pow(c-f,2)),this.hasDragged>10&&(v=t.isInsidePlot(h-e,c-o),t.hasCartesianSeries&&(this.zoomX||this.zoomY)&&v&&!w&&(i||(this.selectionMarker=i=t.renderer.rect(e,o,y?1:l,p?1:a,0).attr({fill:s.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())),i&&y&&(r=u-h,i.attr({width:g(r),x:(r>0?0:r)+h})),i&&p&&(r=f-c,i.attr({height:g(r),y:(r>0?0:r)+c})),v&&!i&&s.panning&&t.pan(n,s.panning)))},drop:function(n){var v=this,e=this.chart,o=this.hasPinched;if(this.selectionMarker){var s={originalEvent:n,xAxis:[],yAxis:[]},t=this.selectionMarker,h=t.attr?t.attr("x"):t.x,l=t.attr?t.attr("y"):t.y,p=t.attr?t.attr("width"):t.width,b=t.attr?t.attr("height"):t.height,a;(this.hasDragged||o)&&(i(e.axes,function(t){if(t.zoomEnabled&&r(t.min)&&(o||v[{xAxis:"zoomX",yAxis:"zoomY"}[t.coll]])){var i=t.horiz,f=n.type==="touchend"?t.minPixelPadding:0,e=t.toValue((i?h:l)+f),y=t.toValue((i?h+p:l+b)-f);s[t.coll].push({axis:t,min:c(e,y),max:u(e,y)});a=!0}}),a&&w(e,"selection",s,function(n){e.zoom(f(n,o?{animation:!1}:null))}));this.selectionMarker=this.selectionMarker.destroy();o&&this.scaleGroups()}e&&(y(e.container,{cursor:e._cursor}),e.cancelClick=this.hasDragged>10,e.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(n){n=this.normalize(n);n.preventDefault&&n.preventDefault();this.dragStart(n)},onDocumentMouseUp:function(n){ut[kt]&&ut[kt].pointer.drop(n)},onDocumentMouseMove:function(n){var t=this.chart,i=this.chartPosition;n=this.normalize(n,i);!i||this.inClass(n.target,"highcharts-tracker")||t.isInsidePlot(n.chartX-t.plotLeft,n.chartY-t.plotTop)||this.reset()},onContainerMouseLeave:function(n){var t=ut[kt];t&&(n.relatedTarget||n.toElement)&&(t.pointer.reset(),t.pointer.chartPosition=null)},onContainerMouseMove:function(n){var t=this.chart;r(kt)&&ut[kt]&&ut[kt].mouseIsDown||(kt=t.index);n=this.normalize(n);n.returnValue=!1;t.mouseIsDown==="mousedown"&&this.drag(n);(this.inClass(n.target,"highcharts-tracker")||t.isInsidePlot(n.chartX-t.plotLeft,n.chartY-t.plotTop))&&!t.openMenu&&this.runPointActions(n)},inClass:function(n,t){for(var i;n;){if(i=tt(n,"class"),i){if(i.indexOf(t)!==-1)return!0;if(i.indexOf(ft+"container")!==-1)return!1}n=n.parentNode}},onTrackerMouseOut:function(n){var t=this.chart.hoverSeries,i=n.relatedTarget||n.toElement;!t||!i||t.options.stickyTracking||this.inClass(i,ft+"tooltip")||this.inClass(i,ft+"series-"+t.index)||t.onMouseOut()},onContainerClick:function(n){var t=this.chart,i=t.hoverPoint,r=t.plotLeft,u=t.plotTop;n=this.normalize(n);t.cancelClick||(i&&this.inClass(n.target,ft+"tracker")?(w(i.series,"click",f(n,{point:i})),t.hoverPoint&&i.firePointEvent("click",n)):(f(n,this.getCoordinates(n)),t.isInsidePlot(n.chartX-r,n.chartY-u)&&w(t,"click",n)))},setDOMEvents:function(){var n=this,t=n.chart.container;t.onmousedown=function(t){n.onContainerMouseDown(t)};t.onmousemove=function(t){n.onContainerMouseMove(t)};t.onclick=function(t){n.onContainerClick(t)};b(t,"mouseleave",n.onContainerMouseLeave);au===1&&b(h,"mouseup",n.onDocumentMouseUp);lu&&(t.ontouchstart=function(t){n.onContainerTouchStart(t)},t.ontouchmove=function(t){n.onContainerTouchMove(t)},au===1&&b(h,"touchend",n.onDocumentTouchEnd))},destroy:function(){var n;ct(this.chart.container,"mouseleave",this.onContainerMouseLeave);au||(ct(h,"mouseup",this.onDocumentMouseUp),ct(h,"touchend",this.onDocumentTouchEnd));clearInterval(this.tooltipTimeout);for(n in this)this[n]=null}},f(s.Pointer.prototype,{pinchTranslate:function(n,t,i,r,u,f){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,n,t,i,r,u,f);(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,n,t,i,r,u,f)},pinchTranslateDirection:function(n,t,i,r,u,f,e,o){var v=this.chart,l=n?"x":"y",d=n?"X":"Y",y="chart"+d,ft=n?"width":"height",nt=v["plot"+(n?"Left":"Top")],a,s,tt,h=o||1,it=v.inverted,p=v.bounds[n?"h":"v"],w=t.length===1,b=t[0][y],c=i[0][y],et=!w&&t[1][y],k=!w&&i[1][y],rt,ut,ot,st=function(){!w&&g(b-et)>20&&(h=o||g(c-k)/g(b-et));tt=(nt-c)/h+b;a=v["plot"+(n?"Width":"Height")]/h};st();s=tt;s<p.min?(s=p.min,rt=!0):s+a>p.max&&(s=p.max-a,rt=!0);rt?(c-=.8*(c-e[l][0]),w||(k-=.8*(k-e[l][1])),st()):e[l]=[c,k];it||(f[l]=tt-nt,f[ft]=a);ot=it?n?"scaleY":"scaleX":"scale"+d;ut=it?1/h:h;u[ft]=a;u[l]=s;r[ot]=h;r["translate"+d]=ut*nt+(c-ut*b)},pinch:function(n){var r=this,o=r.chart,e=r.pinchDown,s=n.touches,h=s.length,l=r.lastValidTouch,a=r.hasZoom,v=r.selectionMarker,y={},w=h===1&&(r.inClass(n.target,ft+"tracker")&&o.runTrackerClick||r.runChartClick),p={};h>1&&(r.initiated=!0);a&&r.initiated&&!w&&n.preventDefault();ur(s,function(n){return r.normalize(n)});n.type==="touchstart"?(i(s,function(n,t){e[t]={chartX:n.chartX,chartY:n.chartY}}),l.x=[e[0].chartX,e[1]&&e[1].chartX],l.y=[e[0].chartY,e[1]&&e[1].chartY],i(o.axes,function(n){if(n.zoomEnabled){var i=o.bounds[n.horiz?"h":"v"],r=n.minPixelPadding,f=n.toPixels(t(n.options.min,n.dataMin)),e=n.toPixels(t(n.options.max,n.dataMax)),s=c(f,e),h=u(f,e);i.min=c(n.pos,s-r);i.max=u(n.pos+n.len,h+r)}}),r.res=!0):e.length&&(v||(r.selectionMarker=v=f({destroy:nr,touch:!0},o.plotBox)),r.pinchTranslate(e,s,y,v,p,l),r.hasPinched=a,r.scaleGroups(y,p),!a&&r.followTouchMove&&h===1?this.runPointActions(r.normalize(n)):r.res&&(r.res=!1,this.reset(!1,0)))},touch:function(n,t){var i=this.chart;kt=i.index;n.touches.length===1?(n=this.normalize(n),i.isInsidePlot(n.chartX-i.plotLeft,n.chartY-i.plotTop)&&!i.openMenu?(t&&this.runPointActions(n),this.pinch(n)):t&&this.reset()):n.touches.length===2&&this.pinch(n)},onContainerTouchStart:function(n){this.touch(n,!0)},onContainerTouchMove:function(n){this.touch(n)},onDocumentTouchEnd:function(n){ut[kt]&&ut[kt].pointer.drop(n)}}),n.PointerEvent||n.MSPointerEvent){var ki={},re=!!n.PointerEvent,wo=function(){var n,t=[];t.item=function(n){return this[n]};for(n in ki)ki.hasOwnProperty(n)&&t.push({pageX:ki[n].pageX,pageY:ki[n].pageY,target:ki[n].target});return t},ue=function(n,t,i,r){var u;(n.pointerType==="touch"||n.pointerType===n.MSPOINTER_TYPE_TOUCH)&&ut[kt]&&(r(n),u=ut[kt].pointer,u[t]({type:i,target:n.currentTarget,preventDefault:nr,touches:wo()}))};f(kr.prototype,{onContainerPointerDown:function(n){ue(n,"onContainerTouchStart","touchstart",function(n){ki[n.pointerId]={pageX:n.pageX,pageY:n.pageY,target:n.currentTarget}})},onContainerPointerMove:function(n){ue(n,"onContainerTouchMove","touchmove",function(n){ki[n.pointerId]={pageX:n.pageX,pageY:n.pageY};ki[n.pointerId].target||(ki[n.pointerId].target=n.currentTarget)})},onDocumentPointerUp:function(n){ue(n,"onDocumentTouchEnd","touchend",function(n){delete ki[n.pointerId]})},batchMSEvents:function(n){n(this.chart.container,re?"pointerdown":"MSPointerDown",this.onContainerPointerDown);n(this.chart.container,re?"pointermove":"MSPointerMove",this.onContainerPointerMove);n(h,re?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}});tu(kr.prototype,"init",function(n,t,i){n.call(this,t,i);this.hasZoom&&y(t.container,{"-ms-touch-action":ot,"touch-action":ot})});tu(kr.prototype,"setDOMEvents",function(n){n.apply(this);(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(b)});tu(kr.prototype,"destroy",function(n){this.batchMSEvents(ct);n.call(this)})}return ku=s.Legend=function(n,t){this.init(n,t)},ku.prototype={init:function(n,i){var r=this,f=i.itemStyle,u,e=i.itemMarginTop||0;(this.options=i,i.enabled)&&(r.itemStyle=f,r.itemHiddenStyle=l(f,i.itemHiddenStyle),r.itemMarginTop=e,r.padding=u=t(i.padding,8),r.initialItemX=u,r.initialItemY=u-5,r.maxItemWidth=0,r.chart=n,r.itemHeight=0,r.symbolWidth=t(i.symbolWidth,16),r.pages=[],r.render(),b(r.chart,"endResize",function(){r.positionCheckboxes()}))},colorizeItem:function(n,t){var h=this,y=h.options,c=n.legendItem,l=n.legendLine,r=n.legendSymbol,a=h.itemHiddenStyle.color,v=t?y.itemStyle.color:a,u=t?n.legendColor||n.color||"#CCC":a,i=n.options&&n.options.marker,f={fill:u},e,s;if(c&&c.css({fill:v,color:v}),l&&l.attr({stroke:u}),r){if(i&&r.isMarker){f.stroke=u;i=n.convertAttribs(i);for(e in i)s=i[e],s!==o&&(f[e]=s)}r.attr(f)}},positionItem:function(n){var u=this,f=u.options,s=f.symbolPadding,h=!f.rtl,e=n._legendItemPos,t=e[0],o=e[1],i=n.checkbox,r=n.legendGroup;r&&r.element&&r.translate(h?t:u.legendWidth-t-2*s-4,o);i&&(i.x=t,i.y=o)},destroyItem:function(n){var t=n.checkbox;i(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){n[t]&&(n[t]=n[t].destroy())});t&&uu(n.checkbox)},destroy:function(){var n=this,t=n.group,i=n.box;i&&(n.box=i.destroy());t&&(n.group=t.destroy())},positionCheckboxes:function(n){var r=this.group.alignAttr,t,u=this.clipHeight||this.legendHeight,f=this.titleHeight;r&&(t=r.translateY,i(this.allItems,function(i){var e=i.checkbox,o;e&&(o=t+f+e.y+(n||0)+3,y(e,{left:r.translateX+i.checkboxOffset+e.x-20+p,top:o+p,display:o>t-6&&o<t+u-6?"":ot}))}))},renderTitle:function(){var u=this.options,r=this.padding,n=u.title,t=0,i;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,r-3,r-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(n.style).add(this.group)),i=this.title.getBBox(),t=i.height,this.offsetWidth=i.width,this.contentGroup.attr({translateY:t}));this.titleHeight=t},setText:function(n){var t=this.options;n.legendItem.attr({text:t.labelFormat?br(t.labelFormat,n):t.labelFormatter.call(n)})},renderItem:function(n){var i=this,k=i.chart,v=k.renderer,r=i.options,s=r.layout==="horizontal",d=i.symbolWidth,y=r.symbolPadding,p=i.itemStyle,g=i.itemHiddenStyle,nt=i.padding,tt=s?t(r.itemDistance,20):0,it=!r.rtl,h,rt=r.width,w=r.itemMarginBottom||0,c=i.itemMarginTop,a=i.initialItemX,b,o,f=n.legendItem,ut=n.series&&n.series.drawLegendSymbol?n.series:n,ft=ut.options,et=i.createCheckboxForItem&&ft&&ft.showCheckbox,ot=r.useHTML;f||(n.legendGroup=v.g("legend-item").attr({zIndex:1}).add(i.scrollGroup),n.legendItem=f=v.text("",it?d+y:-y,i.baseline||0,ot).css(l(n.visible?p:g)).attr({align:it?"left":"right",zIndex:2}).add(n.legendGroup),i.baseline||(i.fontMetrics=v.fontMetrics(p.fontSize,f),i.baseline=i.fontMetrics.f+3+c,f.attr("y",i.baseline)),ut.drawLegendSymbol(i,n),i.setItemEvents&&i.setItemEvents(n,f,ot,p,g),et&&i.createCheckboxForItem(n));i.colorizeItem(n,n.visible);i.setText(n);b=f.getBBox();o=n.checkboxOffset=r.itemWidth||n.legendItemWidth||d+y+b.width+tt+(et?20:0);i.itemHeight=h=e(n.legendItemHeight||b.height);s&&i.itemX-a+o>(rt||k.chartWidth-2*nt-a-r.x)&&(i.itemX=a,i.itemY+=c+i.lastLineHeight+w,i.lastLineHeight=0);i.maxItemWidth=u(i.maxItemWidth,o);i.lastItemY=c+i.itemY+w;i.lastLineHeight=u(h,i.lastLineHeight);n._legendItemPos=[i.itemX,i.itemY];s?i.itemX+=o:(i.itemY+=c+h+w,i.lastLineHeight=h);i.offsetWidth=rt||u((s?i.itemX-a-tt:o)+nt,i.offsetWidth)},getAllItems:function(){var n=[];return i(this.chart.series,function(i){var u=i.options;t(u.showInLegend,r(u.linkedTo)?!1:o,!0)&&(n=n.concat(i.legendItems||(u.legendType==="point"?i.data:i)))}),n},adjustMargins:function(n,f){var o=this.chart,e=this.options,s=e.align.charAt(0)+e.verticalAlign.charAt(0)+e.layout.charAt(0);this.display&&!e.floating&&i([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(i,h){i.test(s)&&!r(n[h])&&(o[uf[h]]=u(o[uf[h]],o.legend[(h+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][h]*e[h%2?"x":"y"]+t(e.margin,12)+f[h]))})},render:function(){var n=this,a=n.chart,h=a.renderer,s=n.group,e,c,o,t,r=n.box,u=n.options,v=n.padding,l=u.borderWidth,y=u.backgroundColor;n.itemX=n.initialItemX;n.itemY=n.initialItemY;n.offsetWidth=0;n.lastItemY=0;s||(n.group=s=h.g("legend").attr({zIndex:7}).add(),n.contentGroup=h.g().attr({zIndex:1}).add(s),n.scrollGroup=h.g().add(n.contentGroup));n.renderTitle();e=n.getAllItems();ef(e,function(n,t){return(n.options&&n.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)});u.reversed&&e.reverse();n.allItems=e;n.display=c=!!e.length;n.lastLineHeight=0;i(e,function(t){n.renderItem(t)});o=(u.width||n.offsetWidth)+v;t=n.lastItemY+n.lastLineHeight+n.titleHeight;t=n.handleOverflow(t);t+=v;(l||y)&&(r?o>0&&t>0&&(r[r.isNew?"attr":"animate"](r.crisp({width:o,height:t})),r.isNew=!1):(n.box=r=h.rect(0,0,o,t,u.borderRadius,l||0).attr({stroke:u.borderColor,"stroke-width":l||0,fill:y||ot}).add(s).shadow(u.shadow),r.isNew=!0),r[c?"show":"hide"]());n.legendWidth=o;n.legendHeight=t;i(e,function(t){n.positionItem(t)});c&&s.align(f({width:o,height:t},u),!0,"spacingBox");a.isResizing||this.positionCheckboxes()},handleOverflow:function(n){var r=this,b=this.chart,h=b.renderer,l=this.options,d=l.y,rt=l.verticalAlign==="top",s=b.spacingBox.height+(rt?-d:d)-this.padding,g=l.maxHeight,a,v=this.clipRect,k=l.navigation,nt=t(k.animation,!0),y=k.arrowSize||12,f=this.nav,o=this.pages,p=this.padding,w,tt=this.allItems,it=function(n){v.attr({height:n});r.contentGroup.div&&(r.contentGroup.div.style.clip="rect("+p+"px,9999px,"+(p+n)+"px,0)")};return l.layout==="horizontal"&&(s/=2),g&&(s=c(s,g)),o.length=0,n>s?(this.clipHeight=a=u(s-20-this.titleHeight-p,0),this.currentPage=t(this.currentPage,1),this.fullHeight=n,i(tt,function(n,t){var i=n._legendItemPos[1],u=e(n.legendItem.getBBox().height),r=o.length;(!r||i-o[r-1]>a&&(w||i)!==o[r-1])&&(o.push(w||i),r++);t===tt.length-1&&i+u-o[r-1]>a&&o.push(i);i!==w&&(w=i)}),v||(v=r.clipRect=h.clipRect(0,p,9999,0),r.contentGroup.clip(v)),it(a),f||(this.nav=f=h.g().attr({zIndex:1}).add(this.group),this.up=h.symbol("triangle",0,0,y,y).on("click",function(){r.scroll(-1,nt)}).add(f),this.pager=h.text("",15,10).css(k.style).add(f),this.down=h.symbol("triangle-down",0,0,y,y).on("click",function(){r.scroll(1,nt)}).add(f)),r.scroll(0),n=s):f&&(it(b.chartHeight),f.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),n},scroll:function(n,t){var f=this.pages,r=f.length,i=this.currentPage+n,c=this.clipHeight,e=this.options.navigation,s=e.activeColor,h=e.inactiveColor,l=this.pager,a=this.padding,u;i>r&&(i=r);i>0&&(t!==o&&fu(t,this.chart),this.nav.attr({translateX:a,translateY:c+this.padding+7+this.titleHeight,visibility:sr}),this.up.attr({fill:i===1?h:s}).css({cursor:i===1?"default":"pointer"}),l.attr({text:i+"/"+r}),this.down.attr({x:18+this.pager.getBBox().width,fill:i===r?h:s}).css({cursor:i===r?"default":"pointer"}),u=-f[i-1]+this.initialItemY,this.scrollGroup.animate({translateY:u}),this.currentPage=i,this.positionCheckboxes(u))}},su=s.LegendSymbolMixin={drawRectangle:function(n,t){var i=n.options.symbolHeight||n.fontMetrics.f;t.legendSymbol=this.chart.renderer.rect(0,n.baseline-i+1,n.symbolWidth,i,n.options.symbolRadius||0).attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(n){var t=this.options,r=t.marker,i,o,s=n.symbolWidth,h=this.chart.renderer,c=this.legendGroup,u=n.baseline-e(n.fontMetrics.b*.3),f;t.lineWidth&&(f={"stroke-width":t.lineWidth},t.dashStyle&&(f.dashstyle=t.dashStyle),this.legendLine=h.path([ht,0,u,nt,s,u]).attr(f).add(c));r&&r.enabled!==!1&&(i=r.radius,this.legendSymbol=o=h.symbol(this.symbol,s/2-i,u-i,2*i,2*i,r).add(c),o.isMarker=!0)}},(/Trident\/7\.0/.test(di)||lr)&&tu(ku.prototype,"positionItem",function(n,t){var r=this,i=function(){t._legendItemPos&&n.call(r,t)};i();setTimeout(i)}),hu=s.Chart=function(){this.getArgs.apply(this,arguments)},s.chart=function(n,t,i){return new hu(n,t,i)},hu.prototype={callbacks:[],getArgs:function(){var n=[].slice.call(arguments);(fr(n[0])||n[0].nodeName)&&(this.renderTo=n.shift());this.init(n[0],n[1])},init:function(n,i){var f,s=n.series,u,e,r,o;if(n.series=null,f=l(rt,n),f.series=n.series=s,this.userOptions=n,u=f.chart,this.margin=this.splashArray("margin",u),this.spacing=this.splashArray("spacing",u),e=u.events,this.bounds={h:{},v:{}},this.callback=i,this.isResizing=0,this.options=f,this.axes=[],this.series=[],this.hasCartesianSeries=u.showAxes,r=this,r.index=ut.length,ut.push(r),au++,u.reflow!==!1&&b(r,"load",function(){r.initReflow()}),e)for(o in e)b(r,o,e[o]);r.xAxis=[];r.yAxis=[];r.animation=gt?!1:t(u.animation,!0);r.pointCount=r.colorCounter=r.symbolCounter=0;r.firstRender()},initSeries:function(n){var u=this,i=u.options.chart,f=n.type||i.type||i.defaultSeriesType,t,r=k[f];return r||oi(17,!0),t=new r,t.init(this,n),t},isInsidePlot:function(n,t,i){var r=i?t:n,u=i?n:t;return r>=0&&r<=this.plotWidth&&u>=0&&u<=this.plotHeight},redraw:function(n){var t=this,o=t.axes,u=t.series,c=t.pointer,l=t.legend,a=t.isDirtyLegend,s,v,y=t.hasCartesianSeries,h=t.isDirtyBox,p=u.length,e=p,r,b=t.renderer,k=b.isHidden(),d=[];for(fu(n,t),k&&t.cloneRenderTo(),t.layOutTitles();e--;)if(r=u[e],r.options.stacking&&(s=!0,r.isDirty)){v=!0;break}if(v)for(e=p;e--;)r=u[e],r.options.stacking&&(r.isDirty=!0);i(u,function(n){n.isDirty&&n.options.legendType==="point"&&(n.updateTotals&&n.updateTotals(),a=!0)});a&&l.options.enabled&&(l.render(),t.isDirtyLegend=!1);s&&t.getStacks();y&&(t.isResizing||(t.maxTicks=null,i(o,function(n){n.setScale()})));t.getMargins();y&&(i(o,function(n){n.isDirty&&(h=!0)}),i(o,function(n){var t=n.min+","+n.max;n.extKey!==t&&(n.extKey=t,d.push(function(){w(n,"afterSetExtremes",f(n.eventArgs,n.getExtremes()));delete n.eventArgs}));(h||s)&&n.redraw()}));h&&t.drawChartBox();i(u,function(n){n.isDirty&&n.visible&&(!n.isCartesian||n.xAxis)&&n.redraw()});c&&c.reset(!0);b.draw();w(t,"redraw");k&&t.cloneRenderTo(!0);i(d,function(n){n.call()})},get:function(n){for(var e=this,f=e.axes,i=e.series,r,u,t=0;t<f.length;t++)if(f[t].options.id===n)return f[t];for(t=0;t<i.length;t++)if(i[t].options.id===n)return i[t];for(t=0;t<i.length;t++)for(u=i[t].points||[],r=0;r<u.length;r++)if(u[r].id===n)return u[r];return null},getAxes:function(){var f=this,n=this.options,t=n.xAxis=pi(n.xAxis||{}),r=n.yAxis=pi(n.yAxis||{}),u;i(t,function(n,t){n.index=t;n.isX=!0});i(r,function(n,t){n.index=t});u=t.concat(r);i(u,function(n){new ti(f,n)})},getSelectedPoints:function(){var n=[];return i(this.series,function(t){n=n.concat(vr(t.points||[],function(n){return n.selected}))}),n},getSelectedSeries:function(){return vr(this.series,function(n){return n.selected})},setTitle:function(n,t,r){var u=this,f=u.options,e,o;e=f.title=l(f.title,n);o=f.subtitle=l(f.subtitle,t);i([["title",n,e],["subtitle",t,o]],function(n){var i=n[0],r=u[i],f=n[1],t=n[2];r&&f&&(u[i]=r=r.destroy());t&&t.text&&!r&&(u[i]=u.renderer.text(t.text,0,0,t.useHTML).attr({align:t.align,"class":ft+i,zIndex:t.zIndex||4}).css(t.style).add())});u.layOutTitles(r)},layOutTitles:function(n){var i=0,u=this.title,o=this.subtitle,h=this.options,r=h.title,e=h.subtitle,s,c=this.renderer,l=this.spacingBox.width-44;u&&(u.css({width:(r.width||l)+p}).align(f({y:c.fontMetrics(r.style.fontSize,u).b-3},r),!1,"spacingBox"),r.floating||r.verticalAlign||(i=u.getBBox().height));o&&(o.css({width:(e.width||l)+p}).align(f({y:i+(r.margin-13)+c.fontMetrics(e.style.fontSize,u).b},e),!1,"spacingBox"),e.floating||e.verticalAlign||(i=vi(i+o.getBBox().height)));s=this.titleOffset!==i;this.titleOffset=i;!this.isDirtyBox&&s&&(this.isDirtyBox=s,this.hasRendered&&t(n,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var n=this,i=n.options.chart,f=i.width,e=i.height,o=n.renderToClone||n.renderTo;r(f)||(n.containerWidth=ii(o,"width"));r(e)||(n.containerHeight=ii(o,"height"));n.chartWidth=u(0,f||n.containerWidth||600);n.chartHeight=u(0,t(e,n.containerHeight>19?n.containerHeight:400))},cloneRenderTo:function(n){var t=this.renderToClone,i=this.container;n?t&&(this.renderTo.appendChild(i),uu(t),delete this.renderToClone):(i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=t=this.renderTo.cloneNode(0),y(t,{position:yi,top:"-9999px",display:"block"}),t.style.setProperty&&t.style.setProperty("display","block","important"),h.body.appendChild(t),i&&t.appendChild(i))},getContainer:function(){var n=this,u,c=n.options,i=c.chart,e,o,t=n.renderTo,l="data-highcharts-chart",r,v,y="highcharts-"+hf++;t||(n.renderTo=t=i.renderTo);fr(t)&&(n.renderTo=t=h.getElementById(t));t||oi(13,!0);r=a(tt(t,l));!isNaN(r)&&ut[r]&&ut[r].hasRendered&&ut[r].destroy();tt(t,l,n.index);t.innerHTML="";i.skipClone||t.offsetWidth||n.cloneRenderTo();n.getChartSize();e=n.chartWidth;o=n.chartHeight;n.container=u=pt(ar,{className:ft+"container"+(i.className?" "+i.className:""),id:y},f({position:ve,overflow:tr,width:e+p,height:o+p,textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},i.style),n.renderToClone||t);n._cursor=u.style.cursor;v=s[i.renderer]||cu;n.renderer=new v(u,e,o,i.style,i.forExport,c.exporting&&c.exporting.allowHTML);gt&&n.renderer.create(n,u,e,o);n.renderer.chartIndex=n.index},getMargins:function(n){var t=this,i=t.spacing,f=t.margin,e=t.titleOffset;t.resetMargins();e&&!r(f[0])&&(t.plotTop=u(t.plotTop,e+t.options.title.margin+i[0]));t.legend.adjustMargins(f,i);t.extraBottomMargin&&(t.marginBottom+=t.extraBottomMargin);t.extraTopMargin&&(t.plotTop+=t.extraTopMargin);n||this.getAxisMargins()},getAxisMargins:function(){var n=this,t=n.axisOffset=[0,0,0,0],u=n.margin;n.hasCartesianSeries&&i(n.axes,function(n){n.visible&&n.getOffset()});i(uf,function(i,f){r(u[f])||(n[i]+=t[f])});n.setChartSize()},reflow:function(t){var i=this,f=i.options.chart,e=i.renderTo,r=f.width||ii(e,"width"),u=f.height||ii(e,"height"),o=t?t.target:n;!i.hasUserSize&&!i.isPrinting&&r&&u&&(o===n||o===h)&&((r!==i.containerWidth||u!==i.containerHeight)&&(clearTimeout(i.reflowTimeout),i.reflowTimeout=nu(function(){i.container&&(i.setSize(r,u,!1),i.hasUserSize=null)},t?100:0)),i.containerWidth=r,i.containerHeight=u)},initReflow:function(){var t=this,i=function(n){t.reflow(n)};b(n,"resize",i);b(t,"destroy",function(){ct(n,"resize",i)})},setSize:function(n,t,f){var o=this,h,c,l=o.renderer,s;o.isResizing+=1;fu(f,o);o.oldChartHeight=o.chartHeight;o.oldChartWidth=o.chartWidth;r(n)&&(o.chartWidth=h=u(0,e(n)),o.hasUserSize=!!h);r(t)&&(o.chartHeight=c=u(0,e(t)));s=l.globalAnimation;(s?gr:y)(o.container,{width:h+p,height:c+p},s);o.setChartSize(!0);l.setSize(h,c,f);o.maxTicks=null;i(o.axes,function(n){n.isDirty=!0;n.setScale()});i(o.series,function(n){n.isDirty=!0});o.isDirtyLegend=!0;o.isDirtyBox=!0;o.layOutTitles();o.getMargins();o.redraw(f);o.oldChartHeight=null;w(o,"resize");s=l.globalAnimation;nu(function(){o&&w(o,"endResize",null,function(){o.isResizing-=1})},s===!1?0:s&&s.duration||500)},setChartSize:function(n){var t=this,y=t.inverted,p=t.renderer,w=t.chartWidth,b=t.chartHeight,k=t.options.chart,r=t.spacing,o=t.clipOffset,c,l,a,v,s,h,f;t.plotLeft=a=e(t.plotLeft);t.plotTop=v=e(t.plotTop);t.plotWidth=s=u(0,e(w-a-t.marginRight));t.plotHeight=h=u(0,e(b-v-t.marginBottom));t.plotSizeX=y?h:s;t.plotSizeY=y?s:h;t.plotBorderWidth=k.plotBorderWidth||0;t.spacingBox=p.spacingBox={x:r[3],y:r[0],width:w-r[3]-r[1],height:b-r[0]-r[2]};t.plotBox=p.plotBox={x:a,y:v,width:s,height:h};f=2*et(t.plotBorderWidth/2);c=vi(u(f,o[3])/2);l=vi(u(f,o[0])/2);t.clipBox={x:c,y:l,width:et(t.plotSizeX-u(f,o[1])/2-c),height:u(0,et(t.plotSizeY-u(f,o[2])/2-l))};n||i(t.axes,function(n){n.setAxisSize();n.setAxisTranslation()})},resetMargins:function(){var n=this;i(uf,function(i,r){n[i]=t(n.margin[r],n.spacing[r])});n.axisOffset=[0,0,0,0];n.clipOffset=[0,0,0,0]},drawChartBox:function(){var n=this,t=n.options.chart,r=n.renderer,y=n.chartWidth,p=n.chartHeight,a=n.chartBackground,w=n.plotBackground,f=n.plotBorder,b=n.plotBGImage,u=t.borderWidth||0,k=t.backgroundColor,d=t.plotBackgroundColor,g=t.plotBackgroundImage,e=t.plotBorderWidth||0,i,o,s=n.plotLeft,h=n.plotTop,c=n.plotWidth,l=n.plotHeight,nt=n.plotBox,tt=n.clipRect,v=n.clipBox;i=u+(t.shadow?8:0);(u||k)&&(a?a.animate(a.crisp({width:y-i,height:p-i})):(o={fill:k||ot},u&&(o.stroke=t.borderColor,o["stroke-width"]=u),n.chartBackground=r.rect(i/2,i/2,y-i,p-i,t.borderRadius,u).attr(o).addClass(ft+"background").add().shadow(t.shadow)));d&&(w?w.animate(nt):n.plotBackground=r.rect(s,h,c,l,0).attr({fill:d}).add().shadow(t.plotShadow));g&&(b?b.animate(nt):n.plotBGImage=r.image(g,s,h,c,l).add());tt?tt.animate({width:v.width,height:v.height}):n.clipRect=r.clipRect(v);e&&(f?(f.strokeWidth=-e,f.animate(f.crisp({x:s,y:h,width:c,height:l}))):n.plotBorder=r.rect(s,h,c,l,0,-e).attr({stroke:t.plotBorderColor,"stroke-width":e,fill:ot,zIndex:1}).add());n.isDirtyBox=!1},propFromSeries:function(){var t=this,u=t.options.chart,n,f=t.options.series,e,r;i(["inverted","angular","polar"],function(i){for(n=k[u.type||u.defaultSeriesType],r=t[i]||u[i]||n&&n.prototype[i],e=f&&f.length;!r&&e--;)n=k[f[e].type],n&&n.prototype[i]&&(r=!0);t[i]=r})},linkSeries:function(){var n=this,r=n.series;i(r,function(n){n.linkedSeries.length=0});i(r,function(i){var r=i.options.linkedTo;fr(r)&&(r=r===":previous"?n.series[i.index-1]:n.get(r),r&&(r.linkedSeries.push(i),i.linkedParent=r,i.visible=t(i.options.visible,r.options.visible,i.visible)))})},renderSeries:function(){i(this.series,function(n){n.translate();n.render()})},renderLabels:function(){var n=this,t=n.options.labels;t.items&&i(t.items,function(i){var r=f(t.style,i.style),u=a(r.left)+n.plotLeft,e=a(r.top)+n.plotTop+12;delete r.left;delete r.top;n.renderer.text(i.html,u,e).attr({zIndex:2}).css(r).add()})},render:function(){var n=this,t=n.axes,s=n.renderer,f=n.options,e,o,r,u;n.setTitle();n.legend=new ku(n,f.legend);n.getStacks&&n.getStacks();n.getMargins(!0);n.setChartSize();e=n.plotWidth;o=n.plotHeight=n.plotHeight-21;i(t,function(n){n.setScale()});n.getAxisMargins();r=e/n.plotWidth>1.1;u=o/n.plotHeight>1.05;(r||u)&&(n.maxTicks=null,i(t,function(n){(n.horiz&&r||!n.horiz&&u)&&n.setTickInterval(!0)}),n.getMargins());n.drawChartBox();n.hasCartesianSeries&&i(t,function(n){n.visible&&n.render()});n.seriesGroup||(n.seriesGroup=s.g("series-group").attr({zIndex:3}).add());n.renderSeries();n.renderLabels();n.showCredits(f.credits);n.hasRendered=!0},showCredits:function(t){t.enabled&&!this.credits&&(this.credits=this.renderer.text(t.text,0,0).on("click",function(){t.href&&(n.location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position))},destroy:function(){var n=this,u=n.axes,f=n.series,r=n.container,t,e=r&&r.parentNode;for(w(n,"destroy"),ut[n.index]=o,au--,n.renderTo.removeAttribute("data-highcharts-chart"),ct(n),t=u.length;t--;)u[t]=u[t].destroy();for(t=f.length;t--;)f[t]=f[t].destroy();i(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(t){var i=n[t];i&&i.destroy&&(n[t]=i.destroy())});r&&(r.innerHTML="",ct(r),e&&uu(r));for(t in n)delete n[t]},isReadyToRender:function(){var t=this;return!wt&&n==n.top&&h.readyState!=="complete"||gt&&!n.canvg?(gt?to.push(function(){t.firstRender()},t.options.global.canvasToolsURL):h.attachEvent("onreadystatechange",function(){h.detachEvent("onreadystatechange",t.firstRender);h.readyState==="complete"&&t.firstRender()}),!1):!0},firstRender:function(){var n=this,t=n.options;n.isReadyToRender()&&(n.getContainer(),w(n,"init"),n.resetMargins(),n.setChartSize(),n.propFromSeries(),n.getAxes(),i(t.series||[],function(t){n.initSeries(t)}),n.linkSeries(),w(n,"beforeRender"),s.Pointer&&(n.pointer=new kr(n,t)),n.render(),n.renderer.draw(),n.renderer.imgCount||n.onload(),n.cloneRenderTo(!0))},onload:function(){var n=this;i([this.callback].concat(this.callbacks),function(t){t&&n.index!==undefined&&t.apply(n,[n])});n.renderer.imgCount||w(n,"load")},splashArray:function(n,i){var r=i[n],u=yt(r)?r:[r,r,r,r];return[t(i[n+"Top"],u[0]),t(i[n+"Right"],u[1]),t(i[n+"Bottom"],u[2]),t(i[n+"Left"],u[3])]}},io=s.CenteredSeriesMixin={getCenter:function(){for(var r=this.options,e=this.chart,u=2*(r.slicedOffset||0),o,s=e.plotWidth-2*u,h=e.plotHeight-2*u,l=r.center,n=[t(l[0],"50%"),t(l[1],"50%"),r.size||"100%",r.innerSize||0],a=c(s,h),f,i=0;i<4;++i)f=n[i],o=i<2||i===2&&/%$/.test(f),n[i]=de(f,[s,h,a,n[2]][i])+(o?u:0);return n[3]>n[2]&&(n[3]=n[2]),n}},er=function(){},er.prototype={init:function(n,t,i){var r=this,u;return r.series=n,r.color=n.color,r.applyOptions(t,i),r.pointAttr={},n.options.colorByPoint&&(u=n.options.colors||n.chart.options.colors,r.color=r.color||u[n.colorCounter++],n.colorCounter===u.length&&(n.colorCounter=0)),n.chart.pointCount++,r},applyOptions:function(n,t){var i=this,r=i.series,u=r.options.pointValKey||r.pointValKey;return n=er.prototype.optionsToObject.call(this,n),f(i,n),i.options=i.options?f(i.options,n):n,u&&(i.y=i[u]),i.isNull=i.y===null,typeof i.x!="number"&&r&&(i.x=t===undefined?r.autoIncrement():t),i},optionsToObject:function(n){var t={},i=this.series,u=i.options.keys,f=u||i.pointArrayMap||["y"],s=f.length,e,r=0,o=0;if(typeof n=="number"||n===null)t[f[0]]=n;else if(pr(n))for(!u&&n.length>s&&(e=typeof n[0],e==="string"?t.name=n[0]:e==="number"&&(t.x=n[0]),r++);o<s;)u&&n[r]===undefined||(t[f[o]]=n[r]),r++,o++;else typeof n=="object"&&(t=n,n.dataLabels&&(i._hasPointLabels=!0),n.marker&&(i._hasPointMarkers=!0));return t},destroy:function(){var n=this,u=n.series,t=u.chart,i=t.hoverPoints,r;t.pointCount--;i&&(n.setState(),li(i,n),i.length||(t.hoverPoints=null));n===t.hoverPoint&&n.onMouseOut();(n.graphic||n.dataLabel)&&(ct(n),n.destroyElements());n.legendItem&&t.legend.destroyItem(n);for(r in n)n[r]=null},destroyElements:function(){for(var t=this,r=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],n,i=6;i--;)n=r[i],t[n]&&(t[n]=t[n].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(n){var u=this.series,r=u.tooltipOptions,o=t(r.valueDecimals,""),f=r.valuePrefix||"",e=r.valueSuffix||"";return i(u.pointArrayMap||["y"],function(t){t="{point."+t;(f||e)&&(n=n.replace(t+"}",f+t+"}"+e));n=n.replace(t+"}",t+":,."+o+"f}")}),br(n,{point:this,series:this.series})},firePointEvent:function(n,t,i){var r=this,f=this.series,u=f.options;(u.point.events[n]||r.options&&r.options.events&&r.options.events[n])&&this.importEvents();n==="click"&&u.allowPointSelect&&(i=function(n){r.select&&r.select(null,n.ctrlKey||n.metaKey||n.shiftKey)});w(this,n,t,i)},visible:!0},d=s.Series=function(){},d.prototype={isCartesian:!0,type:"line",pointClass:er,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(n,r){var u=this,s,e,o=n.series,h=function(n,i){return t(n.options.index,n._i)-t(i.options.index,i._i)};u.chart=n;u.options=r=u.setOptions(r);u.linkedSeries=[];u.bindAxes();f(u,{name:r.name,state:bt,pointAttr:{},visible:r.visible!==!1,selected:r.selected===!0});gt&&(r.animation=!1);e=r.events;for(s in e)b(u,s,e[s]);(e&&e.click||r.point&&r.point.events&&r.point.events.click||r.allowPointSelect)&&(n.runTrackerClick=!0);u.getColor();u.getSymbol();i(u.parallelArrays,function(n){u[n+"Data"]=[]});u.setData(r.data,!1);u.isCartesian&&(n.hasCartesianSeries=!0);o.push(u);u._i=o.length-1;ef(o,h);this.yAxis&&ef(this.yAxis.series,h);i(o,function(n,t){n.index=t;n.name=n.name||"Series "+(t+1)})},bindAxes:function(){var n=this,t=n.options,u=n.chart,r;i(n.axisTypes||[],function(f){i(u[f],function(i){r=i.options;(t[f]===r.index||t[f]!==o&&t[f]===r.id||t[f]===o&&r.index===0)&&(i.series.push(n),n[f]=i,i.isDirty=!0)});n[f]||n.optionalAxis===f||oi(18,!0)})},updateParallelArrays:function(n,t){var r=n.series,u=arguments,f=typeof t=="number"?function(i){var u=i==="y"&&r.toYData?r.toYData(n):n[i];r[i+"Data"][t]=u}:function(n){Array.prototype[t].apply(r[n+"Data"],Array.prototype.slice.call(u,2))};i(r.parallelArrays,f)},autoIncrement:function(){var u=this.options,i=this.xIncrement,n,r,f=u.pointIntervalUnit;return i=t(i,u.pointStart,0),this.pointInterval=r=t(this.pointInterval,u.pointInterval,1),(f==="month"||f==="year")&&(n=new ei(i),n=f==="month"?+n[pf](n[pu]()+r):+n[wf](n[wu]()+r),r=n-i),this.xIncrement=i+r,i},setOptions:function(n){var f=this.chart,h=f.options,e=h.plotOptions,o=f.userOptions||{},u=o.plotOptions||{},s=e[this.type],t,i;return this.userOptions=n,t=l(s,e.series,n),this.tooltipOptions=l(rt.tooltip,rt.plotOptions[this.type].tooltip,o.tooltip,u.series&&u.series.tooltip,u[this.type]&&u[this.type].tooltip,n.tooltip),s.marker===null&&delete t.marker,this.zoneAxis=t.zoneAxis,i=this.zones=(t.zones||[]).slice(),(t.negativeColor||t.negativeFillColor)&&!t.zones&&i.push({value:t[this.zoneAxis+"Threshold"]||t.threshold||0,color:t.negativeColor,fillColor:t.negativeFillColor}),i.length&&r(i[i.length-1].value)&&i.push({color:this.color,fillColor:this.fillColor}),t},getCyclic:function(n,t,i){var u,f=this.userOptions,e="_"+n+"Index",o=n+"Counter";t||(r(f[e])?u=f[e]:(f[e]=u=this.chart[o]%i.length,this.chart[o]+=1),t=i[u]);this[n]=t},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||at[this.type].color,this.chart.options.colors)},getSymbol:function(){var n=this.options.marker;this.getCyclic("symbol",n.symbol,this.chart.options.symbols);/^url/.test(this.symbol)&&(n.radius=0)},drawLegendSymbol:su.drawLineMarker,setData:function(n,u,f,e){var h=this,a=h.points,d=a&&a.length||0,l,y=h.options,g=h.chart,p=null,v=h.xAxis,ut=v&&!!v.categories,s,nt=y.turboThreshold,c,k=this.xData,w=this.yData,tt=h.pointArrayMap,it=tt&&tt.length,b,rt;if(n=n||[],l=n.length,u=t(u,!0),e!==!1&&l&&d===l&&!h.cropped&&!h.hasGroupedData&&h.visible)i(n,function(n,t){a[t].update&&n!==y.data[t]&&a[t].update(n,!1,null,!1)});else{if(h.xIncrement=null,h.colorCounter=0,i(this.parallelArrays,function(n){h[n+"Data"].length=0}),nt&&l>nt){for(s=0;p===null&&s<l;)p=n[s],s++;if(hi(p)){for(b=t(y.pointStart,0),rt=t(y.pointInterval,1),s=0;s<l;s++)k[s]=b,w[s]=n[s],b+=rt;h.xIncrement=b}else if(pr(p))if(it)for(s=0;s<l;s++)c=n[s],k[s]=c[0],w[s]=c.slice(1,it+1);else for(s=0;s<l;s++)c=n[s],k[s]=c[0],w[s]=c[1];else oi(12)}else for(s=0;s<l;s++)n[s]!==o&&(c={series:h},h.pointClass.prototype.applyOptions.apply(c,[n[s]]),h.updateParallelArrays(c,s),ut&&r(c.name)&&(v.names[c.x]=c.name));for(fr(w[0])&&oi(14,!0),h.data=[],h.options.data=h.userOptions.data=n,s=d;s--;)a[s]&&a[s].destroy&&a[s].destroy();v&&(v.minRange=v.userMinRange);h.isDirty=h.isDirtyData=g.isDirtyBox=!0;f=!1}y.legendType==="point"&&(this.processData(),this.generatePoints());u&&g.redraw(f)},processData:function(n){var t=this,i=t.xData,l=t.yData,a=i.length,e,y=0,p,f,s,r=t.xAxis,u,w=t.options,b=w.cropThreshold,g=t.getExtremesFromAll||w.getExtremesFromAll,k=t.isCartesian,v,d=r&&r.val2lin,nt=r&&r.isLog,h,c;if(k&&!t.isDirty&&!r.isDirty&&!t.yAxis.isDirty&&!n)return!1;for(r&&(v=r.getExtremes(),h=v.min,c=v.max),k&&t.sorted&&!g&&(!b||a>b||t.forceCrop)&&(i[a-1]<h||i[0]>c?(i=[],l=[]):(i[0]<h||i[a-1]>c)&&(e=this.cropData(t.xData,t.yData,h,c),i=e.xData,l=e.yData,y=e.start,p=!0)),u=i.length||1;--u;)f=nt?d(i[u])-d(i[u-1]):i[u]-i[u-1],f>0&&(s===o||f<s)?s=f:f<0&&t.requireSorting&&oi(15);t.cropped=p;t.cropStart=y;t.processedXData=i;t.processedYData=l;t.closestPointRange=s},cropData:function(n,i,r,f){for(var c=n.length,s=0,h=c,l=t(this.cropShoulder,1),o,e=0;e<c;e++)if(n[e]>=r){s=u(0,e-l);break}for(o=e;o<c;o++)if(n[o]>f){h=o+l;break}return{xData:n.slice(s,h),yData:i.slice(s,h),start:s,end:h}},generatePoints:function(){var t=this,p=t.options,e=p.data,i=t.data,a,s=t.processedXData,w=t.processedYData,v=t.pointClass,h=s.length,y=t.cropStart||0,r,u=t.hasGroupedData,c,f=[],n,l;for(i||u||(l=[],l.length=e.length,i=t.data=l),n=0;n<h;n++)r=y+n,u?f[n]=(new v).init(t,[s[n]].concat(pi(w[n]))):(i[r]?c=i[r]:e[r]!==o&&(i[r]=c=(new v).init(t,e[r],s[n])),f[n]=c),f[n].index=r;if(i&&(h!==(a=i.length)||u))for(n=0;n<a;n++)n!==y||u||(n+=h),i[n]&&(i[n].destroyElements(),i[n].plotX=o);t.data=i;t.points=f},getExtremes:function(n){var v=this.xAxis,y=this.yAxis,f=this.processedXData,s,u=[],h=0,c=v.getExtremes(),p=c.min,w=c.max,l,a,e,t,i,r;for(n=n||this.stackedYData||this.processedYData,s=n.length,i=0;i<s;i++)if(e=f[i],t=n[i],l=t!==null&&t!==o&&(!y.isLog||t.length||t>0),a=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(f[i+1]||e)>=p&&(f[i-1]||e)<=w,l&&a)if(r=t.length,r)while(r--)t[r]!==null&&(u[h++]=t[r]);else u[h++]=t;this.dataMin=iu(u);this.dataMax=cr(u)},translate:function(){this.processedXData||this.processData();this.generatePoints();for(var i=this,y=i.options,ut=y.stacking,p=i.xAxis,k=p.categories,e=i.yAxis,ft=i.points,st=ft.length,ht=!!i.modifyValue,d=y.pointPlacement,ct=d==="between"||hi(d),w=y.threshold,et=y.startFromThreshold?w:0,h,b,ot,nt,tt=Number.MAX_VALUE,a=0;a<st;a++){var n=ft[a],v=n.x,f=n.y,s=n.low,it=ut&&e.stacks[(i.negStacks&&f<(et?0:w)?"-":"")+i.stackKey],l,rt;e.isLog&&f!==null&&f<=0&&(n.y=f=null,oi(10));n.plotX=h=c(u(-1e5,p.translate(v,0,0,0,1,d,this.type==="flags")),1e5);ut&&i.visible&&!n.isNull&&it&&it[v]&&(nt=i.getStackIndicator(nt,v,i.index),l=it[v],rt=l.points[nt.key],s=rt[0],f=rt[1],s===et&&(s=t(w,e.min)),e.isLog&&s<=0&&(s=null),n.total=n.stackTotal=l.total,n.percentage=l.total&&n.y/l.total*100,n.stackY=f,l.setOffset(i.pointXOffset||0,i.barW||0));n.yBottom=r(s)?e.translate(s,0,1,0,1):null;ht&&(f=i.modifyValue(f,n));n.plotY=b=typeof f=="number"&&f!==Infinity?c(u(-1e5,e.translate(f,0,1,0,1)),1e5):o;n.isInside=b!==o&&b>=0&&b<=e.len&&h>=0&&h<=p.len;n.clientX=ct?p.translate(v,0,0,0,1):h;n.negative=n.y<(w||0);n.category=k&&k[n.x]!==o?k[n.x]:n.x;a&&(tt=c(tt,g(h-ot)));ot=h}i.closestPointRangePx=tt},getValidPoints:function(n){return vr(n||this.points,function(n){return!n.isNull})},setClip:function(n){var t=this.chart,u=this.options,o=t.renderer,s=t.inverted,f=this.clipBox,e=f||t.clipBox,i=this.sharedClipKey||["_sharedClip",n&&n.duration,n&&n.easing,e.height,u.xAxis,u.yAxis].join(","),r=t[i],h=t[i+"m"];r||(n&&(e.width=0,t[i+"m"]=h=o.clipRect(-99,s?-t.plotLeft:-t.plotTop,99,s?t.chartWidth:t.chartHeight)),t[i]=r=o.clipRect(e));n&&(r.count+=1);u.clip!==!1&&(this.group.clip(n||f?r:t.clipRect),this.markerGroup.clip(h),this.sharedClipKey=i);n||(r.count-=1,r.count<=0&&i&&t[i]&&(f||(t[i]=t[i].destroy()),t[i+"m"]&&(t[i+"m"]=t[i+"m"].destroy())))},animate:function(n){var i=this,r=i.chart,f,t=i.options.animation,u;t&&!yt(t)&&(t=at[i.type].animation);n?i.setClip(t):(u=this.sharedClipKey,f=r[u],f&&f.animate({width:r.plotSizeX},t),r[u+"m"]&&r[u+"m"].animate({width:r.plotSizeX+99},t),i.animate=null)},afterAnimate:function(){this.setClip();w(this,"afterAnimate")},drawPoints:function(){var r=this,h,p=r.points,d=r.chart,l,e,a,n,i,v,w,u,g=r.options,c=g.marker,nt=r.pointAttr[""],s,b,k,y,tt=r.markerGroup,it=r.xAxis,rt=t(c.enabled,it.isRadial,r.closestPointRangePx>2*c.radius);if(c.enabled!==!1||r._hasPointMarkers)for(a=p.length;a--;)n=p[a],l=et(n.plotX),e=n.plotY,u=n.graphic,s=n.marker||{},b=!!n.marker,k=rt&&s.enabled===o||s.enabled,y=n.isInside,k&&e!==o&&!isNaN(e)&&n.y!==null?(h=n.pointAttr[n.selected?ir:bt]||nt,i=h.r,v=t(s.symbol,r.symbol),w=v.indexOf("url")===0,u?u[y?"show":"hide"](!0).attr(h).animate(f({x:l-i,y:e-i},u.symbolName?{width:2*i,height:2*i}:{})):y&&(i>0||w)&&(n.graphic=u=d.renderer.symbol(v,l-i,e-i,2*i,2*i,b?s:c).attr(h).add(tt))):u&&(n.graphic=u.destroy())},convertAttribs:function(n,i,r,u){var e=this.pointAttrToOptions,f,o,s={};n=n||{};i=i||{};r=r||{};u=u||{};for(f in e)o=e[f],s[f]=t(n[o],i[f],r[f],u[f]);return s},getAttribs:function(){var u=this,l=u.options,n=at[u.type].marker?l.marker:l,c=n.states,e=c[fi],a,b=u.color,g=u.options.negativeColor,ut={stroke:b,fill:b},nt=u.points||[],v,k,y,o,s=[],h,tt=u.pointAttrToOptions,p=u.hasPointSpecificOptions,ft=n.lineColor,et=n.fillColor,it=l.turboThreshold,d=u.zones,ot=u.zoneAxis||"y",w,rt;if(l.marker?(e.radius=e.radius||n.radius+e.radiusPlus,e.lineWidth=e.lineWidth||n.lineWidth+e.lineWidthPlus):(e.color=e.color||ri(e.color||b).brighten(e.brightness).get(),e.negativeColor=e.negativeColor||ri(e.negativeColor||g).brighten(e.brightness).get()),s[bt]=u.convertAttribs(n,ut),i([fi,ir],function(n){s[n]=u.convertAttribs(c[n],s[bt])}),u.pointAttr=s,v=nt.length,!it||v<it||p)while(v--){if(o=nt[v],n=o.options&&o.options.marker||o.options,n&&n.enabled===!1&&(n.radius=0),d.length){for(k=0,y=d[k];o[ot]>=y.value;)y=d[++k];o.color=o.fillColor=t(y.color,u.color)}if(p=l.colorByPoint||o.color,o.options)for(rt in tt)r(n[tt[rt]])&&(p=!0);p?(n=n||{},h=[],c=n.states||{},a=c[fi]=c[fi]||{},l.marker&&(!o.negative||a.fillColor||e.fillColor)||(a[u.pointAttrToOptions.fill]=a.color||!o.options.color&&e[o.negative&&g?"negativeColor":"color"]||ri(o.color).brighten(a.brightness||e.brightness).get()),w={color:o.color},et||(w.fillColor=o.color),ft||(w.lineColor=o.color),n.hasOwnProperty("color")&&!n.color&&delete n.color,h[bt]=u.convertAttribs(f(w,n),s[bt]),h[fi]=u.convertAttribs(c[fi],s[fi],h[bt]),h[ir]=u.convertAttribs(c[ir],s[ir],h[bt])):h=s;o.pointAttr=h}},destroy:function(){var n=this,f=n.chart,h=/AppleWebKit\/533/.test(di),o,e,s=n.data||[],u,t,r;for(w(n,"destroy"),ct(n),i(n.axisTypes||[],function(t){r=n[t];r&&(li(r.series,n),r.isDirty=r.forceRedraw=!0)}),n.legendItem&&n.chart.legend.destroyItem(n),e=s.length;e--;)u=s[e],u&&u.destroy&&u.destroy();n.points=null;clearTimeout(n.animationTimeout);for(t in n)n[t]instanceof it&&!n[t].survive&&(o=h&&t==="group"?"hide":"destroy",n[t][o]());f.hoverSeries===n&&(f.hoverSeries=null);li(f.series,n);for(t in n)delete n[t]},getGraphPath:function(n,t,u){var e=this,h=e.options,f=h.step,c,s=[],o;return n=n||e.points,c=n.reversed,c&&n.reverse(),f={right:1,center:2}[f]||f&&3,f&&c&&(f=4-f),!h.connectNulls||t||u||(n=this.getValidPoints(n)),i(n,function(i,c){var v=i.plotX,y=i.plotY,l=n[c-1],a;(i.leftCliff||l&&l.rightCliff)&&!u&&(o=!0);i.isNull&&!r(t)&&c>0?o=!h.connectNulls:i.isNull&&!t?o=!0:(c===0||o?a=[ht,i.plotX,i.plotY]:e.getPointSpline?a=e.getPointSpline(n,i,c):f?(a=f===1?[nt,l.plotX,y]:f===2?[nt,(l.plotX+v)/2,l.plotY,nt,(l.plotX+v)/2,y]:[nt,v,l.plotY],a.push(nt,v,y)):a=[nt,v,y],s.push.apply(s,a),o=!1)}),e.graphPath=s,s},drawGraph:function(){var t=this,n=this.options,u=[["graph",n.lineColor||this.color,n.dashStyle]],f=n.lineWidth,o=n.linecap!=="square",r=(this.gappedPath||this.getGraphPath).call(this),e=this.fillGraph&&this.color||ot,s=this.zones;i(s,function(i,r){u.push(["zoneGraph"+r,i.color||t.color,i.dashStyle||n.dashStyle])});i(u,function(i,u){var h=i[0],c=t[h],s;c?c.animate({d:r}):(f||e)&&r.length&&(s={stroke:i[1],"stroke-width":f,fill:e,zIndex:1},i[2]?s.dashstyle=i[2]:o&&(s["stroke-linecap"]=s["stroke-linejoin"]="round"),t[h]=t.chart.renderer.path(r).attr(s).add(t.group).shadow(u<2&&n.shadow))})},applyZones:function(){var g=this,r=this.chart,nt=r.renderer,tt=this.zones,s,h,l=this.clips||[],n,v=this.graph,y=this.area,p=u(r.chartWidth,r.chartHeight),f=this[(this.zoneAxis||"y")+"Axis"],a,it=f.reversed,rt=r.inverted,w=f.horiz,d,b,k,ut=!1;tt.length&&(v||y)&&f.min!==o&&(v&&v.hide(),y&&y.hide(),a=f.getExtremes(),i(tt,function(i,o){s=it?w?r.plotWidth:0:w?0:f.toPixels(a.min);s=c(u(t(h,s),0),p);h=c(u(e(f.toPixels(t(i.value,a.max),!0)),0),p);ut&&(s=h=f.toPixels(a.max));d=Math.abs(s-h);b=c(s,h);k=u(s,h);f.isXAxis?(n={x:rt?k:b,y:0,width:d,height:p},w||(n.x=r.plotHeight-n.x)):(n={x:0,y:rt?k:b,width:p,height:d},w&&(n.y=r.plotWidth-n.y));r.inverted&&nt.isVML&&(n=f.isXAxis?{x:0,y:it?b:k,height:n.width,width:r.chartWidth}:{x:n.y-r.plotLeft-r.spacingBox.x,y:0,width:n.height,height:r.chartHeight});l[o]?l[o].animate(n):(l[o]=nt.clipRect(n),v&&g["zoneGraph"+o].clip(l[o]),y&&g["zoneArea"+o].clip(l[o]));ut=i.value>a.max}),this.clips=l)},invertGroups:function(){function t(){var t={width:n.yAxis.len,height:n.xAxis.len};i(["group","markerGroup"],function(i){n[i]&&n[i].attr(t).invert()})}var n=this,r=n.chart;n.xAxis&&(b(r,"resize",t),b(n,"destroy",function(){ct(r,"resize",t)}),t(),n.invertGroups=t)},plotGroup:function(n,t,i,r,u){var f=this[n],e=!f;return e&&(this[n]=f=this.chart.renderer.g(t).attr({zIndex:r||.1}).add(u),f.addClass("highcharts-series-"+this.index)),f.attr({visibility:i})[e?"attr":"animate"](this.getPlotBox()),f},getPlotBox:function(){var t=this.chart,i=this.xAxis,n=this.yAxis;return t.inverted&&(i=n,n=this.xAxis),{translateX:i?i.left:t.plotLeft,translateY:n?n.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var n=this,r=n.chart,u,f=n.options,o=f.animation,e=o&&!!n.animate&&r.renderer.isSVG&&t(o.duration,500)||0,s=n.visible?"inherit":"hidden",h=f.zIndex,c=n.hasRendered,l=r.seriesGroup;u=n.plotGroup("group","series",s,h,l);n.markerGroup=n.plotGroup("markerGroup","markers",s,h,l);e&&n.animate(!0);n.getAttribs();u.inverted=n.isCartesian?r.inverted:!1;n.drawGraph&&(n.drawGraph(),n.applyZones());i(n.points,function(n){n.redraw&&n.redraw()});n.drawDataLabels&&n.drawDataLabels();n.visible&&n.drawPoints();n.drawTracker&&n.options.enableMouseTracking!==!1&&n.drawTracker();r.inverted&&n.invertGroups();f.clip===!1||n.sharedClipKey||c||u.clip(r.clipRect);e&&n.animate();c||(n.animationTimeout=nu(function(){n.afterAnimate()},e));n.isDirty=n.isDirtyData=!1;n.hasRendered=!0},redraw:function(){var n=this,i=n.chart,u=n.isDirtyData,o=n.isDirty,r=n.group,f=n.xAxis,e=n.yAxis;r&&(i.inverted&&r.attr({width:i.plotWidth,height:i.plotHeight}),r.animate({translateX:t(f&&f.left,i.plotLeft),translateY:t(e&&e.top,i.plotTop)}));n.translate();n.render();u&&w(n,"updatedData");(o||u)&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(n,t){var i=this,r=i.xAxis,u=i.yAxis,f=i.chart.inverted;return this.searchKDTree({clientX:f?r.len-n.chartY+r.pos:n.chartX-r.pos,plotY:f?u.len-n.chartX+u.pos:n.chartY-u.pos},t)},buildKDTree:function(){function t(i,r,u){var e,f,o=i&&i.length;if(o)return e=n.kdAxisArray[r%u],i.sort(function(n,t){return n[e]-t[e]}),f=Math.floor(o/2),{point:i[f],left:t(i.slice(0,f),r+1,u),right:t(i.slice(f+1),r+1,u)}}function r(){n.kdTree=t(n.getValidPoints(),i,i)}var n=this,i=n.kdDimensions;delete n.kdTree;nu(r,n.options.kdNow?0:1)},searchKDTree:function(n,t){function s(n,t){var i=r(n[u])&&r(t[u])?Math.pow(n[u]-t[u],2):null,o=r(n[f])&&r(t[f])?Math.pow(n[f]-t[f],2):null,e=(i||0)+(o||0);t.dist=r(e)?Math.sqrt(e):Number.MAX_VALUE;t.distX=r(i)?Math.sqrt(i):Number.MAX_VALUE}function e(n,t,r,u){var c=t.point,p=o.kdAxisArray[r%u],h,l,a,f=c,v,y;return s(n,c),h=n[p]-c[p],l=h<0?"left":"right",a=h<0?"right":"left",t[l]&&(v=e(n,t[l],r+1,u),f=v[i]<f[i]?v:c),t[a]&&Math.sqrt(h*h)<f[i]&&(y=e(n,t[a],r+1,u),f=y[i]<f[i]?y:f),f}var o=this,u=this.kdAxisArray[0],f=this.kdAxisArray[1],i=t?"distX":"dist";return this.kdTree||this.buildKDTree(),this.kdTree?e(n,this.kdTree,this.kdDimensions,this.kdDimensions):void 0}},ro.prototype={destroy:function(){ru(this,this.axis)},render:function(n){var t=this.options,i=t.format,r=i?br(i,this):t.formatter.call(this);this.label?this.label.attr({text:r,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(r,null,null,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:tr}).add(n)},setOffset:function(n,t){var v=this,i=v.axis,u=i.chart,f=u.inverted,c=i.reversed,l=this.isNegative&&!c||!this.isNegative&&c,r=i.translate(i.usePercentage?100:this.total,0,0,0,1),y=i.translate(0),e=g(r-y),a=u.xAxis[0].translate(this.x)+n,s=u.plotHeight,p={x:f?l?r:r-e:a,y:f?s-a-t:l?s-r-e:s-r,width:f?e:t,height:f?t:e},o=this.label,h;o&&(o.align(this.alignOptions,null,p),h=o.alignAttr,o[this.options.crop===!1||u.isInsidePlot(h.x,h.y)?"show":"hide"](!0))}},hu.prototype.getStacks=function(){var n=this;i(n.yAxis,function(n){n.stacks&&n.hasVisibleSeries&&(n.oldStacks=n.stacks)});i(n.series,function(i){i.options.stacking&&(i.visible===!0||n.options.chart.ignoreHiddenSeries===!1)&&(i.stackKey=i.type+t(i.options.stack,""))})},ti.prototype.buildStacks=function(){var r=this.series,u,f=t(this.options.reversedStacks,!0),i=r.length,n;if(!this.isXAxis){for(this.usePercentage=!1,n=i;n--;)r[f?n:i-n-1].setStackedPoints();for(n=i;n--;)u=r[f?n:i-n-1],u.setStackCliffs&&u.setStackCliffs();if(this.usePercentage)for(n=0;n<i;n++)r[n].setPercentStacks()}},ti.prototype.renderStackTotals=function(){var n=this,i=n.chart,o=i.renderer,u=n.stacks,f,r,e,t=n.stackTotalGroup;t||(n.stackTotalGroup=t=o.g("stack-labels").attr({visibility:sr,zIndex:6}).add());t.translate(i.plotLeft,i.plotTop);for(f in u){r=u[f];for(e in r)r[e].render(t)}},ti.prototype.resetStacks=function(){var n=this.stacks,t,i;if(!this.isXAxis)for(t in n)for(i in n[t])n[t][i].touched<this.stacksTouched?(n[t][i].destroy(),delete n[t][i]):(n[t][i].total=null,n[t][i].cum=0)},ti.prototype.cleanStacks=function(){var n,t,i;if(!this.isXAxis){this.oldStacks&&(n=this.stacks=this.oldStacks);for(t in n)for(i in n[t])n[t][i].cum=n[t][i].total}},d.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var r=this,ut=r.processedXData,k=r.processedYData,d=[],ft=k.length,l=r.options,nt=l.threshold,p=l.startFromThreshold?nt:0,et=l.stack,tt=l.stacking,w=r.stackKey,it="-"+w,rt=r.negStacks,o=r.yAxis,e=o.stacks,b=o.oldStacks,a,v,n,h,f,y,c,i,s;for(o.stacksTouched+=1,c=0;c<ft;c++)i=ut[c],s=k[c],a=r.getStackIndicator(a,i,r.index),y=a.key,v=rt&&s<(p?0:nt),f=v?it:w,e[f]||(e[f]={}),e[f][i]||(b[f]&&b[f][i]?(e[f][i]=b[f][i],e[f][i].total=null):e[f][i]=new ro(o,o.options.stackLabels,v,i,et)),n=e[f][i],s!==null&&(n.points[y]=n.points[r.index]=[t(n.cum,p)],n.touched=o.stacksTouched,a.index>0&&r.singleStacks===!1&&(n.points[y][0]=n.points[r.index+","+i+",0"][0])),tt==="percent"?(h=v?w:it,rt&&e[h]&&e[h][i]?(h=e[h][i],n.total=h.total=u(h.total,n.total)+g(s)||0):n.total=ni(n.total+(g(s)||0))):n.total=ni(n.total+(s||0)),n.cum=t(n.cum,p)+(s||0),s!==null&&n.points[y].push(n.cum),d[c]=n.cum;tt==="percent"&&(o.usePercentage=!0);this.stackedYData=d;o.oldStacks={}}},d.prototype.setPercentStacks=function(){var n=this,r=n.stackKey,u=n.yAxis.stacks,f=n.processedXData,t;i([r,"-"+r],function(i){for(var o=f.length,s,e,r,h;o--;)s=f[o],t=n.getStackIndicator(t,s,n.index),e=u[i]&&u[i][s],r=e&&e.points[t.key],r&&(h=e.total?100/e.total:0,r[0]=ni(r[0]*h),r[1]=ni(r[1]*h),n.stackedYData[o]=r[1])})},d.prototype.getStackIndicator=function(n,t,i){return r(n)&&n.x===t?n.index++:n={x:t,index:0},n.key=[i,t,n.index].join(","),n},f(hu.prototype,{addSeries:function(n,i,r){var f,u=this;return n&&(i=t(i,!0),w(u,"addSeries",{options:n},function(){f=u.initSeries(n);u.isDirtyLegend=!0;u.linkSeries();i&&u.redraw(r)})),f},addAxis:function(n,i,r,u){var f=i?"xAxis":"yAxis",e=this.options;new ti(this,l(n,{index:this[f].length,isX:i}));e[f]=pi(e[f]||{});e[f].push(n);t(r,!0)&&this.redraw(u)},showLoading:function(n){var t=this,u=t.options,i=t.loadingDiv,r=u.loading,e=function(){i&&y(i,{left:t.plotLeft+p,top:t.plotTop+p,width:t.plotWidth+p,height:t.plotHeight+p})};i||(t.loadingDiv=i=pt(ar,{className:ft+"loading"},f(r.style,{zIndex:10,display:ot}),t.container),t.loadingSpan=pt("span",null,r.labelStyle,i),b(t,"redraw",e));t.loadingSpan.innerHTML=n||u.lang.loading;t.loadingShown||(y(i,{opacity:0,display:""}),gr(i,{opacity:r.style.opacity},{duration:r.showDuration||0}),t.loadingShown=!0);e()},hideLoading:function(){var t=this.options,n=this.loadingDiv;n&&gr(n,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){y(n,{display:ot})}});this.loadingShown=!1}}),f(er.prototype,{update:function(n,i,r,u){function a(){f.applyOptions(n);f.y===null&&o&&(f.graphic=o.destroy());yt(n)&&!pr(n)&&(f.redraw=function(){o&&o.element&&n&&n.marker&&n.marker.symbol&&(f.graphic=o.destroy());n&&n.dataLabels&&f.dataLabel&&(f.dataLabel=f.dataLabel.destroy());f.redraw=null});s=f.index;e.updateParallelArrays(f,s);l&&f.name&&(l[f.x]=f.name);c.data[s]=yt(c.data[s])?f.options:n;e.isDirty=e.isDirtyData=!0;!e.fixedBox&&e.hasCartesianSeries&&(h.isDirtyBox=!0);c.legendType==="point"&&(h.isDirtyLegend=!0);i&&h.redraw(r)}var f=this,e=f.series,o=f.graphic,s,h=e.chart,c=e.options,l=e.xAxis&&e.xAxis.names;i=t(i,!0);u===!1?a():f.firePointEvent("update",{options:n},a)},remove:function(n,t){this.series.removePoint(si(this,this.series.data),n,t)}}),f(d.prototype,{addPoint:function(n,r,u,f){var e=this,l=e.options,h=e.data,v=e.graph,y=e.area,p=e.chart,w=e.xAxis&&e.xAxis.names,g=v&&v.shift||0,b=["graph","area"],k=l.data,s,d,a=e.xData,o,c;if(fu(f,p),u){for(o=e.zones.length;o--;)b.push("zoneGraph"+o,"zoneArea"+o);i(b,function(n){e[n]&&(e[n].shift=g+(l.step?2:1))})}if(y&&(y.isArea=!0),r=t(r,!0),s={series:e},e.pointClass.prototype.applyOptions.apply(s,[n]),c=s.x,o=a.length,e.requireSorting&&c<a[o-1])for(d=!0;o&&a[o-1]>c;)o--;e.updateParallelArrays(s,"splice",o,0,0);e.updateParallelArrays(s,o);w&&s.name&&(w[c]=s.name);k.splice(o,0,n);d&&(e.data.splice(o,0,null),e.processData());l.legendType==="point"&&e.generatePoints();u&&(h[0]&&h[0].remove?h[0].remove(!1):(h.shift(),e.updateParallelArrays(s,"shift"),k.shift()));e.isDirty=!0;e.isDirtyData=!0;r&&(e.getAttribs(),p.redraw())},removePoint:function(n,i,r){var u=this,e=u.data,f=e[n],o=u.points,s=u.chart,h=function(){o&&o.length===e.length&&o.splice(n,1);e.splice(n,1);u.options.data.splice(n,1);u.updateParallelArrays(f||{series:u},"splice",n,1);f&&f.destroy();u.isDirty=!0;u.isDirtyData=!0;i&&s.redraw()};fu(r,s);i=t(i,!0);f?f.firePointEvent("remove",null,h):h()},remove:function(n,i){var u=this,r=u.chart;w(u,"remove",null,function(){u.destroy();r.isDirtyLegend=r.isDirtyBox=!0;r.linkSeries();t(n,!0)&&r.redraw(i)})},update:function(n,r){var e=this,s=this.chart,a=this.userOptions,h=this.type,v=k[h].prototype,u=["group","markerGroup","dataLabelsGroup"],c;(n.type&&n.type!==h||n.zIndex!==undefined)&&(u.length=0);i(u,function(n){u[n]=e[n];delete e[n]});n=l(a,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},n);this.remove(!1);for(c in v)this[c]=o;f(this,k[n.type||h].prototype);i(u,function(n){e[n]=u[n]});this.init(s,n);s.linkSeries();t(r,!0)&&s.redraw(!1)}}),f(ti.prototype,{update:function(n,i){var r=this.chart;n=r.options[this.coll][this.options.index]=l(this.userOptions,n);this.destroy(!0);this._addedPlotLB=this.chart._labelPanes=o;this.init(r,f(n,{events:o}));r.isDirtyBox=!0;t(i,!0)&&r.redraw()},remove:function(n){for(var r=this.chart,u=this.coll,f=this.series,e=f.length;e--;)f[e]&&f[e].remove(!1);li(r.axes,this);li(r[u],this);r.options[u].splice(this.options.index,1);i(r[u],function(n,t){n.options.index=t});this.destroy();r.isDirtyBox=!0;t(n,!0)&&r.redraw()},setTitle:function(n,t){this.update({title:n},t)},setCategories:function(n,t){this.update({categories:n},t)}}),uo=ai(d),k.line=uo,at.area=l(eu,{softThreshold:!1,threshold:0}),fe=ai(d,{type:"area",singleStacks:!1,getStackPoints:function(){var p=this,o=[],f=[],w=this.xAxis,e=this.yAxis,u=e.stacks[this.stackKey],r={},s=this.points,h=p.index,l=e.series,a=l.length,v,y=t(e.options.reversedStacks,!0)?1:-1,n,c;if(this.options.stacking){for(n=0;n<s.length;n++)r[s[n].x]=s[n];for(c in u)u[c].total!==null&&f.push(+c);f.sort(function(n,t){return n-t});v=ur(l,function(){return this.visible});i(f,function(t,s){var c=0,l,p;if(r[t]&&!r[t].isNull)o.push(r[t]),i([-1,1],function(i){var c=i===1?"rightNull":"leftNull",w=i===1?"rightCliff":"leftCliff",e=0,o=u[f[s+i]];if(o)for(n=h;n>=0&&n<a;)l=o.points[n],l||(n===h?r[t][c]=!0:v[n]&&(p=u[t].points[n],p&&(e-=p[1]-p[0]))),n+=y;r[t][w]=e});else{for(n=h;n>=0&&n<a;){if(l=u[t].points[n],l){c=l[1];break}n+=y}c=e.toPixels(c,!0);o.push({isNull:!0,plotX:w.toPixels(t,!0),plotY:c,yBottom:c})}})}return o},getGraphPath:function(n){var l=d.prototype.getGraphPath,y,f=this.options,r=f.stacking,e=this.yAxis,p,o,s=[],h=[],g=this.index,i,w,c,tt=e.stacks[this.stackKey],it=f.threshold,a=e.getThreshold(f.threshold),v,b,u=f.connectNulls||r==="percent",k=function(t,i,u){var l=n[t],v=r&&tt[l.x].points[g],y=l[u+"Null"]||0,p=l[u+"Cliff"]||0,f,o,w=!0;p||y?(f=(y?v[0]:v[1])+p,o=v[0]+p,w=!!y):!r&&n[i]&&n[i].isNull&&(f=o=it);f!==undefined&&(h.push({plotX:c,plotY:f===null?a:e.toPixels(f,!0),isNull:w}),s.push({plotX:c,plotY:o===null?a:e.toPixels(o,!0)}))};for(n=n||this.points,r&&(n=this.getStackPoints()),i=0;i<n.length;i++)v=n[i].isNull,c=t(n[i].rectPlotX,n[i].plotX),b=t(n[i].yBottom,a),(!v||u)&&(u||k(i,i-1,"left"),v&&!r&&u||(h.push(n[i]),s.push({x:i,plotX:c,plotY:b})),u||k(i,i+1,"right"));return p=l.call(this,h,!0,!0),s.reversed=!0,o=l.call(this,s,!0,!0),o.length&&(o[0]=nt),w=p.concat(o),y=l.call(this,h,!1,u),this.areaPath=w,y},drawGraph:function(){this.areaPath=[];d.prototype.drawGraph.apply(this);var n=this,u=this.areaPath,r=this.options,e=this.zones,f=[["area",this.color,r.fillColor]];i(e,function(t,i){f.push(["zoneArea"+i,t.color||n.color,t.fillColor||r.fillColor])});i(f,function(i){var e=i[0],o=n[e],f;o?o.animate({d:u}):(f={fill:i[2]||i[1],zIndex:0},i[2]||(f["fill-opacity"]=t(r.fillOpacity,.75)),n[e]=n.chart.renderer.path(u).attr(f).add(n.group))})},drawLegendSymbol:su.drawRectangle}),k.area=fe,at.spline=l(eu),ee=ai(d,{type:"spline",getPointSpline:function(n,i,r){var h=1.5,p=h+1,l=i.plotX,f=i.plotY,s=n[r-1],w=n[r+1],b,o,a,e,d;if(s&&!s.isNull&&w&&!w.isNull){var g=s.plotX,v=s.plotY,nt=w.plotX,y=w.plotY,k=0;b=(h*l+g)/p;o=(h*f+v)/p;a=(h*l+nt)/p;e=(h*f+y)/p;a!==b&&(k=(e-o)*(a-l)/(a-b)+f-e);o+=k;e+=k;o>v&&o>f?(o=u(v,f),e=2*f-o):o<v&&o<f&&(o=c(v,f),e=2*f-o);e>y&&e>f?(e=u(y,f),o=2*f-e):e<y&&e<f&&(e=c(y,f),o=2*f-e);i.rightContX=a;i.rightContY=e}return d=["C",t(s.rightContX,s.plotX),t(s.rightContY,s.plotY),t(b,l),t(o,f),l,f],s.rightContX=s.rightContY=null,d}}),k.spline=ee,at.areaspline=l(at.area),du=fe.prototype,fo=ai(ee,{type:"areaspline",getStackPoints:du.getStackPoints,getGraphPath:du.getGraphPath,setStackCliffs:du.setStackCliffs,drawGraph:du.drawGraph,drawLegendSymbol:su.drawRectangle}),k.areaspline=fo,at.column=l(eu,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0}),of=ai(d,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){d.prototype.init.apply(this,arguments);var n=this,t=n.chart;t.hasRendered&&i(t.series,function(t){t.type===n.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var n=this,u=n.options,r=n.xAxis,a=n.yAxis,v=r.reversed,f,s={},e=0;u.grouping===!1?e=1:i(n.chart.series,function(t){var r=t.options,u=t.yAxis,i;t.type===n.type&&t.visible&&a.len===u.len&&a.pos===u.pos&&(r.stacking?(f=t.stackKey,s[f]===o&&(s[f]=e++),i=s[f]):r.grouping!==!1&&(i=e++),t.columnIndex=i)});var h=c(g(r.transA)*(r.ordinalSlope||u.pointRange||r.closestPointRange||r.tickInterval||1),r.len),y=h*u.groupPadding,w=h-2*y,l=w/e,p=c(u.maxPointWidth||r.len,t(u.pointWidth,l*(1-2*u.pointPadding))),b=(l-p)/2,k=(n.columnIndex||0)+(v?1:0),d=b+(y+k*l-h/2)*(v?-1:1);return n.columnMetrics={width:p,offset:d},n.columnMetrics},crispCol:function(n,t,i,r){var e=this.chart,o=this.borderWidth,s=-(o%2?.5:0),u=o%2?.5:1,h,f,c;return e.inverted&&e.renderer.isVML&&(u+=1),h=Math.round(n+i)+s,n=Math.round(n)+s,i=h-n,f=Math.round(t+r)+u,c=g(t)<=.5&&f>.5,t=Math.round(t)+u,r=f-t,c&&(t-=1,r+=1),{x:n,y:t,width:i,height:r}},translate:function(){var n=this,e=n.chart,o=n.options,v=n.borderWidth=t(o.borderWidth,n.closestPointRange*n.xAxis.transA<2?0:1),r=n.yAxis,y=o.threshold,s=n.translatedThreshold=r.getThreshold(y),f=t(o.minPointLength,5),l=n.getColumnMetrics(),a=l.width,h=n.barW=u(a,1+2*v),p=n.pointXOffset=l.offset;e.inverted&&(s-=.5);o.pointPadding&&(h=vi(h));d.prototype.translate.apply(n);i(n.points,function(i){var l=c(t(i.yBottom,s),9e4),k=999+g(l),v=c(u(-k,i.plotY),r.len+k),y=i.plotX+p,b=h,w=c(v,l),d,o=u(v,l)-w;g(o)<f&&f&&(o=f,d=!r.reversed&&!i.negative||r.reversed&&i.negative,w=g(w-s)>f?l-f:s-(d?f:0));i.barX=y;i.pointWidth=a;i.tooltipPos=e.inverted?[r.len+r.pos-e.plotLeft-v,n.xAxis.len-y-b/2,o]:[y+b/2,v+r.pos-e.plotTop,o];i.shapeType="rect";i.shapeArgs=n.crispCol(y,w,b,o)})},getSymbol:nr,drawLegendSymbol:su.drawRectangle,drawGraph:nr,drawPoints:function(){var n=this,e=this.chart,t=n.options,s=e.renderer,h=t.animationLimit||250,u,f;i(n.points,function(i){var v=i.plotY,c=i.graphic,a;v===o||isNaN(v)||i.y===null?c&&(i.graphic=c.destroy()):(u=i.shapeArgs,a=r(n.borderWidth)?{"stroke-width":n.borderWidth}:{},f=i.pointAttr[i.selected?ir:bt]||n.pointAttr[bt],c?(yr(c),c.attr(a).attr(f)[e.pointCount<h?"animate":"attr"](l(u))):i.graphic=c=s[i.shapeType](u).attr(a).attr(f).add(i.group||n.group).shadow(t.shadow,null,t.stacking&&!t.borderRadius))})},animate:function(n){var r=this,i=this.yAxis,o=r.options,e=this.chart.inverted,t={},f;wt&&(n?(t.scaleY=.001,f=c(i.pos+i.len,u(i.pos,i.toPixels(o.threshold))),e?t.translateX=f-i.len:t.translateY=f,r.group.attr(t)):(t.scaleY=1,t[e?"translateX":"translateY"]=i.pos,r.group.animate(t,r.options.animation),r.animate=null))},remove:function(){var n=this,t=n.chart;t.hasRendered&&i(t.series,function(t){t.type===n.type&&(t.isDirty=!0)});d.prototype.remove.apply(n,arguments)}}),k.column=of,at.bar=l(at.column),eo=ai(of,{type:"bar",inverted:!0}),k.bar=eo,at.scatter=l(eu,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●<\/span> <span style="font-size: 10px;"> {series.name}<\/span><br/>',pointFormat:"x: <b>{point.x}<\/b><br/>y: <b>{point.y}<\/b><br/>"}}),oe=ai(d,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&d.prototype.drawGraph.call(this)}}),k.scatter=oe,at.pie=l(eu,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.y===null?undefined:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}}),oo=ai(er,{init:function(){er.prototype.init.apply(this,arguments);var n=this,i;return n.name=t(n.name,"Slice"),i=function(t){n.slice(t.type==="select")},b(n,"select",i),b(n,"unselect",i),n},setVisible:function(n,r){var u=this,f=u.series,e=f.chart,s=f.options.ignoreHiddenPoint;r=t(r,s);n!==u.visible&&(u.visible=u.options.visible=n=n===o?!u.visible:n,f.options.data[si(u,f.data)]=u.options,i(["graphic","dataLabel","connector","shadowGroup"],function(t){u[t]&&u[t][n?"show":"hide"](!0)}),u.legendItem&&e.legend.colorizeItem(u,n),n||u.state!=="hover"||u.setState(""),s&&(f.isDirty=!0),r&&e.redraw())},slice:function(n,i,u){var f=this,e=f.series,s=e.chart,o;fu(u,s);i=t(i,!0);f.sliced=f.options.sliced=n=r(n)?n:!f.sliced;e.options.data[si(f,e.data)]=f.options;o=n?f.slicedTranslation:{translateX:0,translateY:0};f.graphic.animate(o);f.shadowGroup&&f.shadowGroup.animate(o)},haloPath:function(n){var t=this.shapeArgs,i=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(i.plotLeft+t.x,i.plotTop+t.y,t.r+n,t.r+n,{innerR:this.shapeArgs.r,start:t.start,end:t.end})}}),sf={type:"pie",isCartesian:!1,pointClass:oo,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},animate:function(n){var t=this,u=t.points,r=t.startAngleRad;n||(i(u,function(n){var i=n.graphic,u=n.shapeArgs;i&&(i.attr({r:n.startR||t.center[3]/2,start:r,end:r}),i.animate({r:u.r,start:u.start,end:u.end},t.options.animation))}),t.animate=null)},updateTotals:function(){for(var i=0,r=this.points,u=r.length,t,f=this.options.ignoreHiddenPoint,n=0;n<u;n++)t=r[n],i+=f&&!t.visible?0:t.y;for(this.total=i,n=0;n<u;n++)t=r[n],t.percentage=i>0&&(t.visible||!f)?t.y/i*100:0,t.total=i},generatePoints:function(){d.prototype.generatePoints.call(this);this.updateTotals()},translate:function(n){this.generatePoints();var u=this,y=0,l=1e3,f=u.options,p=f.slicedOffset,a=p+f.borderWidth,w,b,i,d=f.startAngle||0,k=u.startAngleRad=ui/180*(d-90),tt=u.endAngleRad=ui/180*(t(f.endAngle,d+360)-90),g=tt-k,nt=u.points,s,h,o=f.dataLabels.distance,it=f.ignoreHiddenPoint,v,rt=nt.length,r;for(n||(u.center=n=u.getCenter()),u.getX=function(t,r){return i=lt.asin(c((t-n[1])/(n[2]/2+o),1)),n[0]+(r?-1:1)*st(i)*(n[2]/2+o)},v=0;v<rt;v++)r=nt[v],w=k+y*g,(!it||r.visible)&&(y+=r.percentage/100),b=k+y*g,r.shapeType="arc",r.shapeArgs={x:n[0],y:n[1],r:n[2]/2,innerR:n[3]/2,start:e(w*l)/l,end:e(b*l)/l},i=(b+w)/2,i>1.5*ui?i-=2*ui:i<-ui/2&&(i+=2*ui),r.slicedTranslation={translateX:e(st(i)*p),translateY:e(vt(i)*p)},s=st(i)*n[2]/2,h=vt(i)*n[2]/2,r.tooltipPos=[n[0]+s*.7,n[1]+h*.7],r.half=i<-ui/2||i>ui/2?1:0,r.angle=i,a=c(a,o/2),r.labelPos=[n[0]+s+st(i)*o,n[1]+h+vt(i)*o,n[0]+s+st(i)*a,n[1]+h+vt(i)*a,n[0]+s,n[1]+h,o<0?"center":r.half?"right":"left",i]},drawGraph:null,drawPoints:function(){var n=this,l=n.chart,o=l.renderer,u,e,s=n.options.shadow,t,r,h,c;s&&!n.shadowGroup&&(n.shadowGroup=o.g("shadow").add(n.group));i(n.points,function(i){i.y!==null&&(e=i.graphic,h=i.shapeArgs,t=i.shadowGroup,r=i.pointAttr[i.selected?ir:bt],r.stroke||(r.stroke=r.fill),s&&!t&&(t=i.shadowGroup=o.g("shadow").add(n.shadowGroup)),u=i.sliced?i.slicedTranslation:{translateX:0,translateY:0},t&&t.attr(u),e?e.setRadialReference(n.center).attr(r).animate(f(h,u)):(c={"stroke-linejoin":"round"},i.visible||(c.visibility="hidden"),i.graphic=e=o[i.shapeType](h).setRadialReference(n.center).attr(r).attr(c).attr(u).add(n.group).shadow(s,t)))})},searchPoint:nr,sortByAngle:function(n,t){n.sort(function(n,i){return n.angle!==undefined&&(i.angle-n.angle)*t})},drawLegendSymbol:su.drawRectangle,getCenter:io.getCenter,getSymbol:nr},sf=ai(d,sf),k.pie=sf,d.prototype.drawDataLabels=function(){var u=this,h=u.options,v=h.cursor,n=h.dataLabels,w=u.points,c,a,y=u.hasRendered||0,e,s,p=u.chart.renderer;(n.enabled||u._hasPointLabels)&&(u.dlProcessOptions&&u.dlProcessOptions(n),s=u.plotGroup("dataLabelsGroup","data-labels",n.defer?tr:sr,n.zIndex||6),t(n.defer,!0)&&(s.attr({opacity:+y}),y||b(u,"afterAnimate",function(){u.visible&&s.show();s[h.animation?"animate":"attr"]({opacity:1},{duration:200})})),a=n,i(w,function(i){var k,y=i.dataLabel,d,w,g,nt,it=i.connector,rt=!0,b,tt={};if(c=i.dlOptions||i.options&&i.options.dataLabels,k=t(c&&c.enabled,a.enabled)&&i.y!==null,y&&!k)i.dataLabel=y.destroy();else if(k){if(n=l(a,c),b=n.style,nt=n.rotation,d=i.getLabelConfig(),e=n.format?br(n.format,d):n.formatter.call(d,n),b.color=t(n.color,b.color,u.color,"black"),y)r(e)?(y.attr({text:e}),rt=!1):(i.dataLabel=y=y.destroy(),it&&(i.connector=it.destroy()));else if(r(e)){w={fill:n.backgroundColor,stroke:n.borderColor,"stroke-width":n.borderWidth,r:n.borderRadius||0,rotation:nt,padding:n.padding,zIndex:1};b.color==="contrast"&&(tt.color=n.inside||n.distance<0||!!h.stacking?p.getContrast(i.color||u.color):"#000000");v&&(tt.cursor=v);for(g in w)w[g]===o&&delete w[g];y=i.dataLabel=p[nt?"text":"label"](e,0,-9999,n.shape,null,null,n.useHTML).attr(w).css(f(b,tt)).add(s).shadow(n.shadow)}y&&u.alignDataLabel(i,y,n,null,rt)}}))},d.prototype.alignDataLabel=function(n,i,r,u,o){var c=this.chart,l=c.inverted,a=t(n.plotX,-9999),y=t(n.plotY,-9999),h=i.getBBox(),nt=c.renderer.fontMetrics(r.style.fontSize).b,v=r.rotation,p,w,b=r.align,d,k=this.visible&&(n.series.forceDL||c.isInsidePlot(a,e(y),l)||u&&c.isInsidePlot(a,l?u.x+1:u.y+u.height-1,l)),s,g=t(r.overflow,"justify")==="justify";k&&(u=f({x:l?c.plotWidth-y:a,y:e(l?c.plotHeight-a:y),width:0,height:0},u),f(r,{width:h.width,height:h.height}),v?(g=!1,d=c.renderer.rotCorr(nt,v),s={x:u.x+r.x+u.width/2+d.x,y:u.y+r.y+u.height/2},i[o?"attr":"animate"](s).attr({align:r.align}),p=(v+720)%360,w=p>180&&p<360,b==="left"?s.y-=w?h.height:0:b==="center"?(s.x-=h.width/2,s.y-=h.height/2):b==="right"&&(s.x-=h.width,s.y-=w?0:h.height)):(i.align(r,null,u),s=i.alignAttr),g?this.justifyDataLabel(i,r,s,h,u,o):t(r.crop,!0)&&(k=c.isInsidePlot(s.x,s.y)&&c.isInsidePlot(s.x+h.width,s.y+h.height)),r.shape&&!v&&i.attr({anchorX:n.plotX,anchorY:n.plotY}));k||(yr(i),i.attr({y:-9999}),i.placed=!1)},d.prototype.justifyDataLabel=function(n,t,i,r,u,f){var s=this.chart,c=t.align,l=t.verticalAlign,e,o,h=n.box?0:n.padding||0;e=i.x+h;e<0&&(c==="right"?t.align="left":t.x=-e,o=!0);e=i.x+r.width-h;e>s.plotWidth&&(c==="left"?t.align="right":t.x=s.plotWidth-e,o=!0);e=i.y+h;e<0&&(l==="bottom"?t.verticalAlign="top":t.y=-e,o=!0);e=i.y+r.height-h;e>s.plotHeight&&(l==="top"?t.verticalAlign="bottom":t.y=s.plotHeight-e,o=!0);o&&(n.placed=!f,n.align(t,null,u))},k.pie&&(k.pie.prototype.drawDataLabels=function(){var l=this,oi=l.data,it,at=l.chart,p=l.options.dataLabels,rt=t(p.connectorPadding,10),ti=t(p.connectorWidth,1),ii=at.plotWidth,ri=at.plotHeight,tt,pt,si=t(p.softConnector,!0),b=p.distance,wt=l.center,ot=wt[2]/2,vt=wt[1],hi=b>0,s,st,r,k,ui=[[],[]],a,f,ct,bt,ut,n,y=[0,0,0,0],fi=function(n,t){return t.y-n.y},dt,gt,lt,ni,et;if(l.visible&&(p.enabled||l._hasPointLabels)){for(d.prototype.drawDataLabels.apply(l),i(oi,function(n){n.dataLabel&&n.visible&&(ui[n.half].push(n),n.dataLabel._pos=null)}),ut=2;ut--;){var v=[],ft,kt=[],h=ui[ut],yt,ei,w=h.length,o;if(w){for(l.sortByAngle(h,ut-.5),n=k=0;!k&&h[n];)k=h[n]&&h[n].dataLabel&&(h[n].dataLabel.getBBox().height||21),n++;if(b>0){for(ei=c(vt+ot+b,at.plotHeight),yt=u(0,vt-ot-b);yt<=ei;yt+=k)v.push(yt);if(ft=v.length,w>ft){for(bt=[].concat(h),bt.sort(fi),n=w;n--;)bt[n].rank=n;for(n=w;n--;)h[n].rank>=ft&&h.splice(n,1);w=h.length}for(n=0;n<w;n++){for(it=h[n],r=it.labelPos,dt=9999,lt=0;lt<ft;lt++)gt=g(v[lt]-r[1]),gt<dt&&(dt=gt,o=lt);if(o<n&&v[n]!==null)o=n;else if(ft<w-n+o&&v[n]!==null)for(o=ft-w+n;v[o]===null;)o++;else while(v[o]===null)o++;kt.push({i:o,y:v[o]});v[o]=null}kt.sort(fi)}for(n=0;n<w;n++)it=h[n],r=it.labelPos,s=it.dataLabel,ct=it.visible===!1?tr:"inherit",et=r[1],b>0?(ni=kt.pop(),o=ni.i,f=ni.y,(et>f&&v[o+1]!==null||et<f&&v[o-1]!==null)&&(f=c(u(0,et),at.plotHeight))):f=et,a=p.justify?wt[0]+(ut?-1:1)*(ot+b):l.getX(f===vt-ot-b||f===vt+ot+b?et:f,ut),s._attr={visibility:ct,align:r[6]},s._pos={x:a+p.x+({left:rt,right:-rt}[r[6]]||0),y:f+p.y-10},s.connX=a,s.connY=f,this.options.size===null&&(st=s.width,a-st<rt?y[3]=u(e(st-a+rt),y[3]):a+st>ii-rt&&(y[1]=u(e(a+st-ii+rt),y[1])),f-k/2<0?y[0]=u(e(-f+k/2),y[0]):f+k/2>ri&&(y[2]=u(e(f+k/2-ri),y[2])))}}(cr(y)===0||this.verifyDataLabelOverflow(y))&&(this.placeDataLabels(),hi&&ti&&i(this.points,function(n){tt=n.connector;r=n.labelPos;s=n.dataLabel;s&&s._pos&&n.visible?(ct=s._attr.visibility,a=s.connX,f=s.connY,pt=si?[ht,a+(r[6]==="left"?5:-5),f,"C",a,f,2*r[2]-r[4],2*r[3]-r[5],r[2],r[3],nt,r[4],r[5]]:[ht,a+(r[6]==="left"?5:-5),f,nt,r[2],r[3],nt,r[4],r[5]],tt?(tt.animate({d:pt}),tt.attr("visibility",ct)):n.connector=tt=l.chart.renderer.path(pt).attr({"stroke-width":ti,stroke:p.connectorColor||n.color||"#606060",visibility:ct}).add(l.dataLabelsGroup)):tt&&(n.connector=tt.destroy())}))}},k.pie.prototype.placeDataLabels=function(){i(this.points,function(n){var t=n.dataLabel,i;t&&n.visible&&(i=t._pos,i?(t.attr(t._attr),t[t.moved?"animate":"attr"](i),t.moved=!0):t&&t.attr({y:-9999}))})},k.pie.prototype.alignDataLabel=nr,k.pie.prototype.verifyDataLabelOverflow=function(n){var t=this.center,f=this.options,e=f.center,r=f.minSize||80,i=r,o;return e[0]!==null?i=u(t[2]-u(n[1],n[3]),r):(i=u(t[2]-n[1]-n[3],r),t[0]+=(n[3]-n[1])/2),e[1]!==null?i=u(c(i,t[2]-u(n[0],n[2])),r):(i=u(c(i,t[2]-n[0]-n[2]),r),t[1]+=(n[0]-n[2])/2),i<t[2]?(t[2]=i,t[3]=Math.min(de(f.innerSize||0,i),i),this.translate(t),this.drawDataLabels&&this.drawDataLabels()):o=!0,o}),k.column&&(k.column.prototype.alignDataLabel=function(n,i,r,u,f){var e=this.chart.inverted,o=n.series,a=n.dlBox||n.shapeArgs,s=t(n.below,n.plotY>t(this.translatedThreshold,o.yAxis.len)),h=t(r.inside,!!this.options.stacking),c;a&&(u=l(a),u.y<0&&(u.height+=u.y,u.y=0),c=u.y+u.height-o.yAxis.len,c>0&&(u.height-=c),e&&(u={x:o.yAxis.len-u.y-u.height,y:o.xAxis.len-u.x-u.width,width:u.height,height:u.width}),h||(e?(u.x+=s?0:u.width,u.width=0):(u.y+=s?u.height:0,u.height=0)));r.align=t(r.align,!e||h?"center":s?"right":"left");r.verticalAlign=t(r.verticalAlign,e||h?"middle":s?"top":"bottom");d.prototype.alignDataLabel.call(this,n,i,r,u,f)}),function(n){var i=n.Chart,t=n.each,r=n.pick,u=n.addEvent;i.prototype.callbacks.push(function(n){function i(){var i=[];t(n.series,function(n){var u=n.options.dataLabels,f=n.dataLabelCollections||["dataLabel"];(u.enabled||n._hasPointLabels)&&!u.allowOverlap&&n.visible&&t(f,function(u){t(n.points,function(n){n[u]&&(n[u].labelrank=r(n.labelrank,n.shapeArgs&&n.shapeArgs.height),i.push(n[u]))})})});n.hideOverlappingLabels(i)}i();u(n,"redraw",i)});i.prototype.hideOverlappingLabels=function(n){for(var s=n.length,f,o,i,r,v,h,c,l,a,e,y=function(n,t,i,r,u,f,e,o){return!(u>n+i||u+e<n||f>t+r||f+o<t)},u=0;u<s;u++)f=n[u],f&&(f.oldOpacity=f.opacity,f.newOpacity=1);for(n.sort(function(n,t){return(t.labelrank||0)-(n.labelrank||0)}),u=0;u<s;u++)for(i=n[u],o=u+1;o<s;++o)r=n[o],i&&r&&i.placed&&r.placed&&i.newOpacity!==0&&r.newOpacity!==0&&(h=i.alignAttr,c=r.alignAttr,l=i.parentGroup,a=r.parentGroup,e=2*(i.box?0:i.padding),v=y(h.x+l.translateX,h.y+l.translateY,i.width-e,i.height-e,c.x+a.translateX,c.y+a.translateY,r.width-e,r.height-e),v&&((i.labelrank<r.labelrank?i:r).newOpacity=0));t(n,function(n){var i,t;n&&(t=n.newOpacity,n.oldOpacity!==t&&n.placed&&(t?n.show(!0):i=function(){n.hide()},n.alignAttr.opacity=t,n[n.isOld?"animate":"attr"](n.alignAttr,null,i)),n.isOld=!0)})}}(s),gu=s.TrackerMixin={drawTrackerPoint:function(){var n=this,t=n.chart,f=t.pointer,r=n.options.cursor,e=r&&{cursor:r},u=function(n){for(var r=n.target,i;r&&!i;)i=r.point,r=r.parentNode;if(i!==o&&i!==t.hoverPoint)i.onMouseOver(n)};i(n.points,function(n){n.graphic&&(n.graphic.element.point=n);n.dataLabel&&(n.dataLabel.element.point=n)});n._hasTracking||(i(n.trackerGroups,function(t){if(n[t]&&(n[t].addClass(ft+"tracker").on("mouseover",u).on("mouseout",function(n){f.onTrackerMouseOut(n)}).css(e),lu))n[t].on("touchstart",u)}),n._hasTracking=!0)},drawTrackerGraph:function(){var n=this,e=n.options,u=e.trackByArea,r=[].concat(u?n.areaPath:n.graphPath),o=r.length,f=n.chart,v=f.pointer,y=f.renderer,s=f.options.tooltip.snap,h=n.tracker,c=e.cursor,p=c&&{cursor:c},t,l=function(){f.hoverSeries!==n&&n.onMouseOver()},a="rgba(192,192,192,"+(wt?.0001:.002)+")";if(o&&!u)for(t=o+1;t--;)r[t]===ht&&r.splice(t+1,0,r[t+1]-s,r[t+2],nt),(t&&r[t]===ht||t===o)&&r.splice(t,0,nt,r[t-2]+s,r[t-1]);h?h.attr({d:r}):(n.tracker=y.path(r).attr({"stroke-linejoin":"round",visibility:n.visible?sr:tr,stroke:a,fill:u?a:ot,"stroke-width":e.lineWidth+(u?0:2*s),zIndex:2}).add(n.group),i([n.tracker,n.markerGroup],function(n){if(n.addClass(ft+"tracker").on("mouseover",l).on("mouseout",function(n){v.onTrackerMouseOut(n)}).css(p),lu)n.on("touchstart",l)}))}},k.column&&(of.prototype.drawTracker=gu.drawTrackerPoint),k.pie&&(k.pie.prototype.drawTracker=gu.drawTrackerPoint),k.scatter&&(oe.prototype.drawTracker=gu.drawTrackerPoint),f(ku.prototype,{setItemEvents:function(n,t,i,r,u){var f=this;(i?t:n.legendGroup).on("mouseover",function(){n.setState(fi);t.css(f.options.itemHoverStyle)}).on("mouseout",function(){t.css(n.visible?r:u);n.setState()}).on("click",function(t){var i="legendItemClick",r=function(){n.setVisible&&n.setVisible()};t={browserEvent:t};n.firePointEvent?n.firePointEvent(i,t,r):w(n,i,t,r)})},createCheckboxForItem:function(n){var t=this;n.checkbox=pt("input",{type:"checkbox",checked:n.selected,defaultChecked:n.selected},t.options.itemCheckboxStyle,t.chart.container);b(n.checkbox,"click",function(t){var i=t.target;w(n.series||n,"checkboxClick",{checked:i.checked,item:n},function(){n.select()})})}}),rt.legend.itemStyle.cursor="pointer",f(hu.prototype,{showResetZoom:function(){function e(){t.zoomOut()}var t=this,i=rt.lang,n=t.options.chart.resetZoomButton,r=n.theme,u=r.states,f=n.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=t.renderer.button(i.resetZoom,null,null,e,r,u&&u.hover).attr({align:n.position.align,title:i.resetZoomTitle}).add().align(n.position,!1,f)},zoomOut:function(){var n=this;w(n,"selection",{resetSelection:!0},function(){n.zoom()})},zoom:function(n){var r=this,f,o=r.pointer,e=!1,u;!n||n.resetSelection?i(r.axes,function(n){f=n.zoom()}):i(n.xAxis.concat(n.yAxis),function(n){var t=n.axis,i=t.isXAxis;(o[i?"zoomX":"zoomY"]||o[i?"pinchX":"pinchY"])&&(f=t.zoom(n.min,n.max),t.displayBtn&&(e=!0))});u=r.resetZoomButton;e&&!u?r.showResetZoom():!e&&yt(u)&&(r.resetZoomButton=u.destroy());f&&r.redraw(t(r.options.chart.animation,n&&n.animation,r.pointCount<100))},pan:function(n,t){var r=this,f=r.hoverPoints,e;f&&i(f,function(n){n.setState()});i(t==="xy"?[1,0]:[1],function(t){var i=r[t?"xAxis":"yAxis"][0],h=i.horiz,f=n[h?"chartX":"chartY"],l=h?"mouseDownX":"mouseDownY",s=r[l],a=(i.pointRange||0)/2,o=i.getExtremes(),v=i.toValue(s-f,!0)+a,y=i.toValue(s+i.len-f,!0)-a,p=s>f;i.series.length&&(p||v>c(o.dataMin,o.min))&&(!p||y<u(o.dataMax,o.max))&&(i.setExtremes(v,y,!1,!1,{trigger:"pan"}),e=!0);r[l]=f});e&&r.redraw(!1);y(r.container,{cursor:"move"})}}),f(er.prototype,{select:function(n,r){var u=this,f=u.series,e=f.chart;n=t(n,!u.selected);u.firePointEvent(n?"select":"unselect",{accumulate:r},function(){u.selected=u.options.selected=n;f.options.data[si(u,f.data)]=u.options;u.setState(n&&ir);r||i(e.getSelectedPoints(),function(n){n.selected&&n!==u&&(n.selected=n.options.selected=!1,f.options.data[si(n,f.data)]=n.options,n.setState(bt),n.firePointEvent("unselect"))})})},onMouseOver:function(n,t){var i=this,r=i.series,u=r.chart,f=u.tooltip,e=u.hoverPoint;u.hoverSeries!==r&&r.onMouseOver();e&&e!==i&&e.onMouseOut();i.series&&(i.firePointEvent("mouseOver"),f&&(!f.shared||r.noSharedTooltip)&&f.refresh(i,n),i.setState(fi),t||(u.hoverPoint=i))},onMouseOut:function(){var n=this.series.chart,t=n.hoverPoints;this.firePointEvent("mouseOut");t&&si(this,t)!==-1||(this.setState(),n.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var n=this,r=l(n.series.options.point,n.options),t=r.events,i;n.events=t;for(i in t)b(n,i,t[i]);this.hasImportedEvents=!0}},setState:function(n,t){var i=this,y=et(i.plotX),p=i.plotY,e=i.series,w=e.options.states,s=at[e.type].marker&&e.options.marker,d=s&&!s.enabled,h=s&&s.states[n],g=h&&h.enabled===!1,r=e.stateMarkerGraphic,b=i.marker||{},c=e.chart,u,a=e.halo,o,v,k;(n=n||bt,k=i.pointAttr[n]||e.pointAttr[n],n===i.state&&!t||i.selected&&n!==ir||w[n]&&w[n].enabled===!1||n&&(g||d&&h.enabled===!1)||n&&b.states&&b.states[n]&&b.states[n].enabled===!1)||(i.graphic?(u=s&&i.graphic.symbolName&&k.r,i.graphic.attr(l(k,u?{x:y-u,y:p-u,width:2*u,height:2*u}:{})),r&&r.hide()):(n&&h&&(u=h.radius,v=b.symbol||e.symbol,r&&r.currentSymbol!==v&&(r=r.destroy()),r?r[t?"animate":"attr"]({x:y-u,y:p-u}):v&&(e.stateMarkerGraphic=r=c.renderer.symbol(v,y-u,p-u,2*u,2*u).attr(k).add(e.markerGroup),r.currentSymbol=v)),r&&(r[n&&c.isInsidePlot(y,p,c.inverted)?"show":"hide"](),r.element.point=i)),o=w[n]&&w[n].halo,o&&o.size?(a||(e.halo=a=c.renderer.path().add(c.seriesGroup)),a.attr(f({fill:i.color||e.color,"fill-opacity":o.opacity,zIndex:-1},o.attributes))[t?"animate":"attr"]({d:i.haloPath(o.size)})):a&&a.attr({d:[]}),i.state=n)},haloPath:function(n){var t=this.series,i=t.chart,r=t.getPlotBox(),u=i.inverted,f=Math.floor(this.plotX);return i.renderer.symbols.circle(r.translateX+(u?t.yAxis.len-this.plotY:f)-n,r.translateY+(u?t.xAxis.len-f:this.plotY)-n,n*2,n*2)}}),f(d.prototype,{onMouseOver:function(){var n=this,i=n.chart,t=i.hoverSeries;t&&t!==n&&t.onMouseOut();n.options.events.mouseOver&&w(n,"mouseOver");n.setState(fi);i.hoverSeries=n},onMouseOut:function(){var n=this,r=n.options,t=n.chart,i=t.tooltip,u=t.hoverPoint;t.hoverSeries=null;u&&u.onMouseOut();n&&r.events.mouseOut&&w(n,"mouseOut");i&&!r.stickyTracking&&(!i.shared||n.noSharedTooltip)&&i.hide();n.setState()},setState:function(n){var t=this,o=t.options,u=t.graph,i=o.states,f=o.lineWidth,e,r=0;if(n=n||bt,t.state!==n){if(t.state=n,i[n]&&i[n].enabled===!1)return;if(n&&(f=i[n].lineWidth||f+(i[n].lineWidthPlus||0)),u&&!u.dashstyle)for(e={"stroke-width":f},u.attr(e);t["zoneGraph"+r];)t["zoneGraph"+r].attr(e),r=r+1}},setVisible:function(n,t){var r=this,u=r.chart,e=r.legendItem,f,s=u.options.chart.ignoreHiddenSeries,h=r.visible;r.visible=n=r.userOptions.visible=n===o?!h:n;f=n?"show":"hide";i(["group","dataLabelsGroup","markerGroup","tracker"],function(n){r[n]&&r[n][f]()});(u.hoverSeries===r||(u.hoverPoint&&u.hoverPoint.series)===r)&&r.onMouseOut();e&&u.legend.colorizeItem(r,n);r.isDirty=!0;r.options.stacking&&i(u.series,function(n){n.options.stacking&&n.visible&&(n.isDirty=!0)});i(r.linkedSeries,function(t){t.setVisible(n,!1)});s&&(u.isDirtyBox=!0);t!==!1&&u.redraw();w(r,f)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(n){var t=this;t.selected=n=n===o?!t.selected:n;t.checkbox&&(t.checkbox.checked=n);w(t,n?"select":"unselect")},drawTracker:gu.drawTrackerGraph}),f(s,{Color:ri,Point:er,Tick:ou,Renderer:cu,SVGElement:it,SVGRenderer:wi,arrayMin:iu,arrayMax:cr,charts:ut,dateFormat:dr,error:oi,format:br,pathAnim:ho,getOptions:yo,hasBidiBug:so,isTouchDevice:he,setOptions:vo,addEvent:b,removeEvent:ct,createElement:pt,discardElement:uu,css:y,each:i,map:ur,merge:l,splat:pi,stableSort:ef,extendClass:ai,pInt:a,svg:wt,canvas:gt,vml:!wt&&!gt,product:le,version:ae}),s});
/**
 * @license Highcharts JS v4.2.3 (2016-02-08)
 * Data module
 *
 * (c) 2012-2016 Torstein Honsi
 *
 * License: www.highcharts.com/license
 */
(function(n){typeof module=="object"&&module.exports?module.exports=n:n(Highcharts)})(function(n){var f=n.win,e=f.document,t=n.each,o=n.pick,u=n.inArray,s=n.splat,i,r=function(n,t){this.init(n,t)};n.extend(r.prototype,{init:function(n,t){this.options=n;this.chartOptions=t;this.columns=n.columns||this.rowsToColumns(n.rows)||[];this.firstRowAsNames=o(n.firstRowAsNames,!0);this.decimalRegex=n.decimalPoint&&new RegExp("^(-?[0-9]+)"+n.decimalPoint+"([0-9]+)$");this.rawColumns=[];this.columns.length?this.dataFound():(this.parseCSV(),this.parseTable(),this.parseGoogleSpreadsheet())},getColumnDistribution:function(){var r=this.chartOptions,e=this.options,o=[],h=function(t){return(n.seriesTypes[t||"line"].prototype.pointArrayMap||[0]).length},a=function(t){return n.seriesTypes[t||"line"].prototype.pointArrayMap},u=r&&r.chart&&r.chart.type,c=[],v=[],l=0,f,s;t(r&&r.series||[],function(n){c.push(h(n.type||u))});t(e&&e.seriesMapping||[],function(n){o.push(n.x||0)});o.length===0&&o.push(0);t(e&&e.seriesMapping||[],function(n){var t=new i,e,s=c[l]||h(u),y=r&&r.series||[],p=y[l]||{},o=a(p.type||u)||["y"];t.addColumnReader(n.x,"x");for(e in n)n.hasOwnProperty(e)&&e!=="x"&&t.addColumnReader(n[e],e);for(f=0;f<s;f++)t.hasReader(o[f])||t.addColumnReader(undefined,o[f]);v.push(t);l++});s=a(u);s===undefined&&(s=["y"]);this.valueCount={global:h(u),xColumns:o,individual:c,seriesBuilders:v,globalPointArrayMap:s}},dataFound:function(){this.options.switchRowsAndColumns&&(this.columns=this.rowsToColumns(this.columns));this.getColumnDistribution();this.parseTypes();this.parsed()!==!1&&this.complete()},parseCSV:function(){var s=this,n=this.options,r=n.csv,u=this.columns,h=n.startRow||0,c=n.endRow||Number.MAX_VALUE,i=n.startColumn||0,l=n.endColumn||Number.MAX_VALUE,f,e,o=0;r&&(e=r.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split(n.lineDelimiter||"\n"),f=n.itemDelimiter||(r.indexOf("\t")!==-1?"\t":","),t(e,function(n,r){var e=s.trim(n),v=e.indexOf("#")===0,y=e==="",a;r>=h&&r<=c&&!v&&!y&&(a=n.split(f),t(a,function(n,t){t>=i&&t<=l&&(u[t-i]||(u[t-i]=[]),u[t-i][o]=n)}),o+=1)}),this.dataFound())},parseTable:function(){var n=this.options,i=n.table,u=this.columns,f=n.startRow||0,o=n.endRow||Number.MAX_VALUE,r=n.startColumn||0,s=n.endColumn||Number.MAX_VALUE;i&&(typeof i=="string"&&(i=e.getElementById(i)),t(i.getElementsByTagName("tr"),function(n,i){i>=f&&i<=o&&t(n.children,function(n,t){(n.tagName==="TD"||n.tagName==="TH")&&t>=r&&t<=s&&(u[t-r]||(u[t-r]=[]),u[t-r][i-f]=n.innerHTML)})}),this.dataFound())},parseGoogleSpreadsheet:function(){var h=this,n=this.options,e=n.googleSpreadsheetKey,u=this.columns,f=n.startRow||0,o=n.endRow||Number.MAX_VALUE,t=n.startColumn||0,s=n.endColumn||Number.MAX_VALUE,i,r;e&&jQuery.ajax({dataType:"json",url:"https://spreadsheets.google.com/feeds/cells/"+e+"/"+(n.googleSpreadsheetWorksheet||"od6")+"/public/values?alt=json-in-script&callback=?",error:n.error,success:function(n){for(var l=n.feed.entry,c,y=l.length,a=0,v=0,e=0;e<y;e++)c=l[e],a=Math.max(a,c.gs$cell.col),v=Math.max(v,c.gs$cell.row);for(e=0;e<a;e++)e>=t&&e<=s&&(u[e-t]=[],u[e-t].length=Math.min(v,o-f));for(e=0;e<y;e++)c=l[e],i=c.gs$cell.row-1,r=c.gs$cell.col-1,r>=t&&r<=s&&i>=f&&i<=o&&(u[r-t][i-f]=c.content.$t);h.dataFound()}})},trim:function(n,t){return typeof n=="string"&&(n=n.replace(/^\s+|\s+$/g,""),t&&/^[0-9\s]+$/.test(n)&&(n=n.replace(/\s/g,"")),this.decimalRegex&&(n=n.replace(this.decimalRegex,"$1.$2"))),n},parseTypes:function(){for(var t=this.columns,n=t.length;n--;)this.parseColumn(t[n],n)},parseColumn:function(n,t){var r=this.rawColumns,f=this.columns,i=n.length,e,o,h,v,b=this.firstRowAsNames,a=u(t,this.valueCount.xColumns)!==-1,c,k=[],y,p=this.chartOptions,l,d=this.options.columnTypes||[],w=d[t],g=a&&(p&&p.xAxis&&s(p.xAxis)[0].type==="category"||w==="string");for(r[t]||(r[t]=[]);i--;)e=k[i]||n[i],h=this.trim(e),v=this.trim(e,!0),o=parseFloat(v),r[t][i]===undefined&&(r[t][i]=h),g||i===0&&b?n[i]=h:+v===o?(n[i]=o,o>31536e6&&w!=="float"?n.isDatetime=!0:n.isNumeric=!0,n[i+1]!==undefined&&(l=o>n[i+1])):(c=this.parseDate(e),a&&typeof c=="number"&&!isNaN(c)&&w!=="float"?(k[i]=e,n[i]=c,n.isDatetime=!0,n[i+1]!==undefined&&(y=c>n[i+1],y!==l&&l!==undefined&&(this.alternativeFormat?(this.dateFormat=this.alternativeFormat,i=n.length,this.alternativeFormat=this.dateFormats[this.dateFormat].alternative):n.unsorted=!0),l=y)):(n[i]=h===""?null:h,i!==0&&(n.isDatetime||n.isNumeric)&&(n.mixed=!0)));if(a&&n.mixed&&(f[t]=r[t]),a&&l&&this.options.sort)for(t=0;t<f.length;t++)f[t].reverse(),b&&f[t].unshift(f[t].pop())},dateFormats:{"YYYY-mm-dd":{regex:/^([0-9]{4})[\-\/\.]([0-9]{2})[\-\/\.]([0-9]{2})$/,parser:function(n){return Date.UTC(+n[1],n[2]-1,+n[3])}},"dd/mm/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(n){return Date.UTC(+n[3],n[2]-1,+n[1])},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(n){return Date.UTC(+n[3],n[1]-1,+n[2])}},"dd/mm/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(n){return Date.UTC(+n[3]+2e3,n[2]-1,+n[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(n){return Date.UTC(+n[3]+2e3,n[1]-1,+n[2])}}},parseDate:function(n){var e=this.options.parseDate,r,u,i,f=this.options.dateFormat||this.dateFormat,t;if(e)r=e(n);else if(typeof n=="string"){if(f)i=this.dateFormats[f],t=n.match(i.regex),t&&(r=i.parser(t));else for(u in this.dateFormats)if(i=this.dateFormats[u],t=n.match(i.regex),t){this.dateFormat=f=u;this.alternativeFormat=i.alternative;r=i.parser(t);break}t||(t=Date.parse(n),typeof t=="object"&&t!==null&&t.getTime?r=t.getTime()-t.getTimezoneOffset()*6e4:typeof t!="number"||isNaN(t)||(r=t-new Date(t).getTimezoneOffset()*6e4))}return r},rowsToColumns:function(n){var i,u,t,f,r;if(n)for(r=[],u=n.length,i=0;i<u;i++)for(f=n[i].length,t=0;t<f;t++)r[t]||(r[t]=[]),r[t][i]=n[i][t];return r},parsed:function(){if(this.options.parsed)return this.options.parsed.call(this,this.columns)},getFreeIndexes:function(n,t){for(var r,u=[],e=[],f,i=0;i<n;i=i+1)u.push(!0);for(r=0;r<t.length;r=r+1)for(f=t[r].getReferencedColumnIndexes(),i=0;i<f.length;i=i+1)u[f[i]]=!1;for(i=0;i<u.length;i=i+1)u[i]&&e.push(i);return e},complete:function(){var e=this.columns,o,s=this.options,c,p,r,l,a,t,v,f=[],n,h,y,w;if(0=e.length,s.complete||s.afterComplete){for(r=0;r<e.length;r++)this.firstRowAsNames&&(e[r].name=e[r].shift());for(c=[],h=this.getFreeIndexes(e.length,this.valueCount.seriesBuilders),t=0;t<this.valueCount.seriesBuilders.length;t++)n=this.valueCount.seriesBuilders[t],n.populateColumns(h)&&f.push(n);while(h.length>0){for(n=new i,n.addColumnReader(0,"x"),w=u(0,h),w!==-1&&h.splice(w,1),r=0;r<this.valueCount.global;r++)n.addColumnReader(undefined,this.valueCount.globalPointArrayMap[r]);n.populateColumns(h)&&f.push(n)}if(f.length>0&&f[0].readers.length>0&&(y=e[f[0].readers[0].columnIndex],y!==undefined&&(y.isDatetime?o="datetime":y.isNumeric||(o="category"))),o==="category")for(t=0;t<f.length;t++)for(n=f[t],a=0;a<n.readers.length;a++)n.readers[a].configName==="x"&&(n.readers[a].configName="name");for(t=0;t<f.length;t++){for(n=f[t],p=[],l=0;l<e[0].length;l++)p[l]=n.read(e,l);c[t]={data:p};n.name&&(c[t].name=n.name);o==="category"&&(c[t].turboThreshold=0)}v={series:c};o&&(v.xAxis={type:o});s.complete&&s.complete(v);s.afterComplete&&s.afterComplete(v)}}});n.Data=r;n.data=function(n,t){return new r(n,t)};n.wrap(n.Chart.prototype,"init",function(t,i,r){var u=this;i&&i.data?n.data(n.extend(i.data,{afterComplete:function(f){var e,o;if(i.hasOwnProperty("series"))if(typeof i.series=="object")for(e=Math.max(i.series.length,f.series.length);e--;)o=i.series[e]||{},i.series[e]=n.merge(o,f.series[e]);else delete i.series;i=n.merge(f,i);t.call(u,i,r)}}),i):t.call(u,i,r)});i=function(){this.readers=[];this.pointIsArray=!0};i.prototype.populateColumns=function(n){var i=this,r=!0;return t(i.readers,function(t){t.columnIndex===undefined&&(t.columnIndex=n.shift())}),t(i.readers,function(n){n.columnIndex===undefined&&(r=!1)}),r};i.prototype.read=function(n,i){var u=this,e=u.pointIsArray,f=e?[]:{},r;return t(u.readers,function(t){var r=n[t.columnIndex][i];e?f.push(r):f[t.configName]=r}),this.name===undefined&&u.readers.length>=2&&(r=u.getReferencedColumnIndexes(),r.length>=2&&(r.shift(),r.sort(),this.name=n[r.shift()].name)),f};i.prototype.addColumnReader=function(n,t){this.readers.push({columnIndex:n,configName:t});t==="x"||t==="y"||t===undefined||(this.pointIsArray=!1)};i.prototype.getReferencedColumnIndexes=function(){for(var i=[],t,n=0;n<this.readers.length;n=n+1)t=this.readers[n],t.columnIndex!==undefined&&i.push(t.columnIndex);return i};i.prototype.hasReader=function(n){for(var i,t=0;t<this.readers.length;t=t+1)if(i=this.readers[t],i.configName===n)return!0}});
/**
 * @license Highcharts JS v4.2.3 (2016-02-08)
 * Exporting module
 *
 * (c) 2010-2016 Torstein Honsi
 *
 * License: www.highcharts.com/license
 */
(function(n){typeof module=="object"&&module.exports?module.exports=n:n(Highcharts)})(function(n){var l=n.win,t=l.document,b=n.Chart,o=n.addEvent,k=n.removeEvent,d=n.fireEvent,u=n.createElement,a=n.discardElement,s=n.css,f=n.merge,i=n.each,r=n.extend,it=n.splat,rt=Math,ut=rt.max,ft=n.isTouchDevice,v="M",y="L",h="div",et="hidden",c="none",g="highcharts-",nt="absolute",e="px",tt,ot=n.Renderer.prototype.symbols,p=n.getOptions(),w;r(p.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"});p.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF",padding:"5px 0"},menuItemStyle:{padding:"0 10px",background:c,color:"#303030",fontSize:ft?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{symbolFill:"#E0E0E0",symbolSize:14,symbolStroke:"#666",symbolStrokeWidth:3,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,theme:{fill:"white",stroke:"none"},verticalAlign:"top",width:24}};p.exporting={type:"image/png",url:"http://export.highcharts.com/",buttons:{contextButton:{menuClassName:g+"contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}};n.post=function(n,i,r){var e,o=u("form",f({method:"post",action:n,enctype:"multipart/form-data"},r),{display:c},t.body);for(e in i)u("input",{type:et,name:e,value:i[e]},null,o);o.submit();a(o)};r(b.prototype,{sanitizeSVG:function(n){return n.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"<\/svg>").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­").replace(/<IMG /g,"<image ").replace(/<(\/?)TITLE>/g,"<$1title>").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/ id=([^" >]+)/g,' id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(n){return n.toLowerCase()})},getChartHTML:function(){return this.container.innerHTML},getSVG:function(o){var c=this,y,p,l,w,d,g,b,k,v,s=f(c.options,o),rt=s.exporting.allowHTML;return t.createElementNS||(t.createElementNS=function(n,i){return t.createElement(i)}),p=u(h,null,{position:nt,top:"-9999em",width:c.chartWidth+e,height:c.chartHeight+e},t.body),b=c.renderTo.style.width,k=c.renderTo.style.height,d=s.exporting.sourceWidth||s.chart.width||/px$/.test(b)&&parseInt(b,10)||600,g=s.exporting.sourceHeight||s.chart.height||/px$/.test(k)&&parseInt(k,10)||400,r(s.chart,{animation:!1,renderTo:p,forExport:!0,renderer:"SVGRenderer",width:d,height:g}),s.exporting.enabled=!1,delete s.data,s.series=[],i(c.series,function(n){w=f(n.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:n.visible});w.isInternal||s.series.push(w)}),o&&i(["xAxis","yAxis"],function(n){i(it(o[n]),function(t,i){s[n][i]=f(s[n][i],t)})}),y=new n.Chart(s,c.callback),i(["xAxis","yAxis"],function(n){i(c[n],function(t,i){var r=y[n][i],u=t.getExtremes(),f=u.userMin,e=u.userMax;r&&(f!==tt||e!==tt)&&r.setExtremes(f,e,!0,!1)})}),l=y.getChartHTML(),s=null,y.destroy(),a(p),rt&&(v=l.match(/<\/svg>(.*?$)/),v&&(v='<foreignObject x="0" y="0" width="200" height="200"><body xmlns="http://www.w3.org/1999/xhtml">'+v[1]+"<\/body><\/foreignObject>",l=l.replace("<\/svg>",v+"<\/svg>"))),l=this.sanitizeSVG(l),l.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'")},getSVGForExport:function(n,t){var i=this.options.exporting;return this.getSVG(f({chart:{borderRadius:0}},i.chartOptions,t,{exporting:{sourceWidth:n&&n.sourceWidth||i.sourceWidth,sourceHeight:n&&n.sourceHeight||i.sourceHeight}}))},exportChart:function(t,i){var r=this.getSVGForExport(t,i);t=f(this.options.exporting,t);n.post(t.url,{filename:t.filename||"chart",type:t.type,width:t.width||0,scale:t.scale||2,svg:r},t.formAttributes)},print:function(){var n=this,r=n.container,u=[],o=r.parentNode,f=t.body,e=f.childNodes;n.isPrinting||(n.isPrinting=!0,n.pointer.reset(null,0),d(n,"beforePrint"),i(e,function(n,t){n.nodeType===1&&(u[t]=n.style.display,n.style.display=c)}),f.appendChild(r),l.focus(),l.print(),setTimeout(function(){o.appendChild(r);i(e,function(n,t){n.nodeType===1&&(n.style.display=u[t])});n.isPrinting=!1;d(n,"afterPrint")},1e3))},contextMenu:function(n,f,l,a,v,y,p){var w=this,rt=w.options.navigation,et=rt.menuItemStyle,ot=w.chartWidth,st=w.chartHeight,ht="cache-"+n,b=w[ht],g=ut(v,y),ft="3px 3px 10px #888",tt,it,ct,d,lt=function(t){w.pointer.inClass(t.target,n)||it()};b||(w[ht]=b=u(h,{className:n},{position:nt,zIndex:1e3,padding:g+e},w.container),tt=u(h,null,r({MozBoxShadow:ft,WebkitBoxShadow:ft,boxShadow:ft},rt.menuStyle),b),it=function(){s(b,{display:c});p&&p.setState(0);w.openMenu=!1},o(b,"mouseleave",function(){ct=setTimeout(it,500)}),o(b,"mouseenter",function(){clearTimeout(ct)}),o(t,"mouseup",lt),o(w,"destroy",function(){k(t,"mouseup",lt)}),i(f,function(n){if(n){var t=n.separator?u("hr",null,null,tt):u(h,{onmouseover:function(){s(this,rt.menuItemHoverStyle)},onmouseout:function(){s(this,et)},onclick:function(t){t&&t.stopPropagation();it();n.onclick&&n.onclick.apply(w,arguments)},innerHTML:n.text||w.options.lang[n.textKey]},r({cursor:"pointer"},et),tt);w.exportDivElements.push(t)}}),w.exportDivElements.push(tt,b),w.exportMenuWidth=b.offsetWidth,w.exportMenuHeight=b.offsetHeight);d={display:"block"};l+w.exportMenuWidth>ot?d.right=ot-l-v-g+e:d.left=l-g+e;a+y+w.exportMenuHeight>st&&p.alignOptions.verticalAlign!=="top"?d.bottom=st-a-g+e:d.top=a+y-g+e;s(b,d);w.openMenu=!0},addButton:function(t){var e=this,l=e.renderer,i=f(e.options.navigation.buttonOptions,t),a=i.onclick,v=i.menuItems,y,u,p={stroke:i.symbolStroke,fill:i.symbolFill},s=i.symbolSize||12;if(e.btnCount||(e.btnCount=0),e.exportDivElements||(e.exportDivElements=[],e.exportSVGElements=[]),i.enabled!==!1){var o=i.theme,h=o.states,b=h&&h.hover,k=h&&h.select,c;delete o.states;a?c=function(n){n.stopPropagation();a.call(e,n)}:v&&(c=function(){e.contextMenu(u.menuClassName,v,u.translateX,u.translateY,u.width,u.height,u);u.setState(2)});i.text&&i.symbol?o.paddingLeft=n.pick(o.paddingLeft,25):i.text||r(o,{width:i.width,height:i.height,padding:0});u=l.button(i.text,0,0,c,o,b,k).attr({title:e.options.lang[i._titleKey],"stroke-linecap":"round",zIndex:3});u.menuClassName=t.menuClassName||g+"menu-"+e.btnCount++;i.symbol&&(y=l.symbol(i.symbol,i.symbolX-s/2,i.symbolY-s/2,s,s).attr(r(p,{"stroke-width":i.symbolStrokeWidth||1,zIndex:1})).add(u));u.add().align(r(i,{width:u.width,x:n.pick(i.x,w)}),!0,"spacingBox");w+=(u.width+i.buttonSpacing)*(i.align==="right"?-1:1);e.exportSVGElements.push(u,y)}},destroyExport:function(n){for(var r=n.target,t,i=0;i<r.exportSVGElements.length;i++)t=r.exportSVGElements[i],t&&(t.onclick=t.ontouchstart=null,r.exportSVGElements[i]=t.destroy());for(i=0;i<r.exportDivElements.length;i++)t=r.exportDivElements[i],k(t,"mouseleave"),r.exportDivElements[i]=t.onmouseout=t.onmouseover=t.ontouchstart=t.onclick=null,a(t)}});ot.menu=function(n,t,i,r){return[v,n,t+2.5,y,n+i,t+2.5,v,n,t+r/2+.5,y,n+i,t+r/2+.5,v,n,t+r-1.5,y,n+i,t+r-1.5]};b.prototype.callbacks.push(function(n){var t,i=n.options.exporting,r=i.buttons;if(w=0,i.enabled!==!1){for(t in r)n.addButton(r[t]);o(n,"destroy",n.destroyExport)}})}),function(n){typeof module=="object"&&module.exports?module.exports=n:n(Highcharts)}(function(n){"use strict";function k(n,t,i){var r,u;return t.rgba.length&&n.rgba.length?(n=n.rgba,t=t.rgba,r=t[3]!==1||n[3]!==1,u=(r?"rgba(":"rgb(")+Math.round(t[0]+(n[0]-t[0])*(1-i))+","+Math.round(t[1]+(n[1]-t[1])*(1-i))+","+Math.round(t[2]+(n[2]-t[2])*(1-i))+(r?","+(t[3]+(n[3]-t[3])*(1-i)):"")+")"):u=t.input||"none",u}var s=function(){},h=n.getOptions(),t=n.each,i=n.extend,b=n.format,c=n.pick,e=n.wrap,r=n.Chart,f=n.seriesTypes,l=f.pie,u=f.column,a=n.Tick,v=n.fireEvent,y=n.inArray,p=1,o,w;t(["fill","stroke"],function(t){n.Fx.prototype[t+"Setter"]=function(){this.elem.attr(t,k(n.Color(this.start),n.Color(this.end),this.pos))}});i(h.lang,{drillUpText:"◁ Back to {series.name}"});h.drilldown={activeAxisLabelStyle:{cursor:"pointer",color:"#0d233a",fontWeight:"bold",textDecoration:"underline"},activeDataLabelStyle:{cursor:"pointer",color:"#0d233a",fontWeight:"bold",textDecoration:"underline"},animation:{duration:500},drillUpButton:{position:{align:"right",x:-10,y:10}}};n.SVGRenderer.prototype.Element.prototype.fadeIn=function(n){this.attr({opacity:.1,visibility:"inherit"}).animate({opacity:c(this.newOpacity,1)},n||{duration:250})};r.prototype.addSeriesAsDrilldown=function(n,t){this.addSingleSeriesAsDrilldown(n,t);this.applyDrilldown()};r.prototype.addSingleSeriesAsDrilldown=function(n,r){var f=n.series,u=f.xAxis,o=f.yAxis,h,b=n.color||f.color,l,a=[],v=[],w,c,e;this.drilldownLevels||(this.drilldownLevels=[]);c=f.options._levelNumber||0;e=this.drilldownLevels[this.drilldownLevels.length-1];e&&e.levelNumber!==c&&(e=undefined);r=i({color:b,_ddSeriesId:p++},r);l=y(n,f.points);t(f.chart.series,function(n){n.xAxis!==u||n.isDrilling||(n.options._ddSeriesId=n.options._ddSeriesId||p++,n.options._colorIndex=n.userOptions._colorIndex,n.options._levelNumber=n.options._levelNumber||c,e?(a=e.levelSeries,v=e.levelSeriesOptions):(a.push(n),v.push(n.options)))});w={levelNumber:c,seriesOptions:f.options,levelSeriesOptions:v,levelSeries:a,shapeArgs:n.shapeArgs,bBox:n.graphic?n.graphic.getBBox():{},color:b,lowerSeriesOptions:r,pointOptions:f.options.data[l],pointIndex:l,oldExtremes:{xMin:u&&u.userMin,xMax:u&&u.userMax,yMin:o&&o.userMin,yMax:o&&o.userMax}};this.drilldownLevels.push(w);h=w.lowerSeries=this.addSeries(r,!1);h.options._levelNumber=c+1;u&&(u.oldPos=u.pos,u.userMin=u.userMax=null,o.userMin=o.userMax=null);f.type===h.type&&(h.animate=h.animateDrilldown||s,h.options.animation=!0)};r.prototype.applyDrilldown=function(){var n=this.drilldownLevels,i;n&&n.length>0&&(i=n[n.length-1].levelNumber,t(this.drilldownLevels,function(n){n.levelNumber===i&&t(n.levelSeries,function(n){n.options&&n.options._levelNumber===i&&n.remove(!1)})}));this.redraw();this.showDrillUpButton()};r.prototype.getDrilldownBackText=function(){var n=this.drilldownLevels,t;if(n&&n.length>0)return t=n[n.length-1],t.series=t.seriesOptions,b(this.options.lang.drillUpText,t)};r.prototype.showDrillUpButton=function(){var r=this,u=this.getDrilldownBackText(),t=r.options.drilldown.drillUpButton,i,n;this.drillUpButton?this.drillUpButton.attr({text:u}).align():(i=t.theme,n=i&&i.states,this.drillUpButton=this.renderer.button(u,null,null,function(){r.drillUp()},i,n&&n.hover,n&&n.select).attr({align:t.position.align,zIndex:9}).add().align(t.position,!1,t.relativeTo||"plotBox"))};r.prototype.drillUp=function(){for(var u=this,f=u.drilldownLevels,h=f[f.length-1].levelNumber,c=f.length,e=u.series,o,n,i,r,s,l=function(f){var o;t(e,function(n){n.options._ddSeriesId===f._ddSeriesId&&(o=n)});o=o||u.addSeries(f,!1);o.type===i.type&&o.animateDrillupTo&&(o.animate=o.animateDrillupTo);f===n.seriesOptions&&(r=o)};c--;)if(n=f[c],n.levelNumber===h){if(f.pop(),i=n.lowerSeries,!i.chart)for(o=e.length;o--;)if(e[o].options.id===n.lowerSeriesOptions.id&&e[o].options._levelNumber===h+1){i=e[o];break}i.xData=[];t(n.levelSeriesOptions,l);v(u,"drillup",{seriesOptions:n.seriesOptions});r.type===i.type&&(r.drilldownLevel=n,r.options.animation=u.options.drilldown.animation,i.animateDrillupFrom&&i.chart&&i.animateDrillupFrom(n));r.options._levelNumber=h;i.remove(!1);r.xAxis&&(s=n.oldExtremes,r.xAxis.setExtremes(s.xMin,s.xMax,!1),r.yAxis.setExtremes(s.yMin,s.yMax,!1))}this.redraw();this.drilldownLevels.length===0?this.drillUpButton=this.drillUpButton.destroy():this.drillUpButton.attr({text:this.getDrilldownBackText()}).align();this.ddDupes.length=[]};u.prototype.supportsDrilldown=!0;u.prototype.animateDrillupTo=function(n){if(!n){var i=this,r=i.drilldownLevel;t(this.points,function(n){n.graphic&&n.graphic.hide();n.dataLabel&&n.dataLabel.hide();n.connector&&n.connector.hide()});setTimeout(function(){i.points&&t(i.points,function(n,t){var i=t===(r&&r.pointIndex)?"show":"fadeIn",u=i==="show"?!0:undefined;n.graphic&&n.graphic[i](u);n.dataLabel&&n.dataLabel[i](u);n.connector&&n.connector[i](u)})},Math.max(this.chart.options.drilldown.animation.duration-50,0));this.animate=s}};u.prototype.animateDrilldown=function(n){var e=this,o=this.chart.drilldownLevels,r,f=this.chart.options.drilldown.animation,u=this.xAxis;n||(t(o,function(n){e.options._ddSeriesId===n.lowerSeriesOptions._ddSeriesId&&(r=n.shapeArgs,r.fill=n.color)}),r.x+=c(u.oldPos,u.pos)-u.pos,t(this.points,function(n){n.graphic&&n.graphic.attr(r).animate(i(n.shapeArgs,{fill:n.color}),f);n.dataLabel&&n.dataLabel.fadeIn(f)}),this.animate=null)};u.prototype.animateDrillupFrom=function(r){var e=this.chart.options.drilldown.animation,u=this.group,f=this;t(f.trackerGroups,function(n){if(f[n])f[n].on("mouseover")});delete this.group;t(this.points,function(t){var f=t.graphic,o=function(){f.destroy();u&&(u=u.destroy())};f&&(delete t.graphic,e?f.animate(i(r.shapeArgs,{fill:r.color}),n.merge(e,{complete:o})):(f.attr(r.shapeArgs),o()))})};l&&i(l.prototype,{supportsDrilldown:!0,animateDrillupTo:u.prototype.animateDrillupTo,animateDrillupFrom:u.prototype.animateDrillupFrom,animateDrilldown:function(r){var e=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],o=this.chart.options.drilldown.animation,u=e.shapeArgs,f=u.start,h=u.end-f,s=h/this.points.length;r||(t(this.points,function(t,r){t.graphic.attr(n.merge(u,{start:f+r*s,end:f+(r+1)*s,fill:e.color}))[o?"animate":"attr"](i(t.shapeArgs,{fill:t.color}),o)}),this.animate=null)}});n.Point.prototype.doDrilldown=function(n,t){var e=this.series,i=e.chart,u=i.options.drilldown,f=(u.series||[]).length,r;for(i.ddDupes||(i.ddDupes=[]);f--&&!r;)u.series[f].id===this.drilldown&&y(this.drilldown,i.ddDupes)===-1&&(r=u.series[f],i.ddDupes.push(this.drilldown));v(i,"drilldown",{point:this,seriesOptions:r,category:t,points:t!==undefined&&this.series.xAxis.ddPoints[t].slice(0)});r&&(n?i.addSingleSeriesAsDrilldown(this,r):i.addSeriesAsDrilldown(this,r))};n.Axis.prototype.drilldownCategory=function(n){var i,t,r=this.ddPoints[n];for(i in r)t=r[i],t&&t.series&&t.series.visible&&t.doDrilldown&&t.doDrilldown(!0,n);this.chart.applyDrilldown()};n.Axis.prototype.getDDPoints=function(n,t){var i=this.ddPoints;return i||(this.ddPoints=i={}),i[n]||(i[n]=[]),i[n].levelNumber!==t&&(i[n].length=0),i[n]};a.prototype.drillable=function(){var r=this.pos,t=this.label,i=this.axis,u=i.ddPoints&&i.ddPoints[r];if(t&&u&&u.length){t.basicStyles||(t.basicStyles=n.merge(t.styles));t.addClass("highcharts-drilldown-axis-label").css(i.chart.options.drilldown.activeAxisLabelStyle).on("click",function(){i.drilldownCategory(r)})}else if(t&&t.basicStyles){t.styles={};t.css(t.basicStyles);t.on("click",null)}};e(a.prototype,"addLabel",function(n){n.call(this);this.drillable()});e(n.Point.prototype,"init",function(t,i,r,u){var f=t.call(this,i,r,u),e=i.xAxis,s=e&&e.ticks[u],o=e&&e.getDDPoints(u,i.options._levelNumber);return f.drilldown&&(n.addEvent(f,"click",function(){i.xAxis&&i.chart.options.drilldown.allowPointDrilldown===!1?i.xAxis.drilldownCategory(u):f.doDrilldown()}),o&&(o.push(f),o.levelNumber=i.options._levelNumber)),s&&s.drillable(),f});e(n.Series.prototype,"drawDataLabels",function(n){var i=this.chart.options.drilldown.activeDataLabelStyle;n.call(this);t(this.points,function(n){n.drilldown&&n.dataLabel&&n.dataLabel.attr({"class":"highcharts-drilldown-data-label"}).css(i)})});w=function(n){n.call(this);t(this.points,function(n){n.drilldown&&n.graphic&&n.graphic.attr({"class":"highcharts-drilldown-point"}).css({cursor:"pointer"})})};for(o in f)f[o].prototype.supportsDrilldown&&e(f[o].prototype,"drawTracker",w)}),function(n){typeof module=="object"&&module.exports?module.exports=n:n(Highcharts)}(function(n){function d(n,t,i){this.init(n,t,i)}var rt=n.arrayMin,ut=n.arrayMax,r=n.each,b=n.extend,f=n.merge,ft=n.map,i=n.pick,v=n.pInt,u=n.getOptions().plotOptions,t=n.seriesTypes,s=n.extendClass,g=n.splat,o=n.wrap,nt=n.Axis,w=n.Tick,k=n.Point,et=n.Pointer,ot=n.CenteredSeriesMixin,a=n.TrackerMixin,h=n.Series,c=Math,y=c.round,l=c.floor,tt=c.max,st=n.Color,e=function(){};b(d.prototype,{init:function(n,t,i){var u=this,e=u.defaultOptions;u.chart=t;u.options=n=f(e,t.angular?{background:{}}:void 0,n);(n=n.background)&&r([].concat(g(n)).reverse(),function(n){var r=n.backgroundColor,t=i.userOptions,n=f(u.defaultBackgroundOptions,n);r&&(n.backgroundColor=r);n.color=n.backgroundColor;i.options.plotBands.unshift(n);t.plotBands=t.plotBands||[];t.plotBands!==i.options.plotBands&&t.plotBands.unshift(n)})},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"silver",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#DDD"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}});var p=nt.prototype,w=w.prototype,ht={getOffset:e,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:e,setCategories:e,setTitle:e},it={isRadial:!0,defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(n){n=this.options=f(this.defaultOptions,this.defaultRadialOptions,n);n.plotBands||(n.plotBands=[])},getOffset:function(){p.getOffset.call(this);this.chart.axisOffset[this.side]=0;this.center=this.pane.center=ot.getCenter.call(this.pane)},getLinePath:function(n,t){var r=this.center,t=i(t,r[2]/2-this.offset);return this.chart.renderer.symbols.arc(this.left+r[0],this.top+r[1],t,t,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})},setAxisTranslation:function(){p.setAxisTranslation.call(this);this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.center[2]/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)},beforeSetTickPositions:function(){this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)},setAxisSize:function(){p.setAxisSize.call(this);this.isRadial&&(this.center=this.pane.center=n.CenteredSeriesMixin.getCenter.call(this.pane),this.isCircular&&(this.sector=this.endAngleRad-this.startAngleRad),this.len=this.width=this.height=this.center[2]*i(this.sector,1)/2)},getPosition:function(n,t){return this.postTranslate(this.isCircular?this.translate(n):0,i(this.isCircular?t:this.translate(n),this.center[2]/2)-this.offset)},postTranslate:function(n,t){var i=this.chart,r=this.center,n=this.startAngleRad+n;return{x:i.plotLeft+r[0]+Math.cos(n)*t,y:i.plotTop+r[1]+Math.sin(n)*t}},getPlotBandPath:function(n,t,r){var f=this.center,e=this.startAngleRad,h=f[2]/2,u=[i(r.outerRadius,"100%"),r.innerRadius,i(r.thickness,10)],c=/%$/,o,s=this.isCircular;return this.options.gridLineInterpolation==="polygon"?f=this.getPlotLinePath(n).concat(this.getPlotLinePath(t,!0)):(n=Math.max(n,this.min),t=Math.min(t,this.max),s||(u[0]=this.translate(n),u[1]=this.translate(t)),u=ft(u,function(n){return c.test(n)&&(n=v(n,10)*h/100),n}),r.shape==="circle"||!s?(n=-Math.PI/2,t=Math.PI*1.5,o=!0):(n=e+this.translate(n),t=e+this.translate(t)),f=this.chart.renderer.symbols.arc(this.left+f[0],this.top+f[1],u[0],u[0],{start:Math.min(n,t),end:Math.max(n,t),innerR:i(u[1],u[0]-u[2]),open:o})),f},getPlotLinePath:function(n,t){var i=this,u=i.center,o=i.chart,h=i.getPosition(n),e,s,f;return i.isCircular?f=["M",u[0]+o.plotLeft,u[1]+o.plotTop,"L",h.x,h.y]:i.options.gridLineInterpolation==="circle"?(n=i.translate(n))&&(f=i.getLinePath(0,n)):(r(o.xAxis,function(n){n.pane===i.pane&&(e=n)}),f=[],n=i.translate(n),u=e.tickPositions,e.autoConnect&&(u=u.concat([u[0]])),t&&(u=[].concat(u).reverse()),r(u,function(t,i){s=e.getPosition(t,n);f.push(i?"L":"M",s.x,s.y)})),f},getTitlePosition:function(){var n=this.center,i=this.chart,t=this.options.title;return{x:i.plotLeft+n[0]+(t.x||0),y:i.plotTop+n[1]-{high:.5,middle:.25,low:0}[t.align]*n[2]+(t.y||0)}}};o(p,"init",function(n,t,r){var c,o=t.angular,l=t.polar,s=r.isX,a=o&&s,h,e,u;e=t.options;u=r.pane||0;o?(b(this,a?ht:it),h=!s)&&(this.defaultRadialOptions=this.defaultRadialGaugeOptions):l&&(b(this,it),this.defaultRadialOptions=(h=s)?this.defaultRadialXOptions:f(this.defaultYAxisOptions,this.defaultRadialYOptions));n.call(this,t,r);!a&&(o||l)&&(n=this.options,t.panes||(t.panes=[]),this.pane=(c=t.panes[u]=t.panes[u]||new d(g(e.pane)[u],t,this),u=c),u=u.options,t.inverted=!1,e.chart.zoomType=null,this.startAngleRad=t=(u.startAngle-90)*Math.PI/180,this.endAngleRad=e=(i(u.endAngle,u.startAngle+360)-90)*Math.PI/180,this.offset=n.offset||0,(this.isCircular=h)&&r.max===void 0&&e-t==2*Math.PI&&(this.autoConnect=!0))});o(p,"autoLabelAlign",function(n){if(!this.isRadial)return n.apply(this,[].slice.call(arguments,1))});o(w,"getPosition",function(n,t,i,r,u){var f=this.axis;return f.getPosition?f.getPosition(i):n.call(this,t,i,r,u)});o(w,"getLabelPosition",function(n,t,r,u,f,e,o,s,h){var c=this.axis,y=e.y,l=20,v=e.align,a=(c.translate(this.pos)+c.startAngleRad+Math.PI/2)/Math.PI*180%360;return c.isRadial?(n=c.getPosition(this.pos,c.center[2]/2+i(e.distance,-25)),e.rotation==="auto"?u.attr({rotation:a}):y===null&&(y=c.chart.renderer.fontMetrics(u.styles.fontSize).b-u.getBBox().height/2),v===null&&(c.isCircular?(this.label.getBBox().width>c.len*c.tickInterval/(c.max-c.min)&&(l=0),v=a>l&&a<180-l?"left":a>180+l&&a<360-l?"right":"center"):v="center",u.attr({align:v})),n.x+=e.x,n.y+=y):n=n.call(this,t,r,u,f,e,o,s,h),n});o(w,"getMarkPath",function(n,t,i,r,u,f,e){var o=this.axis;return o.isRadial?(n=o.getPosition(this.pos,o.center[2]/2+r),t=["M",t,i,"L",n.x,n.y]):t=n.call(this,t,i,r,u,f,e),t});u.arearange=f(u.area,{lineWidth:1,marker:null,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●<\/span> {series.name}: <b>{point.low}<\/b> - <b>{point.high}<\/b><br/>'},trackByArea:!0,dataLabels:{align:null,verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},states:{hover:{halo:!1}}});t.arearange=s(t.area,{type:"arearange",pointArrayMap:["low","high"],dataLabelCollections:["dataLabel","dataLabelUpper"],toYData:function(n){return[n.low,n.high]},pointValKey:"low",deferTranslatePolar:!0,highToXY:function(n){var t=this.chart,i=this.xAxis.postTranslate(n.rectPlotX,this.yAxis.len-n.plotHigh);n.plotHighX=i.x-t.plotLeft;n.plotHigh=i.y-t.plotTop},translate:function(){var n=this,i=n.yAxis;t.area.prototype.translate.apply(n);r(n.points,function(n){var r=n.low,t=n.high,u=n.plotY;t===null||r===null?n.isNull=!0:(n.plotLow=u,n.plotHigh=i.translate(t,0,1,0,1))});this.chart.polar&&r(this.points,function(t){n.highToXY(t)})},getGraphPath:function(){var n=this.points,e=[],i=[],r=n.length,o=h.prototype.getGraphPath,t,s,u,f;for(u=this.options,f=u.step,r=n.length;r--;)t=n[r],!t.isNull&&(!n[r+1]||n[r+1].isNull)&&i.push({plotX:t.plotX,plotY:t.plotLow}),s={plotX:t.plotX,plotY:t.plotHigh,isNull:t.isNull},i.push(s),e.push(s),!t.isNull&&(!n[r-1]||n[r-1].isNull)&&i.push({plotX:t.plotX,plotY:t.plotLow});return n=o.call(this,n),f&&(f===!0&&(f="left"),u.step={left:"right",center:"center",right:"left"}[f]),e=o.call(this,e),i=o.call(this,i),u.step=f,u=[].concat(n,e),this.chart.polar||i[0]!=="M"||(i[0]="L"),this.areaPath=this.areaPath.concat(n,i),u},drawDataLabels:function(){var f=this.data,s=f.length,i,c=[],u=h.prototype,t=this.options.dataLabels,e=t.align,o=t.verticalAlign,l=t.inside,n,r,a=this.chart.inverted;if(t.enabled||this._hasPointLabels){for(i=s;i--;)(n=f[i])&&(r=l?n.plotHigh<n.plotLow:n.plotHigh>n.plotLow,n.y=n.high,n._plotY=n.plotY,n.plotY=n.plotHigh,c[i]=n.dataLabel,n.dataLabel=n.dataLabelUpper,n.below=r,a?e||(t.align=r?"right":"left"):o||(t.verticalAlign=r?"top":"bottom"),t.x=t.xHigh,t.y=t.yHigh);for(u.drawDataLabels&&u.drawDataLabels.apply(this,arguments),i=s;i--;)(n=f[i])&&(r=l?n.plotHigh<n.plotLow:n.plotHigh>n.plotLow,n.dataLabelUpper=n.dataLabel,n.dataLabel=c[i],n.y=n.low,n.plotY=n._plotY,n.below=!r,a?e||(t.align=r?"left":"right"):o||(t.verticalAlign=r?"bottom":"top"),t.x=t.xLow,t.y=t.yLow);u.drawDataLabels&&u.drawDataLabels.apply(this,arguments)}t.align=e;t.verticalAlign=o},alignDataLabel:function(){t.column.prototype.alignDataLabel.apply(this,arguments)},setStackedPoints:e,getSymbol:e,drawPoints:e});u.areasplinerange=f(u.arearange);t.areasplinerange=s(t.arearange,{type:"areasplinerange",getPointSpline:t.spline.prototype.getPointSpline}),function(){var n=t.column.prototype;u.columnrange=f(u.column,u.arearange,{lineWidth:1,pointRange:null});t.columnrange=s(t.arearange,{type:"columnrange",translate:function(){var t=this,u=t.yAxis,f=t.xAxis,i=t.chart,e;n.translate.apply(t);r(t.points,function(n){var o=n.shapeArgs,h=t.options.minPointLength,r,s;n.plotHigh=e=u.translate(n.high,0,1,0,1);n.plotLow=n.plotY;s=e;r=n.plotY-e;Math.abs(r)<h?(h-=r,r+=h,s-=h/2):r<0&&(r*=-1,s-=r);o.height=r;o.y=s;n.tooltipPos=i.inverted?[u.len+u.pos-i.plotLeft-s-r/2,f.len+f.pos-i.plotTop-o.x-o.width/2,r]:[f.left-i.plotLeft+o.x+o.width/2,u.pos-i.plotTop+s+r/2,r]})},directTouch:!0,trackerGroups:["group","dataLabelsGroup"],drawGraph:e,crispCol:n.crispCol,pointAttrToOptions:n.pointAttrToOptions,drawPoints:n.drawPoints,drawTracker:n.drawTracker,animate:n.animate,getColumnMetrics:n.getColumnMetrics})}();u.gauge=f(u.line,{dataLabels:{enabled:!0,defer:!1,y:15,borderWidth:1,borderColor:"silver",borderRadius:3,crop:!1,verticalAlign:"top",zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1});a={type:"gauge",pointClass:s(k,{setState:function(n){this.state=n}}),angular:!0,drawGraph:e,fixedBox:!0,forceDL:!0,trackerGroups:["group","dataLabelsGroup"],translate:function(){var n=this.yAxis,u=this.options,t=n.center;this.generatePoints();r(this.points,function(r){var o=f(u.dial,r.dial),h=v(i(o.radius,80))*t[2]/200,l=v(i(o.baseLength,70))*h/100,a=v(i(o.rearLength,10))*h/100,c=o.baseWidth||3,y=o.topWidth||1,s=u.overshoot,e=n.startAngleRad+n.translate(r.y,null,null,null,!0);s&&typeof s=="number"?(s=s/180*Math.PI,e=Math.max(n.startAngleRad-s,Math.min(n.endAngleRad+s,e))):u.wrap===!1&&(e=Math.max(n.startAngleRad,Math.min(n.endAngleRad,e)));e=e*180/Math.PI;r.shapeType="path";r.shapeArgs={d:o.path||["M",-a,-c/2,"L",l,-c/2,h,-y/2,h,y/2,l,c/2,-a,c/2,"z"],translateX:t[0],translateY:t[1],rotation:e};r.plotX=t[0];r.plotY=t[1]})},drawPoints:function(){var n=this,t=n.yAxis.center,e=n.pivot,o=n.options,u=o.pivot,s=n.chart.renderer;r(n.points,function(t){var u=t.graphic,i=t.shapeArgs,e=i.d,r=f(o.dial,t.dial);u?(u.animate(i),i.d=e):t.graphic=s[t.shapeType](i).attr({stroke:r.borderColor||"none","stroke-width":r.borderWidth||0,fill:r.backgroundColor||"black",rotation:i.rotation,zIndex:1}).add(n.group)});e?e.animate({translateX:t[0],translateY:t[1]}):n.pivot=s.circle(0,0,i(u.radius,5)).attr({"stroke-width":u.borderWidth||0,stroke:u.borderColor||"silver",fill:u.backgroundColor||"black",zIndex:2}).translate(t[0],t[1]).add(n.group)},animate:function(n){var t=this;n||(r(t.points,function(n){var i=n.graphic;i&&(i.attr({rotation:t.yAxis.startAngleRad*180/Math.PI}),i.animate({rotation:n.shapeArgs.rotation},t.options.animation))}),t.animate=null)},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup);h.prototype.render.call(this);this.group.clip(this.chart.clipRect)},setData:function(n,t){h.prototype.setData.call(this,n,!1);this.processData();this.generatePoints();i(t,!0)&&this.chart.redraw()},drawTracker:a&&a.drawTrackerPoint};t.gauge=s(t.line,a);u.boxplot=f(u.column,{fillColor:"#FFFFFF",lineWidth:1,medianWidth:2,states:{hover:{brightness:-.3}},threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">●<\/span> <b> {series.name}<\/b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",whiskerWidth:2});t.boxplot=s(t.column,{type:"boxplot",pointArrayMap:["low","q1","median","q3","high"],toYData:function(n){return[n.low,n.q1,n.median,n.q3,n.high]},pointValKey:"high",pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth"},drawDataLabels:e,translate:function(){var n=this.yAxis,i=this.pointArrayMap;t.column.prototype.translate.apply(this);r(this.points,function(t){r(i,function(i){t[i]!==null&&(t[i+"Plot"]=n.translate(t[i],0,1,0,1))})})},drawPoints:function(){var e=this,u=e.options,v=e.chart.renderer,it,h,o,p,w,rt,n,t,s,ut,c,ft,et,b,ot,k,st,f,d,ht,ct,tt,g=e.doQuartiles!==!1,nt,a=e.options.whiskerLength;r(e.points,function(r){s=r.graphic;ct=r.shapeArgs;c={};b={};k={};tt=r.color||e.color;r.plotY!==void 0&&((it=r.pointAttr[r.selected?"selected":""],st=ct.width,f=l(ct.x),d=f+st,ht=y(st/2),h=l(g?r.q1Plot:r.lowPlot),o=l(g?r.q3Plot:r.lowPlot),p=l(r.highPlot),w=l(r.lowPlot),c.stroke=r.stemColor||u.stemColor||tt,c["stroke-width"]=i(r.stemWidth,u.stemWidth,u.lineWidth),c.dashstyle=r.stemDashStyle||u.stemDashStyle,b.stroke=r.whiskerColor||u.whiskerColor||tt,b["stroke-width"]=i(r.whiskerWidth,u.whiskerWidth,u.lineWidth),k.stroke=r.medianColor||u.medianColor||tt,k["stroke-width"]=i(r.medianWidth,u.medianWidth,u.lineWidth),n=c["stroke-width"]%2/2,t=f+ht+n,ut=["M",t,o,"L",t,p,"M",t,h,"L",t,w],g&&(n=it["stroke-width"]%2/2,t=l(t)+n,h=l(h)+n,o=l(o)+n,f+=n,d+=n,ft=["M",f,o,"L",f,h,"L",d,h,"L",d,o,"L",f,o,"z"]),a&&(n=b["stroke-width"]%2/2,p+=n,w+=n,nt=/%$/.test(a)?ht*parseFloat(a)/100:a/2,et=["M",t-nt,p,"L",t+nt,p,"M",t-nt,w,"L",t+nt,w]),n=k["stroke-width"]%2/2,rt=y(r.medianPlot)+n,ot=["M",f,rt,"L",d,rt],s)?(r.stem.animate({d:ut}),a&&r.whiskers.animate({d:et}),g&&r.box.animate({d:ft}),r.medianShape.animate({d:ot})):(r.graphic=s=v.g().add(e.group),r.stem=v.path(ut).attr(c).add(s),a&&(r.whiskers=v.path(et).attr(b).add(s)),g&&(r.box=v.path(ft).attr(it).add(s)),r.medianShape=v.path(ot).attr(k).add(s)))})},setStackedPoints:e});u.errorbar=f(u.boxplot,{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">●<\/span> {series.name}: <b>{point.low}<\/b> - <b>{point.high}<\/b><br/>'},whiskerWidth:null});t.errorbar=s(t.boxplot,{type:"errorbar",pointArrayMap:["low","high"],toYData:function(n){return[n.low,n.high]},pointValKey:"high",doQuartiles:!1,drawDataLabels:t.arearange?t.arearange.prototype.drawDataLabels:e,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||t.column.prototype.getColumnMetrics.call(this)}});u.waterfall=f(u.column,{lineWidth:1,lineColor:"#333",dashStyle:"dot",borderColor:"#333",dataLabels:{inside:!0},states:{hover:{lineWidthPlus:0}}});t.waterfall=s(t.column,{type:"waterfall",upColorProp:"fill",pointValKey:"y",translate:function(){var h=this.options,u=this.yAxis,o,a,r,n,c,f,e,l,s,v=i(h.minPointLength,5),p=h.threshold,w=h.stacking;for(t.column.prototype.translate.apply(this),this.minPointLengthOffset=0,e=l=p,a=this.points,o=0,h=a.length;o<h;o++)r=a[o],f=this.processedYData[o],n=r.shapeArgs,s=(c=w&&u.stacks[(this.negStacks&&f<p?"-":"")+this.stackKey])?c[r.x].points[this.index+","+o]:[0,f],r.isSum?r.y=f:r.isIntermediateSum&&(r.y=f-l),c=tt(e,e+r.y)+s[0],n.y=u.translate(c,0,1),r.isSum?(n.y=u.translate(s[1],0,1),n.height=Math.min(u.translate(s[0],0,1),u.len)-n.y+this.minPointLengthOffset):r.isIntermediateSum?(n.y=u.translate(s[1],0,1),n.height=Math.min(u.translate(l,0,1),u.len)-n.y+this.minPointLengthOffset,l=s[1]):(e!==0&&(n.height=f>0?u.translate(e,0,1)-n.y:u.translate(e,0,1)-u.translate(e-f,0,1)),e+=f),n.height<0&&(n.y+=n.height,n.height*=-1),r.plotY=n.y=y(n.y)-this.borderWidth%2/2,n.height=tt(y(n.height),.001),r.yBottom=n.y+n.height,n.height<=v&&(n.height=v,this.minPointLengthOffset+=v),n.y-=this.minPointLengthOffset,n=r.plotY+(r.negative?n.height:0)-this.minPointLengthOffset,this.chart.inverted?r.tooltipPos[0]=u.len-n:r.tooltipPos[1]=n},processData:function(n){for(var u=this.yData,o=this.options.data,s,l=u.length,c,f,e,r,i=c=f=e=this.options.threshold||0,t=0;t<l;t++)r=u[t],s=o&&o[t]?o[t]:{},r==="sum"||s.isSum?u[t]=i:r==="intermediateSum"||s.isIntermediateSum?u[t]=c:(i+=r,c+=r),f=Math.min(i,f),e=Math.max(i,e);h.prototype.processData.call(this,n);this.dataMin=f;this.dataMax=e},toYData:function(n){return n.isSum?n.x===0?null:"sum":n.isIntermediateSum?n.x===0?null:"intermediateSum":n.y},getAttribs:function(){t.column.prototype.getAttribs.apply(this,arguments);var i=this,o=i.options,h=o.states,u=o.upColor||i.color,o=n.Color(u).brighten(.1).get(),e=f(i.pointAttr),s=i.upColorProp;e[""][s]=u;e.hover[s]=h.hover.upColor||o;e.select[s]=h.select.upColor||u;r(i.points,function(n){n.options.color||(n.y>0?(n.pointAttr=e,n.color=u):n.pointAttr=i.pointAttr)})},getGraphPath:function(){for(var r=this.data,e=r.length,f=y(this.options.lineWidth+this.borderWidth)%2/2,u=[],n,t,i=1;i<e;i++)t=r[i].shapeArgs,n=r[i-1].shapeArgs,t=["M",n.x+n.width,n.y+f,"L",t.x,n.y+f],r[i-1].y<0&&(t[2]+=n.height,t[5]+=n.height),u=u.concat(t);return u},getExtremes:e,drawGraph:h.prototype.drawGraph});u.polygon=f(u.scatter,{marker:{enabled:!1}});t.polygon=s(t.scatter,{type:"polygon",fillGraph:!0,getSegmentPath:function(n){return h.prototype.getSegmentPath.call(this,n).concat("z")},drawGraph:h.prototype.drawGraph,drawLegendSymbol:n.LegendSymbolMixin.drawRectangle});u.bubble=f(u.scatter,{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"});a=s(k,{haloPath:function(){return k.prototype.haloPath.call(this,this.shapeArgs.r+this.series.options.states.hover.halo.size)},ttBelow:!1});t.bubble=s(t.scatter,{type:"bubble",pointClass:a,pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],bubblePadding:!0,zoneAxis:"z",pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor"},applyOpacity:function(n){var t=this.options.marker,r=i(t.fillOpacity,.5),n=n||t.fillColor||this.color;return r!==1&&(n=st(n).setOpacity(r).get("rgba")),n},convertAttribs:function(){var n=h.prototype.convertAttribs.apply(this,arguments);return n.fill=this.applyOpacity(n.fill),n},getRadii:function(n,t,i,r){for(var u,h=this.zData,l=[],e=this.options,v=e.sizeBy!=="width",o=e.zThreshold,a=t-n,f=0,s=h.length;f<s;f++)u=h[f],e.sizeByAbsoluteValue&&u!==null&&(u=Math.abs(u-o),t=Math.max(t-o,Math.abs(n-o)),n=0),u===null?u=null:u<n?u=i/2-1:(u=a>0?(u-n)/a:.5,v&&u>=0&&(u=Math.sqrt(u)),u=c.ceil(i+u*(r-i))/2),l.push(u);this.radii=l},animate:function(n){var t=this.options.animation;n||(r(this.points,function(n){var i=n.graphic,n=n.shapeArgs;i&&n&&(i.attr("r",1),i.animate({r:n.r},t))}),this.animate=null)},translate:function(){var r,u=this.data,n,i,f=this.radii;for(t.scatter.prototype.translate.call(this),r=u.length;r--;)n=u[r],i=f?f[r]:0,typeof i=="number"&&i>=this.minPxSize/2?(n.shapeType="circle",n.shapeArgs={x:n.plotX,y:n.plotY,r:i},n.dlBox={x:n.plotX-i,y:n.plotY-i,width:2*i,height:2*i}):n.shapeArgs=n.plotY=n.dlBox=void 0},drawLegendSymbol:function(n,t){var r=this.chart.renderer,i=r.fontMetrics(n.itemStyle.fontSize).f/2;t.legendSymbol=r.circle(i,n.baseline-i,i).attr({zIndex:3}).add(t.legendGroup);t.legendSymbol.isMarker=!0},drawPoints:t.column.prototype.drawPoints,alignDataLabel:t.column.prototype.alignDataLabel,buildKDTree:e,applyZones:e});nt.prototype.beforePadding=function(){var u=this,n=this.len,o=this.chart,f=0,t=n,s=this.isXAxis,b=s?"xData":"yData",h=this.min,l={},k=c.min(o.plotWidth,o.plotHeight),a=Number.MAX_VALUE,y=-Number.MAX_VALUE,p=this.max-h,e=n/p,w=[];r(this.series,function(n){var t=n.options;n.bubblePadding&&(n.visible||!o.options.chart.ignoreHiddenSeries)&&(u.allowZoomOutside=!0,w.push(n),s)&&(r(["minSize","maxSize"],function(n){var i=t[n],r=/%$/.test(i),i=v(i);l[n]=r?k*i/100:i}),n.minPxSize=l.minSize,n.maxPxSize=l.maxSize,n=n.zData,n.length&&(a=i(t.zMin,c.min(a,c.max(rt(n),t.displayNegative===!1?t.zThreshold:-Number.MAX_VALUE))),y=i(t.zMax,c.max(y,ut(n)))))});r(w,function(n){var r=n[b],i=r.length,u;if(s&&n.getRadii(a,y,n.minPxSize,n.maxPxSize),p>0)for(;i--;)typeof r[i]=="number"&&(u=n.radii[i],f=Math.min((r[i]-h)*e-u,f),t=Math.max((r[i]-h)*e+u,t))});w.length&&p>0&&!this.isLog&&(t-=n,e*=(n+f-t)/n,r([["min","userMin",f],["max","userMax",t]],function(n){i(u.options[n[0]],u[n[1]])===void 0&&(u[n[0]]+=n[2]/e)}))},function(){function f(n,t){var i=this.chart,r=this.options.animation,f=this.group,u=this.markerGroup,e=this.xAxis.center,o=i.plotLeft,s=i.plotTop;i.polar?i.renderer.isSVG&&(r===!0&&(r={}),t?(i={translateX:e[0]+o,translateY:e[1]+s,scaleX:.001,scaleY:.001},f.attr(i),u&&u.attr(i)):(i={translateX:o,translateY:s,scaleX:1,scaleY:1},f.animate(i,r),u&&u.animate(i,r),this.animate=null)):n.call(this,t)}var n=h.prototype,e=et.prototype,u;n.searchPointByAngle=function(n){var t=this.chart,i=this.xAxis.pane.center;return this.searchKDTree({clientX:180+Math.atan2(n.chartX-i[0]-t.plotLeft,n.chartY-i[1]-t.plotTop)*(-180/Math.PI)})};o(n,"buildKDTree",function(n){this.chart.polar&&(this.kdByAngle?this.searchPoint=this.searchPointByAngle:this.kdDimensions=2);n.apply(this)});n.toXY=function(n){var t,i=this.chart,r=n.plotX;t=n.plotY;n.rectPlotX=r;n.rectPlotY=t;t=this.xAxis.postTranslate(n.plotX,this.yAxis.len-t);n.plotX=n.polarPlotX=t.x-i.plotLeft;n.plotY=n.polarPlotY=t.y-i.plotTop;this.kdByAngle?(i=(r/Math.PI*180+this.xAxis.pane.options.startAngle)%360,i<0&&(i+=360),n.clientX=i):n.clientX=n.plotX};t.spline&&o(t.spline.prototype,"getPointSpline",function(n,t,i,r){var u,f,o,s,h,c,e;return this.chart.polar?(u=i.plotX,f=i.plotY,n=t[r-1],o=t[r+1],this.connectEnds&&(n||(n=t[t.length-2]),o||(o=t[1])),n&&o&&(s=n.plotX,h=n.plotY,t=o.plotX,c=o.plotY,s=(1.5*u+s)/2.5,h=(1.5*f+h)/2.5,o=(1.5*u+t)/2.5,e=(1.5*f+c)/2.5,t=Math.sqrt(Math.pow(s-u,2)+Math.pow(h-f,2)),c=Math.sqrt(Math.pow(o-u,2)+Math.pow(e-f,2)),s=Math.atan2(h-f,s-u),h=Math.atan2(e-f,o-u),e=Math.PI/2+(s+h)/2,Math.abs(s-e)>Math.PI/2&&(e-=Math.PI),s=u+Math.cos(e)*t,h=f+Math.sin(e)*t,o=u+Math.cos(Math.PI+e)*c,e=f+Math.sin(Math.PI+e)*c,i.rightContX=o,i.rightContY=e),r?(i=["C",n.rightContX||n.plotX,n.rightContY||n.plotY,s||u,h||f,u,f],n.rightContX=n.rightContY=null):i=["M",u,f]):i=n.call(this,t,i,r),i});o(n,"translate",function(n){var t=this.chart;if(n.call(this),t.polar&&(this.kdByAngle=t.tooltip&&t.tooltip.shared,!this.preventPostTranslate))for(n=this.points,t=n.length;t--;)this.toXY(n[t])});o(n,"getGraphPath",function(n,t){var i=this;return this.chart.polar&&(t=t||this.points,this.options.connectEnds!==!1&&t[0].y!==null&&(this.connectEnds=!0,t.splice(t.length,0,t[0])),r(t,function(n){n.polarPlotY===void 0&&i.toXY(n)})),n.apply(this,[].slice.call(arguments,1))});o(n,"animate",f);t.column&&(u=t.column.prototype,o(u,"animate",f),o(u,"translate",function(n){var r=this.xAxis,u=this.yAxis.len,f=r.center,o=r.startAngleRad,s=this.chart.renderer,t,e;if(this.preventPostTranslate=!0,n.call(this),r.isRadial)for(r=this.points,e=r.length;e--;)t=r[e],n=t.barX+o,t.shapeType="path",t.shapeArgs={d:s.symbols.arc(f[0],f[1],u-t.plotY,null,{start:n,end:n+t.pointWidth,innerR:u-i(t.yBottom,u)})},this.toXY(t),t.tooltipPos=[t.plotX,t.plotY],t.ttBelow=t.plotY>f[1]}),o(u,"alignDataLabel",function(t,i,r,u,f,e){this.chart.polar?(t=i.rectPlotX/Math.PI*180,u.align===null&&(u.align=t>20&&t<160?"left":t>200&&t<340?"right":"center"),u.verticalAlign===null&&(u.verticalAlign=t<45||t>315?"bottom":t>135&&t<225?"top":"middle"),n.alignDataLabel.call(this,i,r,u,f,e)):t.call(this,i,r,u,f,e)}));o(e,"getCoordinates",function(n,t){var i=this.chart,u={xAxis:[],yAxis:[]};return i.polar?r(i.axes,function(n){var f=n.isXAxis,r=n.center,e=t.chartX-r[0]-i.plotLeft,r=t.chartY-r[1]-i.plotTop;u[f?"xAxis":"yAxis"].push({axis:n,value:n.translate(f?Math.PI-Math.atan2(e,r):Math.sqrt(Math.pow(e,2)+Math.pow(r,2)),!0)})}):u=n.call(this,t),u})}()});